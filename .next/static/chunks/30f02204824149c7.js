(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,34139,e=>{"use strict";var t=e.i(43476),s=e.i(71645),r=e.i(3216),a=e.i(84093);e.i(23928);var n=e.i(17780);e.i(13917);var i=e.i(43098);function l({selectedDocumentCount:e,onGenerate:r,isGenerating:a=!1}){let[n,i]=(0,s.useState)(10),[l,o]=(0,s.useState)(["multiple-choice"]),[c,d]=(0,s.useState)("medium"),[m,u]=(0,s.useState)(!1),[x,h]=(0,s.useState)(15),p=e>0&&l.length>0&&!a,g=e=>{o(t=>t.includes(e)?1===t.length?t:t.filter(t=>t!==e):[...t,e])};return(0,t.jsxs)("form",{onSubmit:e=>{e.preventDefault(),p&&r({questionCount:n,questionTypes:l,difficulty:c,timeLimit:m?x:null})},className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"questionCount",className:"block text-sm font-medium text-gray-700",children:"Number of Questions"}),(0,t.jsxs)("div",{className:"mt-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("input",{type:"range",id:"questionCount",min:5,max:30,step:1,value:n,onChange:e=>i(Number(e.target.value)),className:"h-2 w-full cursor-pointer appearance-none rounded-lg bg-gray-200 accent-blue-600",disabled:a}),(0,t.jsx)("span",{className:"w-12 text-center text-sm font-semibold text-gray-900",children:n})]}),(0,t.jsxs)("div",{className:"mt-1 flex justify-between text-xs text-gray-500",children:[(0,t.jsx)("span",{children:"5"}),(0,t.jsx)("span",{children:"30"})]})]}),(0,t.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"Choose how many questions to generate (5-30)"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Question Types"}),(0,t.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"Select at least one question type"}),(0,t.jsxs)("div",{className:"mt-3 space-y-3",children:[(0,t.jsxs)("label",{className:"flex cursor-pointer items-center gap-3",children:[(0,t.jsx)("input",{type:"checkbox",checked:l.includes("multiple-choice"),onChange:()=>g("multiple-choice"),disabled:a,className:"h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("svg",{className:"h-5 w-5 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"})}),(0,t.jsx)("span",{className:"text-sm text-gray-700",children:"Multiple Choice"})]})]}),(0,t.jsxs)("label",{className:"flex cursor-pointer items-center gap-3",children:[(0,t.jsx)("input",{type:"checkbox",checked:l.includes("true-false"),onChange:()=>g("true-false"),disabled:a,className:"h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("svg",{className:"h-5 w-5 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,t.jsx)("span",{className:"text-sm text-gray-700",children:"True / False"})]})]}),(0,t.jsxs)("label",{className:"flex cursor-pointer items-center gap-3",children:[(0,t.jsx)("input",{type:"checkbox",checked:l.includes("short-answer"),onChange:()=>g("short-answer"),disabled:a,className:"h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("svg",{className:"h-5 w-5 text-purple-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),(0,t.jsx)("span",{className:"text-sm text-gray-700",children:"Short Answer"})]})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Difficulty Level"}),(0,t.jsx)("div",{className:"mt-2 flex gap-3",children:["easy","medium","hard"].map(e=>(0,t.jsx)("button",{type:"button",onClick:()=>d(e),disabled:a,className:`flex-1 rounded-lg border-2 px-4 py-3 text-sm font-medium transition-all ${c===e?"easy"===e?"border-green-500 bg-green-50 text-green-700":"medium"===e?"border-yellow-500 bg-yellow-50 text-yellow-700":"border-red-500 bg-red-50 text-red-700":"border-gray-200 bg-white text-gray-600 hover:border-gray-300 hover:bg-gray-50"} ${a?"cursor-not-allowed opacity-50":""}`,children:(0,t.jsxs)("div",{className:"flex flex-col items-center gap-1",children:["easy"===e&&(0,t.jsx)("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14.828 14.828a4 4 0 01-5.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"medium"===e&&(0,t.jsx)("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})}),"hard"===e&&(0,t.jsxs)("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 18.657A8 8 0 016.343 7.343S7 9 9 10c0-2 .5-5 2.986-7C14 5 16.09 5.777 17.656 7.343A7.975 7.975 0 0120 13a7.975 7.975 0 01-2.343 5.657z"}),(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.879 16.121A3 3 0 1012.015 11L11 14H9c0 .768.293 1.536.879 2.121z"})]}),(0,t.jsx)("span",{className:"capitalize",children:e})]})},e))}),(0,t.jsxs)("p",{className:"mt-2 text-xs text-gray-500",children:["easy"===c&&"Basic recall questions focusing on key terms and definitions","medium"===c&&"Balanced mix of recall and comprehension questions","hard"===c&&"Advanced questions requiring analysis and application"]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Time Limit"}),(0,t.jsx)("button",{type:"button",onClick:()=>u(!m),disabled:a,className:`relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 ${m?"bg-blue-600":"bg-gray-200"} ${a?"cursor-not-allowed opacity-50":""}`,role:"switch","aria-checked":m,children:(0,t.jsx)("span",{className:`pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out ${m?"translate-x-5":"translate-x-0"}`})})]}),m&&(0,t.jsxs)("div",{className:"mt-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("input",{type:"range",id:"timeLimit",min:5,max:60,step:5,value:x,onChange:e=>h(Number(e.target.value)),className:"h-2 w-full cursor-pointer appearance-none rounded-lg bg-gray-200 accent-blue-600",disabled:a}),(0,t.jsxs)("span",{className:"w-20 text-center text-sm font-semibold text-gray-900",children:[x," min"]})]}),(0,t.jsxs)("div",{className:"mt-1 flex justify-between text-xs text-gray-500",children:[(0,t.jsx)("span",{children:"5 min"}),(0,t.jsx)("span",{children:"60 min"})]})]}),(0,t.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:m?`Quiz will have a ${x} minute time limit`:"No time limit - take as long as you need"})]}),(0,t.jsxs)("div",{className:"pt-2",children:[(0,t.jsx)("button",{type:"submit",disabled:!p,className:`flex w-full items-center justify-center gap-2 rounded-lg px-6 py-3 text-sm font-semibold transition-all ${p?"bg-gradient-to-r from-blue-600 to-purple-600 text-white shadow-md hover:from-blue-700 hover:to-purple-700 hover:shadow-lg":"cursor-not-allowed bg-gray-200 text-gray-400"}`,children:a?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("svg",{className:"h-5 w-5 animate-spin",fill:"none",viewBox:"0 0 24 24",children:[(0,t.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,t.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),(0,t.jsx)("span",{children:"Generating..."})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})}),(0,t.jsx)("span",{children:"Generate Quiz"})]})}),0===e&&(0,t.jsx)("p",{className:"mt-2 text-center text-xs text-amber-600",children:"Please select at least one document to generate a quiz"}),e>0&&0===l.length&&(0,t.jsx)("p",{className:"mt-2 text-center text-xs text-amber-600",children:"Please select at least one question type"})]})]})}let o={easy:[{question:"What is the primary function of a CPU?",options:["Store data permanently","Process instructions and perform calculations","Display graphics","Connect to the internet"],correctAnswer:"Process instructions and perform calculations",explanation:"The CPU (Central Processing Unit) is the brain of the computer, responsible for executing instructions and performing calculations."},{question:"Which of the following is a programming language?",options:["HTML","CSS","Python","HTTP"],correctAnswer:"Python",explanation:"Python is a high-level programming language. HTML and CSS are markup/styling languages, and HTTP is a protocol."},{question:"What does RAM stand for?",options:["Random Access Memory","Read Access Memory","Rapid Access Module","Remote Access Memory"],correctAnswer:"Random Access Memory",explanation:"RAM stands for Random Access Memory, which is volatile memory used for temporary data storage during program execution."},{question:"Which company developed the Windows operating system?",options:["Apple","Google","Microsoft","IBM"],correctAnswer:"Microsoft",explanation:"Microsoft developed and maintains the Windows operating system, first released in 1985."},{question:"What is the file extension for a Python script?",options:[".java",".py",".js",".cpp"],correctAnswer:".py",explanation:"Python scripts use the .py file extension."}],medium:[{question:"What is the time complexity of binary search?",options:["O(n)","O(log n)","O(nÂ²)","O(1)"],correctAnswer:"O(log n)",explanation:"Binary search has O(log n) time complexity because it halves the search space with each comparison."},{question:"Which data structure uses LIFO (Last In, First Out)?",options:["Queue","Stack","Array","Linked List"],correctAnswer:"Stack",explanation:"A stack follows LIFO principle where the last element added is the first one to be removed."},{question:"What is the purpose of an index in a database?",options:["Store backup data","Speed up data retrieval","Encrypt sensitive data","Compress table size"],correctAnswer:"Speed up data retrieval",explanation:"Database indexes improve query performance by providing quick access paths to data, similar to a book index."},{question:"Which HTTP method is typically used to update a resource?",options:["GET","POST","PUT","DELETE"],correctAnswer:"PUT",explanation:"PUT is used to update or replace an existing resource. POST creates new resources, GET retrieves, and DELETE removes."},{question:"What is polymorphism in OOP?",options:["Hiding implementation details","Objects taking multiple forms","Inheriting from parent class","Grouping related data"],correctAnswer:"Objects taking multiple forms",explanation:"Polymorphism allows objects of different classes to be treated as objects of a common parent class, enabling different behaviors."}],hard:[{question:"Which algorithm is NOT suitable for finding the shortest path in a weighted graph with negative edges?",options:["Bellman-Ford","Dijkstra's","Floyd-Warshall","SPFA"],correctAnswer:"Dijkstra's",explanation:"Dijkstra's algorithm doesn't work correctly with negative edge weights because it assumes the shortest path to a node is finalized once visited."},{question:"What is the space complexity of merge sort?",options:["O(1)","O(log n)","O(n)","O(n log n)"],correctAnswer:"O(n)",explanation:"Merge sort requires O(n) auxiliary space for the temporary arrays used during merging."},{question:"In distributed systems, what does the 'P' in CAP theorem stand for?",options:["Performance","Partition tolerance","Persistence","Parallelism"],correctAnswer:"Partition tolerance",explanation:"CAP theorem states that distributed systems can only guarantee two of: Consistency, Availability, and Partition tolerance."},{question:"Which design pattern ensures a class has only one instance?",options:["Factory","Observer","Singleton","Strategy"],correctAnswer:"Singleton",explanation:"The Singleton pattern restricts instantiation of a class to a single instance and provides global access to it."},{question:"What is the purpose of a bloom filter?",options:["Sort data efficiently","Test set membership probabilistically","Compress data","Balance binary trees"],correctAnswer:"Test set membership probabilistically",explanation:"Bloom filters are space-efficient probabilistic data structures for testing whether an element is in a set, with possible false positives but no false negatives."}]},c={easy:[{question:"JavaScript and Java are the same programming language.",correctAnswer:"False",explanation:"Despite similar names, JavaScript and Java are completely different languages with different purposes and syntax."},{question:"HTML is a programming language.",correctAnswer:"False",explanation:"HTML (HyperText Markup Language) is a markup language used to structure content, not a programming language."},{question:"A byte consists of 8 bits.",correctAnswer:"True",explanation:"A byte is a unit of digital information that consists of 8 bits."},{question:"Python uses indentation to define code blocks.",correctAnswer:"True",explanation:"Python uses whitespace indentation to delimit code blocks, unlike languages that use braces."},{question:"The internet and the World Wide Web are the same thing.",correctAnswer:"False",explanation:"The internet is the global network infrastructure, while the World Wide Web is a service that runs on the internet."}],medium:[{question:"In a binary search tree, the left child is always greater than the parent.",correctAnswer:"False",explanation:"In a BST, the left child is always less than the parent, and the right child is always greater."},{question:"TCP guarantees delivery of packets in order.",correctAnswer:"True",explanation:"TCP (Transmission Control Protocol) provides reliable, ordered delivery of data packets."},{question:"A hash table has O(1) average time complexity for lookups.",correctAnswer:"True",explanation:"Hash tables provide constant-time average case for insertions, deletions, and lookups."},{question:"REST APIs must use JSON for data exchange.",correctAnswer:"False",explanation:"REST APIs can use various formats including JSON, XML, HTML, or plain text. JSON is common but not required."},{question:"Recursion always uses more memory than iteration.",correctAnswer:"False",explanation:"While recursion typically uses stack space, tail-call optimization can make it as efficient as iteration in some languages."}],hard:[{question:"In eventual consistency, all reads will immediately return the most recent write.",correctAnswer:"False",explanation:"Eventual consistency only guarantees that all replicas will eventually converge to the same value, not immediate consistency."},{question:"A red-black tree guarantees O(log n) time for insertions.",correctAnswer:"True",explanation:"Red-black trees are self-balancing BSTs that maintain O(log n) height, ensuring O(log n) operations."},{question:"Deadlock can occur with only one resource type.",correctAnswer:"False",explanation:"Deadlock requires circular wait, which needs at least two different resource types for processes to wait on each other."},{question:"The halting problem is decidable for all programs.",correctAnswer:"False",explanation:"The halting problem is undecidable - there's no general algorithm to determine if any program will halt."},{question:"Microservices architecture always improves system performance.",correctAnswer:"False",explanation:"Microservices add network overhead and complexity. They improve scalability and maintainability but may reduce performance."}]},d={easy:[{question:"What does HTTP stand for?",correctAnswer:"HyperText Transfer Protocol",explanation:"HTTP is the foundation of data communication on the World Wide Web."},{question:"Name the operator used for equality comparison in most programming languages.",correctAnswer:"==",explanation:"The double equals (==) operator is commonly used for equality comparison."},{question:"What is the output of 2 + 2 * 3?",correctAnswer:"8",explanation:"Following order of operations (PEMDAS), multiplication is performed before addition: 2 + 6 = 8."},{question:"What command is used to install packages in npm?",correctAnswer:"npm install",explanation:"The 'npm install' command installs packages from the npm registry."},{question:"What symbol is used for single-line comments in Python?",correctAnswer:"#",explanation:"Python uses the hash symbol (#) for single-line comments."}],medium:[{question:"What is the Big O notation for accessing an element in an array by index?",correctAnswer:"O(1)",explanation:"Array access by index is constant time because arrays store elements in contiguous memory locations."},{question:"Name the HTTP status code for 'Not Found'.",correctAnswer:"404",explanation:"HTTP 404 indicates that the server cannot find the requested resource."},{question:"What design pattern is used when you want to notify multiple objects about state changes?",correctAnswer:"Observer",explanation:"The Observer pattern defines a one-to-many dependency between objects for state change notifications."},{question:"What is the default port for HTTPS?",correctAnswer:"443",explanation:"HTTPS uses port 443 by default, while HTTP uses port 80."},{question:"In Git, what command creates a new branch?",correctAnswer:"git branch",explanation:"The 'git branch <name>' command creates a new branch. 'git checkout -b' creates and switches to it."}],hard:[{question:"What is the amortized time complexity of dynamic array insertion?",correctAnswer:"O(1)",explanation:"While individual insertions may be O(n) when resizing, the amortized cost over many insertions is O(1)."},{question:"Name the consensus algorithm used by Bitcoin.",correctAnswer:"Proof of Work",explanation:"Bitcoin uses Proof of Work (PoW) where miners solve computational puzzles to validate transactions."},{question:"What is the maximum number of children a node can have in a B-tree of order m?",correctAnswer:"m",explanation:"In a B-tree of order m, each node can have at most m children and m-1 keys."},{question:"What isolation level prevents phantom reads in SQL?",correctAnswer:"Serializable",explanation:"Serializable is the highest isolation level and prevents all concurrency anomalies including phantom reads."},{question:"Name the theorem that states it's impossible to have both safety and liveness in an asynchronous system.",correctAnswer:"FLP",explanation:"The FLP impossibility result shows consensus is impossible in asynchronous systems with even one faulty process."}]};function m(){return`quiz_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}function u(e){let t=[...e];for(let e=t.length-1;e>0;e--){let s=Math.floor(Math.random()*(e+1)),r=t[e];t[e]=t[s],t[s]=r}return t}var x=e.i(93582);function h({quiz:e,onComplete:r,onBack:a}){let n,i,[l,o]=(0,s.useState)(0),[c,d]=(0,s.useState)(new Map),[m,u]=(0,s.useState)(e.timeLimit?60*e.timeLimit:null),[h]=(0,s.useState)(Date.now()),[p,g]=(0,s.useState)(!1),f=(0,s.useRef)(null),b=e.questions[l],y=e.questions.length,j=c.size;(0,s.useEffect)(()=>{if(null!==e.timeLimit)return f.current=setInterval(()=>{u(e=>null===e||e<=0?(f.current&&clearInterval(f.current),0):e-1)},1e3),()=>{f.current&&clearInterval(f.current)}},[e.timeLimit]);let w=(0,s.useRef)(null);(0,s.useEffect)(()=>{w.current=()=>{let t,s;f.current&&clearInterval(f.current);let a=Math.floor((Date.now()-h)/1e3),n=e.questions.map(e=>({questionId:e.id,answer:c.get(e.id)||""}));r((s=Math.round((t=n.map(t=>{var s;let r=e.questions.find(e=>e.id===t.questionId),a=!!r&&(s=t.answer,"short-answer"===r.type?s.trim().toLowerCase()===r.correctAnswer.trim().toLowerCase():s===r.correctAnswer);return{...t,isCorrect:a}})).filter(e=>e.isCorrect).length/e.questions.length*100),{quizId:e.id,answers:t,score:s,totalQuestions:e.questions.length,timeTaken:a,completedAt:new Date}))}},[e,c,h,r]),(0,s.useEffect)(()=>{0===m&&w.current&&w.current()},[m]);let v=()=>null===m?"text-gray-600":m<=60?"text-red-600 animate-pulse":m<=300?"text-orange-500":"text-gray-600",N=(0,s.useCallback)((e,t)=>{d(s=>{let r=new Map(s);return r.set(e,t),r})},[]),k=(0,s.useCallback)(()=>{l>0&&o(e=>e-1)},[l]),C=(0,s.useCallback)(()=>{l<y-1&&o(e=>e+1)},[l,y]),q=(0,s.useCallback)(e=>{o(e)},[]),A=(0,s.useCallback)(()=>{w.current&&w.current()},[]),T=(0,s.useCallback)(()=>{y-j>0?g(!0):A()},[y,j,A]);return(0,t.jsxs)("div",{className:"flex flex-col lg:flex-row gap-4 sm:gap-6",children:[(0,t.jsxs)("div",{className:"flex-1 space-y-4 sm:space-y-6",children:[(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 sm:gap-4 rounded-lg border border-gray-200 bg-white p-3 sm:p-4 shadow-sm",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 sm:gap-4",children:[a&&(0,t.jsx)("button",{onClick:a,className:"flex items-center gap-1 p-1.5 -ml-1.5 text-gray-600 hover:text-gray-900 active:scale-95",children:(0,t.jsx)("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})}),(0,t.jsxs)("div",{className:"min-w-0",children:[(0,t.jsx)("h2",{className:"text-base sm:text-lg font-semibold text-gray-900 truncate",children:e.name}),(0,t.jsxs)("p",{className:"text-xs sm:text-sm text-gray-500",children:[j," of ",y," answered"]})]})]}),null!==m&&(0,t.jsxs)("div",{className:`flex items-center justify-center gap-2 rounded-lg px-3 sm:px-4 py-2 ${m<=60?"bg-red-50":m<=300?"bg-orange-50":"bg-gray-50"}`,children:[(0,t.jsx)("svg",{className:`h-5 w-5 ${v()}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,t.jsx)("span",{className:`text-base sm:text-lg font-mono font-semibold ${v()}`,children:(n=Math.floor(m/60),`${n}:${(m%60).toString().padStart(2,"0")}`)})]})]}),b&&(0,t.jsxs)("div",{className:"rounded-lg border border-gray-200 bg-white p-6 shadow-sm",children:[(0,t.jsxs)("div",{className:"mb-4 flex items-center justify-between",children:[(0,t.jsxs)("span",{className:"text-sm font-medium text-gray-500",children:["Question ",l+1," of ",y]}),(0,t.jsxs)("span",{className:`rounded-full px-3 py-1 text-xs font-medium ${"multiple-choice"===b.type?"bg-blue-100 text-blue-700":"true-false"===b.type?"bg-green-100 text-green-700":"bg-purple-100 text-purple-700"}`,children:["multiple-choice"===b.type&&"Multiple Choice","true-false"===b.type&&"True / False","short-answer"===b.type&&"Short Answer"]})]}),(0,t.jsx)("h3",{className:"mb-6 text-xl font-medium text-gray-900",children:b.question}),(i=c.get(b.id)||"","multiple-choice"===b.type||"true-false"===b.type?(0,t.jsx)("div",{className:"space-y-3",children:b.options?.map((e,s)=>(0,t.jsxs)("label",{className:`flex cursor-pointer items-center gap-3 rounded-lg border-2 p-4 transition-all ${i===e?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"}`,children:[(0,t.jsx)("input",{type:"radio",name:`question-${b.id}`,value:e,checked:i===e,onChange:()=>N(b.id,e),className:"h-4 w-4 text-blue-600 focus:ring-blue-500"}),(0,t.jsx)("span",{className:"text-gray-900",children:e})]},s))}):"short-answer"===b.type?(0,t.jsxs)("div",{children:[(0,t.jsx)("input",{type:"text",value:i,onChange:e=>N(b.id,e.target.value),placeholder:"Type your answer here...",className:"w-full rounded-lg border-2 border-gray-200 px-4 py-3 text-gray-900 placeholder-gray-400 focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500"}),(0,t.jsx)("p",{className:"mt-2 text-xs text-gray-500",children:"Enter your answer. Spelling and capitalization are flexible."})]}):null)]}),(0,t.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,t.jsxs)("button",{onClick:k,disabled:0===l,className:`flex items-center gap-1 sm:gap-2 rounded-lg px-3 sm:px-4 py-2.5 sm:py-2 text-sm font-medium transition-colors active:scale-95 ${0===l?"cursor-not-allowed text-gray-300":"text-gray-600 hover:bg-gray-100 hover:text-gray-900"}`,children:[(0,t.jsx)("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),(0,t.jsx)("span",{className:"hidden sm:inline",children:"Previous"}),(0,t.jsx)("span",{className:"sm:hidden",children:"Prev"})]}),(0,t.jsxs)("button",{onClick:T,className:"flex items-center gap-1.5 sm:gap-2 rounded-lg bg-gradient-to-r from-blue-600 to-purple-600 px-4 sm:px-6 py-2.5 sm:py-2 text-sm font-semibold text-white shadow-md hover:from-blue-700 hover:to-purple-700 active:scale-[0.98]",children:[(0,t.jsx)("svg",{className:"h-4 sm:h-5 w-4 sm:w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,t.jsx)("span",{className:"hidden sm:inline",children:"Submit Quiz"}),(0,t.jsx)("span",{className:"sm:hidden",children:"Submit"})]}),(0,t.jsxs)("button",{onClick:C,disabled:l===y-1,className:`flex items-center gap-1 sm:gap-2 rounded-lg px-3 sm:px-4 py-2.5 sm:py-2 text-sm font-medium transition-colors active:scale-95 ${l===y-1?"cursor-not-allowed text-gray-300":"text-gray-600 hover:bg-gray-100 hover:text-gray-900"}`,children:[(0,t.jsx)("span",{children:"Next"}),(0,t.jsx)("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})]}),(0,t.jsx)("div",{className:"lg:w-64",children:(0,t.jsxs)("div",{className:"rounded-lg border border-gray-200 bg-white p-3 sm:p-4 shadow-sm lg:sticky lg:top-4",children:[(0,t.jsx)("h3",{className:"mb-3 sm:mb-4 text-sm font-semibold text-gray-900",children:"Questions"}),(0,t.jsxs)("div",{className:"mb-3 sm:mb-4 flex flex-wrap gap-2 sm:gap-3 text-xs",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)("span",{className:"h-2.5 w-2.5 sm:h-3 sm:w-3 rounded-full bg-blue-600"}),(0,t.jsx)("span",{className:"text-gray-600",children:"Current"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)("span",{className:"h-2.5 w-2.5 sm:h-3 sm:w-3 rounded-full bg-green-500"}),(0,t.jsx)("span",{className:"text-gray-600",children:"Answered"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)("span",{className:"h-2.5 w-2.5 sm:h-3 sm:w-3 rounded-full bg-gray-300"}),(0,t.jsx)("span",{className:"text-gray-600",children:"Unanswered"})]})]}),(0,t.jsx)("div",{className:"grid grid-cols-6 sm:grid-cols-5 gap-1.5 sm:gap-2",children:e.questions.map((s,r)=>{let a=(t=>{if(t===l)return"current";let s=e.questions[t];return s&&c.has(s.id)?"answered":"unanswered"})(r);return(0,t.jsx)("button",{onClick:()=>q(r),className:`flex h-9 w-9 sm:h-10 sm:w-10 items-center justify-center rounded-lg border text-xs sm:text-sm font-medium transition-all active:scale-95 ${(e=>{switch(e){case"current":return"bg-blue-600 text-white";case"answered":return"bg-green-100 text-green-700 border-green-300";case"unanswered":return"bg-gray-100 text-gray-600 border-gray-200"}})(a)}`,title:`Question ${r+1} - ${a}`,children:r+1},s.id)})}),(0,t.jsxs)("div",{className:"mt-3 sm:mt-4 pt-3 sm:pt-4 border-t border-gray-200",children:[(0,t.jsxs)("div",{className:"flex justify-between text-xs sm:text-sm",children:[(0,t.jsx)("span",{className:"text-gray-600",children:"Progress"}),(0,t.jsxs)("span",{className:"font-medium text-gray-900",children:[Math.round(j/y*100),"%"]})]}),(0,t.jsx)("div",{className:"mt-2 h-1.5 sm:h-2 w-full rounded-full bg-gray-200",children:(0,t.jsx)("div",{className:"h-1.5 sm:h-2 rounded-full bg-gradient-to-r from-blue-500 to-purple-500 transition-all",style:{width:`${j/y*100}%`}})})]})]})}),(0,t.jsx)(x.ConfirmDialog,{isOpen:p,title:"Submit Quiz?",message:`You have ${y-j} unanswered question${y-j!=1?"s":""}. Are you sure you want to submit?`,confirmLabel:"Submit Anyway",cancelLabel:"Continue Quiz",variant:"warning",onConfirm:()=>{g(!1),A()},onCancel:()=>g(!1)})]})}function p({question:e,userAnswer:r,isCorrect:a,questionNumber:n}){let[i,l]=(0,s.useState)(!1);return(0,t.jsxs)("div",{className:`rounded-lg border-2 p-4 transition-all ${a?"border-green-200 bg-green-50":"border-red-200 bg-red-50"}`,children:[(0,t.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,t.jsx)("span",{className:`flex h-6 w-6 items-center justify-center rounded-full text-xs font-bold ${a?"bg-green-500 text-white":"bg-red-500 text-white"}`,children:n}),(0,t.jsxs)("span",{className:`rounded-full px-2 py-0.5 text-xs font-medium ${"multiple-choice"===e.type?"bg-blue-100 text-blue-700":"true-false"===e.type?"bg-purple-100 text-purple-700":"bg-orange-100 text-orange-700"}`,children:["multiple-choice"===e.type&&"Multiple Choice","true-false"===e.type&&"True/False","short-answer"===e.type&&"Short Answer"]}),a?(0,t.jsxs)("span",{className:"flex items-center gap-1 text-xs font-medium text-green-700",children:[(0,t.jsx)("svg",{className:"h-4 w-4",fill:"currentColor",viewBox:"0 0 20 20",children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),"Correct"]}):(0,t.jsxs)("span",{className:"flex items-center gap-1 text-xs font-medium text-red-700",children:[(0,t.jsx)("svg",{className:"h-4 w-4",fill:"currentColor",viewBox:"0 0 20 20",children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),"Incorrect"]})]}),(0,t.jsx)("p",{className:"text-gray-900 font-medium",children:e.question})]}),(0,t.jsx)("button",{onClick:()=>l(!i),className:"flex-shrink-0 rounded-lg p-2 text-gray-500 hover:bg-white hover:text-gray-700",children:(0,t.jsx)("svg",{className:`h-5 w-5 transition-transform ${i?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]}),i&&(0,t.jsxs)("div",{className:"mt-4 space-y-3 border-t border-gray-200 pt-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide mb-1",children:"Your Answer"}),(0,t.jsx)("p",{className:`text-sm ${a?"text-green-700":"text-red-700"}`,children:r||(0,t.jsx)("span",{className:"italic text-gray-400",children:"No answer provided"})})]}),!a&&(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide mb-1",children:"Correct Answer"}),(0,t.jsx)("p",{className:"text-sm text-green-700 font-medium",children:e.correctAnswer})]}),(0,t.jsxs)("div",{className:"rounded-lg bg-white p-3",children:[(0,t.jsx)("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide mb-1",children:"Explanation"}),(0,t.jsx)("p",{className:"text-sm text-gray-700",children:e.explanation})]})]})]})}function g({percentage:e,size:s=160}){let r=(s-12)/2,a=2*r*Math.PI,n=e>=80?{stroke:"#22c55e",bg:"#dcfce7"}:e>=60?{stroke:"#3b82f6",bg:"#dbeafe"}:e>=40?{stroke:"#f59e0b",bg:"#fef3c7"}:{stroke:"#ef4444",bg:"#fee2e2"};return(0,t.jsxs)("div",{className:"relative",style:{width:s,height:s},children:[(0,t.jsxs)("svg",{className:"transform -rotate-90",width:s,height:s,children:[(0,t.jsx)("circle",{cx:s/2,cy:s/2,r:r,fill:"none",stroke:n.bg,strokeWidth:12}),(0,t.jsx)("circle",{cx:s/2,cy:s/2,r:r,fill:"none",stroke:n.stroke,strokeWidth:12,strokeLinecap:"round",strokeDasharray:a,strokeDashoffset:a-e/100*a,className:"transition-all duration-1000 ease-out"})]}),(0,t.jsxs)("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[(0,t.jsxs)("span",{className:"text-4xl font-bold text-gray-900",children:[e,"%"]}),(0,t.jsx)("span",{className:"text-sm text-gray-500",children:"Score"})]})]})}function f({quiz:e,result:r,onRetake:a,onSaveResults:n,onShare:i,onBack:l}){var o;let[c,d]=(0,s.useState)("summary"),[m,u]=(0,s.useState)(!1),x=(0,s.useMemo)(()=>{let t={};return e.questions.forEach(e=>{let s=r.answers.find(t=>t.questionId===e.id),a=e.type;t[a]||(t[a]={correct:0,total:0}),t[a].total++,s?.isCorrect&&t[a].correct++}),t},[e.questions,r.answers]),h=r.answers.filter(e=>e.isCorrect).length,f=r.totalQuestions-h,b=e=>{let t=Math.floor(e/60),s=e%60;return 0===t?`${s} seconds`:`${t}m ${s}s`},y=(o=r.score)>=90?{label:"Excellent!",color:"text-green-600"}:o>=80?{label:"Great Job!",color:"text-green-600"}:o>=70?{label:"Good Work!",color:"text-blue-600"}:o>=60?{label:"Not Bad!",color:"text-blue-600"}:o>=50?{label:"Keep Practicing",color:"text-amber-600"}:{label:"Needs Improvement",color:"text-red-600"},j=async()=>{let t=`I scored ${r.score}% on "${e.name}"! ${h}/${r.totalQuestions} correct answers.`;if(navigator.share)try{await navigator.share({title:"Quiz Results",text:t})}catch{await navigator.clipboard.writeText(t),u(!0),setTimeout(()=>u(!1),2e3)}else await navigator.clipboard.writeText(t),u(!0),setTimeout(()=>u(!1),2e3);i?.()};return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[l&&(0,t.jsx)("button",{onClick:l,className:"flex items-center gap-1 text-gray-600 hover:text-gray-900",children:(0,t.jsx)("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Quiz Results"}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:e.name})]})]}),(0,t.jsxs)("div",{className:"flex rounded-lg border border-gray-200 bg-gray-50 p-1",children:[(0,t.jsx)("button",{onClick:()=>d("summary"),className:`rounded-md px-4 py-2 text-sm font-medium transition-colors ${"summary"===c?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:"Summary"}),(0,t.jsx)("button",{onClick:()=>d("review"),className:`rounded-md px-4 py-2 text-sm font-medium transition-colors ${"review"===c?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:"Review Answers"})]})]}),"summary"===c?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"rounded-lg border border-gray-200 bg-white p-6 shadow-sm",children:(0,t.jsxs)("div",{className:"flex flex-col md:flex-row items-center gap-8",children:[(0,t.jsx)("div",{className:"flex-shrink-0",children:(0,t.jsx)(g,{percentage:r.score})}),(0,t.jsxs)("div",{className:"flex-1 text-center md:text-left",children:[(0,t.jsx)("h2",{className:`text-3xl font-bold ${y.color}`,children:y.label}),(0,t.jsxs)("p",{className:"mt-2 text-gray-600",children:["You answered ",h," out of ",r.totalQuestions," questions correctly."]}),(0,t.jsxs)("div",{className:"mt-4 flex flex-wrap justify-center md:justify-start gap-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-green-100",children:(0,t.jsx)("svg",{className:"h-4 w-4 text-green-600",fill:"currentColor",viewBox:"0 0 20 20",children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-900",children:h}),(0,t.jsx)("p",{className:"text-xs text-gray-500",children:"Correct"})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-red-100",children:(0,t.jsx)("svg",{className:"h-4 w-4 text-red-600",fill:"currentColor",viewBox:"0 0 20 20",children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-900",children:f}),(0,t.jsx)("p",{className:"text-xs text-gray-500",children:"Incorrect"})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-blue-100",children:(0,t.jsx)("svg",{className:"h-4 w-4 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-900",children:b(r.timeTaken)}),(0,t.jsx)("p",{className:"text-xs text-gray-500",children:"Time Taken"})]})]})]})]})]})}),(0,t.jsxs)("div",{className:"rounded-lg border border-gray-200 bg-white p-6 shadow-sm",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Performance by Question Type"}),(0,t.jsx)("div",{className:"space-y-4",children:Object.entries(x).map(([e,s])=>{let r=Math.round(s.correct/s.total*100);return(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,t.jsx)("span",{className:"text-sm font-medium text-gray-700",children:(e=>{switch(e){case"multiple-choice":return"Multiple Choice";case"true-false":return"True/False";case"short-answer":return"Short Answer";default:return e}})(e)}),(0,t.jsxs)("span",{className:"text-sm text-gray-500",children:[s.correct,"/",s.total," (",r,"%)"]})]}),(0,t.jsx)("div",{className:"h-2 w-full rounded-full bg-gray-200",children:(0,t.jsx)("div",{className:`h-2 rounded-full transition-all duration-500 ${r>=70?"bg-green-500":r>=50?"bg-amber-500":"bg-red-500"}`,style:{width:`${r}%`}})})]},e)})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,t.jsxs)("div",{className:"rounded-lg border border-gray-200 bg-white p-4 text-center",children:[(0,t.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:r.totalQuestions}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Total Questions"})]}),(0,t.jsxs)("div",{className:"rounded-lg border border-gray-200 bg-white p-4 text-center",children:[(0,t.jsx)("p",{className:"text-2xl font-bold text-green-600",children:h}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Correct"})]}),(0,t.jsxs)("div",{className:"rounded-lg border border-gray-200 bg-white p-4 text-center",children:[(0,t.jsx)("p",{className:"text-2xl font-bold text-red-600",children:f}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Incorrect"})]}),(0,t.jsxs)("div",{className:"rounded-lg border border-gray-200 bg-white p-4 text-center",children:[(0,t.jsx)("p",{className:"text-2xl font-bold text-blue-600",children:b(r.timeTaken)}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Time Taken"})]})]})]}):(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("div",{className:"rounded-lg border border-gray-200 bg-white p-4 shadow-sm",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Click on any question to expand and see the explanation."}),(0,t.jsxs)("div",{className:"flex items-center gap-4 text-sm",children:[(0,t.jsxs)("span",{className:"flex items-center gap-1 text-green-600",children:[(0,t.jsx)("span",{className:"h-2 w-2 rounded-full bg-green-500"}),h," Correct"]}),(0,t.jsxs)("span",{className:"flex items-center gap-1 text-red-600",children:[(0,t.jsx)("span",{className:"h-2 w-2 rounded-full bg-red-500"}),f," Incorrect"]})]})]})}),e.questions.map((e,s)=>{let a=r.answers.find(t=>t.questionId===e.id);return(0,t.jsx)(p,{question:e,userAnswer:a?.answer||"",isCorrect:a?.isCorrect||!1,questionNumber:s+1},e.id)})]}),(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4 pt-4",children:[(0,t.jsxs)("button",{onClick:a,className:"flex w-full sm:w-auto items-center justify-center gap-2 rounded-lg bg-gradient-to-r from-blue-600 to-purple-600 px-6 py-3 text-sm font-semibold text-white shadow-md hover:from-blue-700 hover:to-purple-700 transition-all",children:[(0,t.jsx)("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Retake Quiz"]}),n&&(0,t.jsxs)("button",{onClick:n,className:"flex w-full sm:w-auto items-center justify-center gap-2 rounded-lg border border-gray-300 bg-white px-6 py-3 text-sm font-semibold text-gray-700 shadow-sm hover:bg-gray-50 transition-all",children:[(0,t.jsx)("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4"})}),"Save Results"]}),(0,t.jsx)("button",{onClick:j,className:"flex w-full sm:w-auto items-center justify-center gap-2 rounded-lg border border-gray-300 bg-white px-6 py-3 text-sm font-semibold text-gray-700 shadow-sm hover:bg-gray-50 transition-all relative",children:m?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("svg",{className:"h-5 w-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Copied!"]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z"})}),"Share Score"]})})]})]})}var b=e.i(18339),y=e.i(77001);function j(){let{user:e}=(0,a.useAuth)(),{folders:r,fetchFolders:x,loading:p}=(0,b.useFolders)(),{documents:g,fetchDocuments:j,loading:w}=(0,y.useDocuments)(),[v,N]=(0,s.useState)(new Set),[k,C]=(0,s.useState)("selection"),[q,A]=(0,s.useState)(null),[T,L]=(0,s.useState)(null),[M,S]=(0,s.useState)(null),[W,P]=(0,s.useState)(0);(0,s.useEffect)(()=>{e?.uid&&(x(),j())},[e?.uid,x,j]);let z=(0,s.useCallback)(e=>{N(e)},[]),B=(0,s.useCallback)(async e=>{A(e),C("generating"),P(0);try{var t,s;let r=await (t=Array.from(v),s=e=>P(e),new Promise(r=>{let a=2e3+300*t.length+100*e.questionCount,n=0,i=setInterval(()=>{let e=Math.min((n+=200)/a*100,95);s?.(e)},200);setTimeout(()=>{clearInterval(i),s?.(100),r(function(e,t){let{questionCount:s,questionTypes:r,difficulty:a,timeLimit:n}=e,i=Math.ceil(s/r.length),l=[];for(let e of r)l=[...l,...function(e,t,s){let r=[];if("multiple-choice"===e){let e=u(o[t]);for(let a=0;a<Math.min(s,e.length);a++){let s=e[a];s&&r.push({id:m(),type:"multiple-choice",question:s.question,options:u(s.options),correctAnswer:s.correctAnswer,explanation:s.explanation,difficulty:t})}}else if("true-false"===e){let e=u(c[t]);for(let a=0;a<Math.min(s,e.length);a++){let s=e[a];s&&r.push({id:m(),type:"true-false",question:s.question,options:["True","False"],correctAnswer:s.correctAnswer,explanation:s.explanation,difficulty:t})}}else if("short-answer"===e){let e=u(d[t]);for(let a=0;a<Math.min(s,e.length);a++){let s=e[a];s&&r.push({id:m(),type:"short-answer",question:s.question,correctAnswer:s.correctAnswer,explanation:s.explanation,difficulty:t})}}return r}(e,a,i)];for(l=u(l).slice(0,s);l.length<s&&l.length>0;){let e=l[l.length%l.length];e&&l.push({...e,id:m(),question:`${e.question} (Review)`})}return{id:m(),name:`Quiz - ${new Date().toLocaleDateString()}`,questions:l,sourceDocumentIds:t,config:e,timeLimit:n,createdAt:new Date}}(e,t))},a)}));L(r),C("taking")}catch(e){console.error("Quiz generation failed:",e),C("selection"),A(null)}},[v]),$=(0,s.useCallback)(e=>{S(e),C("results")},[]),O=(0,s.useCallback)(()=>{C("selection"),A(null),L(null),S(null)},[]),F=v.size,D=(0,s.useCallback)(()=>{T&&(S(null),C("taking"))},[T]),I=(0,s.useCallback)(()=>{},[]),R=(0,s.useCallback)(()=>{},[]);return"results"===k&&M&&T?(0,t.jsx)(n.DashboardLayout,{children:(0,t.jsx)("div",{className:"mx-auto max-w-4xl",children:(0,t.jsx)(f,{quiz:T,result:M,onRetake:D,onSaveResults:I,onShare:R,onBack:O})})}):"taking"===k&&T?(0,t.jsx)(n.DashboardLayout,{children:(0,t.jsx)("div",{className:"mx-auto max-w-6xl",children:(0,t.jsx)(h,{quiz:T,onComplete:$,onBack:O})})}):"generating"===k&&q?(0,t.jsx)(n.DashboardLayout,{children:(0,t.jsxs)("div",{className:"mx-auto max-w-4xl space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Generating Quiz"}),(0,t.jsx)("p",{className:"mt-1 text-sm text-gray-600",children:"Please wait while we analyze your documents and create quiz questions."})]}),(0,t.jsx)("div",{className:"rounded-lg border border-gray-200 bg-white p-6 shadow-sm",children:(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center py-12",children:[(0,t.jsx)("div",{className:"relative",children:(0,t.jsxs)("svg",{className:"h-16 w-16 animate-spin text-blue-600",fill:"none",viewBox:"0 0 24 24",children:[(0,t.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,t.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}),(0,t.jsxs)("p",{className:"mt-4 text-lg font-medium text-gray-900",children:["Generating ",q.questionCount," questions..."]}),(0,t.jsxs)("p",{className:"mt-2 text-sm text-gray-500",children:["Analyzing ",F," document",1!==F?"s":""]}),(0,t.jsxs)("div",{className:"mt-4 w-full max-w-xs",children:[(0,t.jsx)("div",{className:"h-2 w-full rounded-full bg-gray-200",children:(0,t.jsx)("div",{className:"h-2 rounded-full bg-gradient-to-r from-blue-500 to-purple-500 transition-all duration-300",style:{width:`${W}%`}})}),(0,t.jsxs)("p",{className:"mt-1 text-center text-xs text-gray-500",children:[Math.round(W),"% complete"]})]}),(0,t.jsx)("div",{className:"mt-4 flex flex-wrap justify-center gap-2",children:q.questionTypes.map(e=>(0,t.jsxs)("span",{className:"rounded-full bg-blue-100 px-3 py-1 text-xs font-medium text-blue-700",children:["multiple-choice"===e&&"Multiple Choice","true-false"===e&&"True/False","short-answer"===e&&"Short Answer"]},e))}),q.timeLimit&&(0,t.jsxs)("p",{className:"mt-3 text-sm text-gray-500",children:["Time limit: ",q.timeLimit," minutes"]})]})})]})}):(0,t.jsx)(n.DashboardLayout,{children:(0,t.jsxs)("div",{className:"mx-auto max-w-4xl space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Generate Quiz"}),(0,t.jsx)("p",{className:"mt-1 text-sm text-gray-600",children:"Select documents to generate AI-powered quizzes to test your knowledge."})]}),(0,t.jsxs)("div",{className:"rounded-lg border border-gray-200 bg-white p-6 shadow-sm",children:[(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Select Source Documents"}),(0,t.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Choose the PDF documents you want to generate quiz questions from."})]}),p||w?(0,t.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,t.jsxs)("div",{className:"flex flex-col items-center gap-3",children:[(0,t.jsxs)("svg",{className:"h-8 w-8 animate-spin text-blue-600",fill:"none",viewBox:"0 0 24 24",children:[(0,t.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,t.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),(0,t.jsx)("span",{className:"text-sm text-gray-500",children:"Loading documents..."})]})}):(0,t.jsx)(i.DocumentSelectionTree,{folders:r,documents:g,selectedDocumentIds:v,onSelectionChange:z})]}),F>0&&(0,t.jsx)("div",{className:"rounded-lg border border-blue-200 bg-blue-50 p-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-blue-100",children:(0,t.jsx)("svg",{className:"h-5 w-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("p",{className:"font-medium text-blue-900",children:[F," document",1!==F?"s":""," selected"]}),(0,t.jsx)("p",{className:"text-sm text-blue-700",children:"Ready to configure quiz generation options."})]})]})}),(0,t.jsxs)("div",{className:"rounded-lg border border-gray-200 bg-white p-6 shadow-sm",children:[(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Configuration Options"}),(0,t.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Customize your quiz generation settings."})]}),(0,t.jsx)(l,{selectedDocumentCount:F,onGenerate:B,isGenerating:"generating"===k})]})]})})}function w(){return(0,t.jsx)(r.ProtectedRoute,{redirectTo:"/",children:(0,t.jsx)(j,{})})}e.s(["default",()=>w],34139)}]);