(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,87145,e=>{"use strict";var t=e.i(71645),r=e.i(14985);function a(){return{authenticatedFetch:(0,t.useCallback)(async(e,t={})=>{let a=(0,r.getFirebaseAuth)().currentUser;if(!a)throw Error("User is not authenticated");let s=await a.getIdToken(),l=new Headers(t.headers);return l.set("Authorization",`Bearer ${s}`),fetch(e,{...t,headers:l})},[])}}async function s(){let e=(0,r.getFirebaseAuth)().currentUser;return e?e.getIdToken():null}async function l(e){let t=new Headers(e),r=await s();return r&&t.set("Authorization",`Bearer ${r}`),t}e.s(["createAuthHeaders",()=>l,"getIdToken",()=>s,"useAuthenticatedFetch",()=>a])},18339,e=>{"use strict";var t=e.i(71645),r=e.i(84093),a=e.i(87145);async function s(){let e=await (0,a.getIdToken)();if(!e)throw Error("Not authenticated");return{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}}function l(){let{user:e}=(0,r.useAuth)(),[a,l]=(0,t.useState)([]),[n,o]=(0,t.useState)(!1),[i,d]=(0,t.useState)(null),[c,u]=(0,t.useState)({currentPage:1,pageSize:20,totalItems:0,totalPages:0}),h=(0,t.useCallback)(e=>{u(t=>({...t,currentPage:e}))},[]),m=(0,t.useCallback)(e=>{u(t=>({...t,pageSize:e,currentPage:1}))},[]),x=(0,t.useCallback)(async t=>{if(e?.uid){o(!0),d(null);try{let e=await s(),r=new URLSearchParams;void 0!==t&&r.append("parentId",null===t?"null":t);let a=await fetch(`/api/folders?${r}`,{headers:e}),n=await a.json();if(!a.ok)throw Error(n.error||"Failed to fetch folders");l(n.folders),u(e=>({...e,totalItems:n.folders.length,totalPages:1,currentPage:1}))}catch(e){d(e instanceof Error?e.message:"Failed to fetch folders")}finally{o(!1)}}},[e?.uid]),f=(0,t.useCallback)(async(t,r,a)=>{if(!e?.uid)return;let n=a??c.pageSize,i=r??c.currentPage;o(!0),d(null);try{let e=await s(),r=new URLSearchParams({page:i.toString(),pageSize:n.toString()});void 0!==t&&r.append("parentId",null===t?"null":t);let a=await fetch(`/api/folders?${r}`,{headers:e}),o=await a.json();if(!a.ok)throw Error(o.error||"Failed to fetch folders");l(o.folders),u({currentPage:i,pageSize:n,totalItems:o.total,totalPages:Math.ceil(o.total/n)})}catch(e){d(e instanceof Error?e.message:"Failed to fetch folders")}finally{o(!1)}},[e?.uid,c.pageSize,c.currentPage]),p=(0,t.useCallback)(async t=>{if(!e?.uid)return[];try{let e=await s(),r=await fetch(`/api/folders/${t}/path`,{headers:e}),a=await r.json();if(!r.ok)throw Error(a.error||"Failed to fetch folder path");return a.path}catch(e){return d(e instanceof Error?e.message:"Failed to fetch folder path"),[]}},[e?.uid]),g=(0,t.useCallback)(async(t,r)=>{if(!e?.uid)return null;o(!0),d(null);try{let e=await s(),a=await fetch("/api/folders",{method:"POST",headers:e,body:JSON.stringify({name:t,parentId:r})}),n=await a.json();if(!a.ok)throw Error(n.error||"Failed to create folder");return l(e=>[...e,n.folder]),n.folder}catch(e){return d(e instanceof Error?e.message:"Failed to create folder"),null}finally{o(!1)}},[e?.uid]),v=(0,t.useCallback)(async(t,r)=>{if(!e?.uid)return null;o(!0),d(null);try{let e=await s(),a=await fetch(`/api/folders/${t}`,{method:"PUT",headers:e,body:JSON.stringify({name:r})}),n=await a.json();if(!a.ok)throw Error(n.error||"Failed to rename folder");return l(e=>e.map(e=>e.id===t?n.folder:e)),n.folder}catch(e){return d(e instanceof Error?e.message:"Failed to rename folder"),null}finally{o(!1)}},[e?.uid]),b=(0,t.useCallback)(async t=>{if(!e?.uid)return!1;o(!0),d(null);try{let e=await s(),r=await fetch(`/api/folders/${t}`,{method:"DELETE",headers:e}),a=await r.json();if(!r.ok)throw Error(a.error||"Failed to delete folder");return l(e=>e.filter(e=>e.id!==t)),!0}catch(e){return d(e instanceof Error?e.message:"Failed to delete folder"),!1}finally{o(!1)}},[e?.uid]),j=(0,t.useCallback)(async(t,r)=>{if(!e?.uid)return null;o(!0),d(null);try{let e=await s(),a=await fetch(`/api/folders/${t}/move`,{method:"POST",headers:e,body:JSON.stringify({newParentId:r})}),l=await a.json();if(!a.ok)throw Error(l.error||"Failed to move folder");return await x(),l.folder}catch(e){return d(e instanceof Error?e.message:"Failed to move folder"),null}finally{o(!1)}},[e?.uid,x]);return{folders:a,loading:n,error:i,pagination:c,fetchFolders:x,fetchFoldersPaginated:f,fetchFolderPath:p,createFolder:g,renameFolder:v,deleteFolder:b,moveFolder:j,setPage:h,setPageSize:m}}e.s(["useFolders",()=>l])},77001,e=>{"use strict";var t=e.i(71645),r=e.i(84093),a=e.i(87145);async function s(){let e=await (0,a.getIdToken)();if(!e)throw Error("Not authenticated");return{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}}function l(){let{user:e}=(0,r.useAuth)(),[l,n]=(0,t.useState)([]),[o,i]=(0,t.useState)(!1),[d,c]=(0,t.useState)(null),[u,h]=(0,t.useState)(new Map),[m,x]=(0,t.useState)({currentPage:1,pageSize:20,totalItems:0,totalPages:0}),f=(0,t.useCallback)(()=>c(null),[]),p=(0,t.useCallback)(e=>{x(t=>({...t,currentPage:e}))},[]),g=(0,t.useCallback)(e=>{x(t=>({...t,pageSize:e,currentPage:1}))},[]),v=(0,t.useCallback)(async t=>{if(e){i(!0),c(null);try{let e=await s(),r=new URLSearchParams;void 0!==t&&r.set("folderId",null===t?"null":t);let a=await fetch(`/api/documents?${r}`,{headers:e}),l=await a.json();if(!a.ok)throw Error(l.error||"Failed to fetch documents");n(l.documents),x(e=>({...e,totalItems:l.documents.length,totalPages:1,currentPage:1}))}catch(e){c(e instanceof Error?e.message:"Failed to fetch documents")}finally{i(!1)}}},[e]),b=(0,t.useCallback)(async(t,r,a)=>{if(!e)return;let l=a??m.pageSize,o=r??m.currentPage;i(!0),c(null);try{let e=await s(),r=new URLSearchParams({page:o.toString(),pageSize:l.toString()});void 0!==t&&r.set("folderId",null===t?"null":t);let a=await fetch(`/api/documents?${r}`,{headers:e}),i=await a.json();if(!a.ok)throw Error(i.error||"Failed to fetch documents");n(i.documents),x({currentPage:o,pageSize:l,totalItems:i.total,totalPages:Math.ceil(i.total/l)})}catch(e){c(e instanceof Error?e.message:"Failed to fetch documents")}finally{i(!1)}},[e,m.pageSize,m.currentPage]),j=(0,t.useCallback)(async t=>{if(e){i(!0),c(null);try{let e=await s(),r=new URLSearchParams({search:t}),a=await fetch(`/api/documents?${r}`,{headers:e}),l=await a.json();if(!a.ok)throw Error(l.error||"Failed to search documents");n(l.documents)}catch(e){c(e instanceof Error?e.message:"Failed to search documents")}finally{i(!1)}}},[e]),w=(0,t.useCallback)((e,t)=>{h(r=>{let a=new Map(r),s=a.get(e)||{fileName:e,progress:0,status:"pending"};return a.set(e,{...s,...t}),a})},[]),y=(0,t.useCallback)(async(t,r)=>{if(!e)return null;let s=new AbortController;w(t.name,{status:"uploading",progress:0,abortController:s});try{let e=await (0,a.getIdToken)();if(!e)throw Error("Not authenticated");let l=new FormData;l.append("file",t),r&&l.append("folderId",r);let o=await new Promise((r,a)=>{let n=new XMLHttpRequest;n.upload.addEventListener("progress",e=>{if(e.lengthComputable){let r=Math.round(e.loaded/e.total*100);w(t.name,{progress:r})}}),n.addEventListener("load",()=>{if(n.status>=200&&n.status<300){let e=JSON.parse(n.responseText);r(e.document)}else try{let e=JSON.parse(n.responseText);a(Error(e.error||"Upload failed"))}catch{a(Error("Upload failed"))}}),n.addEventListener("error",()=>{a(Error("Network error during upload"))}),n.addEventListener("abort",()=>{a(Error("Upload cancelled"))}),s.signal.addEventListener("abort",()=>{n.abort()}),n.open("POST","/api/documents/upload"),n.setRequestHeader("Authorization",`Bearer ${e}`),n.send(l)});return w(t.name,{status:"completed",progress:100}),n(e=>[o,...e]),o}catch(a){let e=a instanceof Error?a.message:"Upload failed",r="Upload cancelled"===e;return w(t.name,{status:r?"cancelled":"error",error:e}),r||c(e),null}},[e,w]),k=(0,t.useCallback)(async(e,t)=>{for(let r of(e.forEach(e=>{w(e.name,{status:"pending",progress:0})}),e)){let e=u.get(r.name);e?.status!=="cancelled"&&await y(r,t)}},[y,u,w]),N=(0,t.useCallback)(e=>{let t=u.get(e);t?.abortController&&t.abortController.abort(),w(e,{status:"cancelled"})},[u,w]),C=(0,t.useCallback)(async t=>{if(!e)return!1;try{let e=await s(),r=await fetch(`/api/documents/${t}`,{method:"DELETE",headers:e});if(!r.ok){let e=await r.json();throw Error(e.error||"Failed to delete document")}return n(e=>e.filter(e=>e.id!==t)),!0}catch(e){return c(e instanceof Error?e.message:"Failed to delete document"),!1}},[e]);return{documents:l,loading:o,error:d,uploadProgress:u,pagination:m,fetchDocuments:v,fetchDocumentsPaginated:b,searchDocuments:j,uploadDocument:y,uploadMultipleDocuments:k,cancelUpload:N,deleteDocument:C,moveDocument:(0,t.useCallback)(async(t,r)=>{if(!e)return null;try{let e=await s(),a=await fetch(`/api/documents/${t}`,{method:"PATCH",headers:e,body:JSON.stringify({folderId:r})}),l=await a.json();if(!a.ok)throw Error(l.error||"Failed to move document");return n(e=>e.map(e=>e.id===t?l.document:e)),l.document}catch(e){return c(e instanceof Error?e.message:"Failed to move document"),null}},[e]),renameDocument:(0,t.useCallback)(async(t,r)=>{if(!e)return null;try{let e=await s(),a=await fetch(`/api/documents/${t}`,{method:"PATCH",headers:e,body:JSON.stringify({name:r})}),l=await a.json();if(!a.ok)throw Error(l.error||"Failed to rename document");return n(e=>e.map(e=>e.id===t?l.document:e)),l.document}catch(e){return c(e instanceof Error?e.message:"Failed to rename document"),null}},[e]),clearError:f,setPage:p,setPageSize:g}}e.s(["useDocuments",()=>l])},70449,52655,79639,47101,64418,87077,18322,85634,e=>{"use strict";var t=e.i(43476),r=e.i(71645);e.i(47167);function a({onUpload:e,uploadProgress:a,onCancelUpload:n,disabled:o=!1}){let[i,d]=(0,r.useState)(!1),[c,u]=(0,r.useState)([]),h=(0,r.useRef)(null),m=(0,r.useCallback)(e=>{let t=[],r=[];for(let a of e){if("application/pdf"!==a.type){r.push(`"${a.name}" is not a PDF file. Only PDF files are allowed.`);continue}if("pdf"!==a.name.split(".").pop()?.toLowerCase()){r.push(`"${a.name}" does not have a .pdf extension.`);continue}if(a.size>0x3200000){let e=(a.size/1048576).toFixed(2);r.push(`"${a.name}" exceeds the 50MB limit (${e}MB).`);continue}t.push(a)}return{valid:t,errors:r}},[]),x=(0,r.useCallback)(async t=>{let{valid:r,errors:a}=m(Array.from(t));u(a),r.length>0&&await e(r)},[m,e]),f=(0,r.useCallback)(e=>{e.preventDefault(),e.stopPropagation(),o||d(!0)},[o]),p=(0,r.useCallback)(e=>{e.preventDefault(),e.stopPropagation(),d(!1)},[]),g=(0,r.useCallback)(e=>{e.preventDefault(),e.stopPropagation()},[]),v=(0,r.useCallback)(e=>{if(e.preventDefault(),e.stopPropagation(),d(!1),o)return;let t=e.dataTransfer.files;t.length>0&&x(t)},[o,x]),b=(0,r.useCallback)(e=>{let t=e.target.files;t&&t.length>0&&x(t),h.current&&(h.current.value="")},[x]),j=(0,r.useCallback)(()=>{o||h.current?.click()},[o]),w=Array.from(a.entries()).filter(([,e])=>"uploading"===e.status||"pending"===e.status),y=w.length>0;return(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{onClick:j,onDragEnter:f,onDragLeave:p,onDragOver:g,onDrop:v,onKeyDown:e=>{("Enter"===e.key||" "===e.key)&&(e.preventDefault(),j())},tabIndex:o?-1:0,role:"button","aria-label":"Upload PDF files. Click to browse or drag and drop files here.","aria-disabled":o,className:`
          relative cursor-pointer rounded-lg border-2 border-dashed p-6 sm:p-8 text-center transition-colors active:scale-[0.99] focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2
          ${i?"border-blue-500 bg-blue-50":"border-gray-300 hover:border-gray-400 hover:bg-gray-50"}
          ${o?"cursor-not-allowed opacity-50":""}
        `,children:[(0,t.jsx)("input",{ref:h,type:"file",accept:".pdf,application/pdf",multiple:!0,onChange:b,className:"hidden",disabled:o,"aria-label":"Select PDF files to upload"}),(0,t.jsxs)("div",{className:"flex flex-col items-center",children:[(0,t.jsx)("svg",{className:`h-10 w-10 sm:h-12 sm:w-12 ${i?"text-blue-500":"text-gray-400"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),(0,t.jsx)("p",{className:"mt-3 sm:mt-4 text-sm font-medium text-gray-900",children:i?"Drop files here":"Tap to select PDF files"}),(0,t.jsx)("p",{className:"mt-1 text-xs text-gray-600 hidden sm:block",children:"or drag and drop"}),(0,t.jsx)("p",{className:"mt-2 text-xs text-gray-500",children:"PDF files only, max 50MB each"})]})]}),c.length>0&&(0,t.jsxs)("div",{className:"rounded-lg bg-red-50 p-4",role:"alert","aria-live":"polite",children:[(0,t.jsxs)("div",{className:"flex",children:[(0,t.jsx)("svg",{className:"h-5 w-5 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,t.jsxs)("div",{className:"ml-3",children:[(0,t.jsx)("h3",{className:"text-sm font-medium text-red-800",children:"Some files could not be uploaded"}),(0,t.jsx)("ul",{className:"mt-2 list-disc pl-5 text-sm text-red-700","aria-label":"Upload errors",children:c.map((e,r)=>(0,t.jsx)("li",{children:e},r))})]})]}),(0,t.jsx)("button",{onClick:()=>u([]),className:"mt-2 text-sm text-red-600 hover:text-red-800 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-red-500 focus-visible:ring-offset-2 rounded","aria-label":"Dismiss error messages",children:"Dismiss"})]}),y&&(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)("h4",{className:"text-sm font-medium text-gray-700",children:"Uploading files..."}),w.map(([e,r])=>(0,t.jsx)(s,{fileName:e,progress:r,onCancel:()=>n(e)},e))]}),Array.from(a.entries()).filter(([,e])=>"completed"===e.status||"error"===e.status||"cancelled"===e.status).length>0&&(0,t.jsx)("div",{className:"space-y-2",children:Array.from(a.entries()).filter(([,e])=>"completed"===e.status||"error"===e.status||"cancelled"===e.status).map(([e,r])=>(0,t.jsx)(l,{fileName:e,progress:r},e))})]})}function s({fileName:e,progress:r,onCancel:a}){return(0,t.jsxs)("div",{className:"rounded-lg border border-gray-200 bg-white p-3",role:"status","aria-label":`Uploading ${e}: ${r.progress}% complete`,children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 min-w-0 flex-1",children:[(0,t.jsx)("svg",{className:"h-5 w-5 flex-shrink-0 text-red-500",fill:"currentColor",viewBox:"0 0 20 20","aria-hidden":"true",children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4z",clipRule:"evenodd"})}),(0,t.jsx)("span",{className:"truncate text-sm font-medium text-gray-900",children:e})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsxs)("span",{className:"text-sm text-gray-600","aria-live":"polite",children:[r.progress,"%"]}),(0,t.jsx)("button",{onClick:a,className:"rounded p-1 text-gray-400 hover:bg-gray-100 hover:text-gray-600 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2","aria-label":`Cancel upload of ${e}`,children:(0,t.jsx)("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),(0,t.jsx)("div",{className:"mt-2 h-1.5 w-full overflow-hidden rounded-full bg-gray-200",role:"progressbar","aria-valuenow":r.progress,"aria-valuemin":0,"aria-valuemax":100,"aria-label":`Upload progress for ${e}`,children:(0,t.jsx)("div",{className:"h-full rounded-full bg-blue-600 transition-all duration-300",style:{width:`${r.progress}%`}})})]})}function l({fileName:e,progress:r}){let a="completed"===r.status,s="cancelled"===r.status;return(0,t.jsxs)("div",{className:`
      flex items-center gap-3 rounded-lg p-3
      ${a?"bg-green-50":s?"bg-gray-50":"bg-red-50"}
    `,children:[a?(0,t.jsx)("svg",{className:"h-5 w-5 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):s?(0,t.jsx)("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728A9 9 0 015.636 5.636m12.728 12.728L5.636 5.636"})}):(0,t.jsx)("svg",{className:"h-5 w-5 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,t.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,t.jsx)("p",{className:`truncate text-sm font-medium ${a?"text-green-800":s?"text-gray-600":"text-red-800"}`,children:e}),r.error&&!s&&(0,t.jsx)("p",{className:"text-xs text-red-600",children:r.error}),s&&(0,t.jsx)("p",{className:"text-xs text-gray-500",children:"Upload cancelled"})]})]})}function n({folders:e,selectedFolderId:a,onSelect:s,onClose:l,allowRoot:n=!0}){let[o,i]=(0,r.useState)(new Set),d=(0,r.useCallback)(e=>{i(t=>{let r=new Set(t);return r.has(e)?r.delete(e):r.add(e),r})},[]),c=e.filter(e=>null===e.parent_id),u=(r,l=0)=>{let n,i=(n=r.id,e.filter(e=>e.parent_id===n)),c=i.length>0,h=o.has(r.id),m=r.id===a;return(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:`
            flex items-center gap-2 rounded-lg px-3 py-2 cursor-pointer transition-colors
            ${m?"bg-blue-100 text-blue-900":"hover:bg-gray-100"}
          `,style:{paddingLeft:`${20*l+12}px`},children:[c?(0,t.jsx)("button",{onClick:e=>{e.stopPropagation(),d(r.id)},className:"p-0.5 hover:bg-gray-200 rounded",children:(0,t.jsx)("svg",{className:`h-4 w-4 text-gray-500 transition-transform ${h?"rotate-90":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})}):(0,t.jsx)("span",{className:"w-5"}),(0,t.jsxs)("button",{onClick:()=>s(r),className:"flex items-center gap-2 flex-1 text-left",children:[(0,t.jsx)("svg",{className:`h-5 w-5 ${m?"text-blue-600":"text-yellow-500"}`,fill:"currentColor",viewBox:"0 0 20 20",children:(0,t.jsx)("path",{d:"M2 6a2 2 0 012-2h5l2 2h5a2 2 0 012 2v6a2 2 0 01-2 2H4a2 2 0 01-2-2V6z"})}),(0,t.jsx)("span",{className:"text-sm font-medium",children:r.name})]})]}),c&&h&&(0,t.jsx)("div",{children:i.map(e=>u(e,l+1))})]},r.id)};return(0,t.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:(0,t.jsxs)("div",{className:"w-full max-w-md rounded-lg bg-white shadow-xl",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between border-b border-gray-200 px-4 py-3",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Select Folder"}),(0,t.jsx)("button",{onClick:l,className:"rounded-lg p-1 text-gray-400 hover:bg-gray-100 hover:text-gray-600",children:(0,t.jsx)("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,t.jsxs)("div",{className:"max-h-80 overflow-y-auto p-2",children:[n&&(0,t.jsxs)("button",{onClick:()=>s(null),className:`
                flex w-full items-center gap-2 rounded-lg px-3 py-2 text-left transition-colors
                ${null===a?"bg-blue-100 text-blue-900":"hover:bg-gray-100"}
              `,children:[(0,t.jsx)("svg",{className:`h-5 w-5 ${null===a?"text-blue-600":"text-gray-400"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),(0,t.jsx)("span",{className:"text-sm font-medium",children:"Root (No folder)"})]}),c.length>0?c.map(e=>u(e)):(0,t.jsx)("div",{className:"py-8 text-center text-sm text-gray-500",children:"No folders available"})]}),(0,t.jsx)("div",{className:"flex justify-end gap-3 border-t border-gray-200 px-4 py-3",children:(0,t.jsx)("button",{onClick:l,className:"rounded-lg px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-100",children:"Cancel"})})]})})}e.s(["FileUpload",()=>a],52655),e.s(["FolderPickerModal",()=>n],79639);let o=(0,r.memo)(function({document:e,onPreview:a,onMove:s,onDelete:l}){var n;let o=(0,r.useCallback)(()=>a(e),[e,a]),i=(0,r.useCallback)(t=>{t.stopPropagation(),s(e)},[e,s]),d=(0,r.useCallback)(t=>{t.stopPropagation(),l(e)},[e,l]);return(0,t.jsxs)("div",{className:"group relative rounded-lg border border-gray-200 bg-white p-4 shadow-sm transition-shadow hover:shadow-md",children:[(0,t.jsx)("button",{onClick:o,className:"flex w-full flex-col items-center",children:(0,t.jsx)("div",{className:"flex h-24 w-full items-center justify-center rounded-lg bg-red-50",children:(0,t.jsx)("svg",{className:"h-16 w-16 text-red-500",fill:"currentColor",viewBox:"0 0 20 20",children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4z",clipRule:"evenodd"})})})}),(0,t.jsxs)("div",{className:"mt-3 w-full",children:[(0,t.jsx)("h3",{className:"truncate text-sm font-medium text-gray-900",title:e.name,children:e.name}),(0,t.jsxs)("p",{className:"mt-1 text-xs text-gray-500",children:[(n=e.file_size)<1024?`${n} B`:n<1048576?`${(n/1024).toFixed(1)} KB`:`${(n/1048576).toFixed(1)} MB`," â€¢ ",new Date(e.created_at).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})]})]}),(0,t.jsxs)("div",{className:"absolute right-2 top-2 flex gap-1 opacity-0 transition-opacity group-hover:opacity-100",children:[(0,t.jsx)("button",{onClick:o,className:"rounded-lg bg-white p-1.5 text-gray-600 shadow-sm hover:bg-gray-100",title:"Preview",children:(0,t.jsxs)("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})}),(0,t.jsx)("button",{onClick:i,className:"rounded-lg bg-white p-1.5 text-gray-600 shadow-sm hover:bg-gray-100",title:"Move",children:(0,t.jsx)("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"})})}),(0,t.jsx)("button",{onClick:d,className:"rounded-lg bg-white p-1.5 text-red-600 shadow-sm hover:bg-red-50",title:"Delete",children:(0,t.jsx)("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]})}),i=(0,r.memo)(function({documents:e,onPreview:r,onMove:a,onDelete:s}){return(0,t.jsx)("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:e.map(e=>(0,t.jsx)(o,{document:e,onPreview:r,onMove:a,onDelete:s},e.id))})});e.s(["DocumentGrid",0,i],47101);let d=(0,r.memo)(function({document:e,onPreview:a,onMove:s,onDelete:l}){var n;let o=(0,r.useCallback)(()=>a(e),[e,a]),i=(0,r.useCallback)(()=>s(e),[e,s]),d=(0,r.useCallback)(()=>l(e),[e,l]);return(0,t.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,t.jsx)("td",{className:"whitespace-nowrap px-6 py-4",children:(0,t.jsxs)("button",{onClick:o,className:"flex items-center gap-3 text-left",children:[(0,t.jsx)("svg",{className:"h-8 w-8 text-red-500",fill:"currentColor",viewBox:"0 0 20 20",children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4z",clipRule:"evenodd"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium text-gray-900 hover:text-blue-600",children:e.name}),(0,t.jsx)("p",{className:"text-xs text-gray-500",children:e.original_name})]})]})}),(0,t.jsx)("td",{className:"hidden whitespace-nowrap px-6 py-4 text-sm text-gray-500 sm:table-cell",children:(n=e.file_size)<1024?`${n} B`:n<1048576?`${(n/1024).toFixed(1)} KB`:`${(n/1048576).toFixed(1)} MB`}),(0,t.jsx)("td",{className:"hidden whitespace-nowrap px-6 py-4 text-sm text-gray-500 md:table-cell",children:new Date(e.created_at).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}),(0,t.jsx)("td",{className:"whitespace-nowrap px-6 py-4 text-right",children:(0,t.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[(0,t.jsx)("button",{onClick:o,className:"rounded p-1 text-gray-600 hover:bg-gray-100 hover:text-blue-600",title:"Preview",children:(0,t.jsxs)("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})}),(0,t.jsx)("button",{onClick:i,className:"rounded p-1 text-gray-600 hover:bg-gray-100 hover:text-blue-600",title:"Move",children:(0,t.jsx)("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"})})}),(0,t.jsx)("button",{onClick:d,className:"rounded p-1 text-red-600 hover:bg-red-50 hover:text-red-800",title:"Delete",children:(0,t.jsx)("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})})]})}),c=(0,r.memo)(function({documents:e,onPreview:r,onMove:a,onDelete:s}){return(0,t.jsx)("div",{className:"overflow-hidden rounded-lg border border-gray-200 bg-white",children:(0,t.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,t.jsx)("thead",{className:"bg-gray-50",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Name"}),(0,t.jsx)("th",{className:"hidden px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500 sm:table-cell",children:"Size"}),(0,t.jsx)("th",{className:"hidden px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500 md:table-cell",children:"Uploaded"}),(0,t.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium uppercase tracking-wider text-gray-500",children:"Actions"})]})}),(0,t.jsx)("tbody",{className:"divide-y divide-gray-200",children:e.map(e=>(0,t.jsx)(d,{document:e,onPreview:r,onMove:a,onDelete:s},e.id))})]})})});e.s(["DocumentList",0,c],64418);var u=e.i(84093);function h({document:a,onClose:s}){let{user:l}=(0,u.useAuth)(),[n,o]=(0,r.useState)(null),[i,d]=(0,r.useState)(!0),[c,h]=(0,r.useState)(null),m=(0,r.useCallback)(async()=>{if(l){d(!0),h(null);try{let{getIdToken:t}=await e.A(33733),r=await t();if(!r)throw Error("Not authenticated");let s=await fetch(`/api/documents/${a.id}`,{headers:{Authorization:`Bearer ${r}`}}),l=await s.json();if(!s.ok)throw Error(l.error||"Failed to load document");o(l.presignedUrl)}catch(e){h(e instanceof Error?e.message:"Failed to load document")}finally{d(!1)}}},[a.id,l]);return(0,r.useEffect)(()=>{m()},[m]),(0,r.useEffect)(()=>{let e=e=>{"Escape"===e.key&&s()};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[s]),(0,t.jsxs)("div",{className:"fixed inset-0 z-50 flex flex-col bg-black/90",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between bg-gray-900 px-4 py-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("svg",{className:"h-6 w-6 text-red-500",fill:"currentColor",viewBox:"0 0 20 20",children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4z",clipRule:"evenodd"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-lg font-medium text-white",children:a.name}),(0,t.jsx)("p",{className:"text-sm text-gray-400",children:a.original_name})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[n&&(0,t.jsxs)("a",{href:n,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 rounded-lg bg-blue-600 px-3 py-2 text-sm font-medium text-white hover:bg-blue-700",children:[(0,t.jsx)("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"Download"]}),(0,t.jsx)("button",{onClick:s,className:"rounded-lg p-2 text-gray-400 hover:bg-gray-800 hover:text-white",children:(0,t.jsx)("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),(0,t.jsxs)("div",{className:"flex-1 overflow-hidden",children:[i&&(0,t.jsx)("div",{className:"flex h-full items-center justify-center",children:(0,t.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,t.jsx)("div",{className:"h-12 w-12 animate-spin rounded-full border-4 border-blue-600 border-t-transparent"}),(0,t.jsx)("p",{className:"text-gray-400",children:"Loading document..."})]})}),c&&(0,t.jsx)("div",{className:"flex h-full items-center justify-center",children:(0,t.jsxs)("div",{className:"flex flex-col items-center gap-4 text-center",children:[(0,t.jsx)("svg",{className:"h-16 w-16 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),(0,t.jsx)("p",{className:"text-lg text-white",children:c}),(0,t.jsx)("button",{onClick:m,className:"rounded-lg bg-blue-600 px-4 py-2 text-sm font-medium text-white hover:bg-blue-700",children:"Try Again"})]})}),!i&&!c&&n&&(0,t.jsx)("iframe",{src:n,className:"h-full w-full",title:`Preview of ${a.name}`})]})]})}function m({document:e,folders:a,onMove:s,onClose:l}){let[n,o]=(0,r.useState)(e.folder_id),[i,d]=(0,r.useState)(new Set),[c,u]=(0,r.useState)(!1),h=(0,r.useCallback)(e=>{d(t=>{let r=new Set(t);return r.has(e)?r.delete(e):r.add(e),r})},[]);(0,r.useEffect)(()=>{let e=e=>{"Escape"!==e.key||c||l()};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[l,c]);let m=async()=>{if(n===e.folder_id)return void l();u(!0);try{await s(e.id,n),l()}finally{u(!1)}},x=a.filter(e=>null===e.parent_id),f=(r,s=0)=>{let l,d=(l=r.id,a.filter(e=>e.parent_id===l)),c=d.length>0,u=i.has(r.id),m=r.id===n,x=r.id===e.folder_id;return(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:`
            flex items-center gap-2 rounded-lg px-3 py-2 cursor-pointer transition-colors
            ${m?"bg-blue-100 text-blue-900":"hover:bg-gray-100"}
            ${x?"border-l-2 border-blue-500":""}
          `,style:{paddingLeft:`${20*s+12}px`},children:[c?(0,t.jsx)("button",{onClick:e=>{e.stopPropagation(),h(r.id)},className:"p-0.5 hover:bg-gray-200 rounded",children:(0,t.jsx)("svg",{className:`h-4 w-4 text-gray-500 transition-transform ${u?"rotate-90":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})}):(0,t.jsx)("span",{className:"w-5"}),(0,t.jsxs)("button",{onClick:()=>o(r.id),className:"flex items-center gap-2 flex-1 text-left",children:[(0,t.jsx)("svg",{className:`h-5 w-5 ${m?"text-blue-600":"text-yellow-500"}`,fill:"currentColor",viewBox:"0 0 20 20",children:(0,t.jsx)("path",{d:"M2 6a2 2 0 012-2h5l2 2h5a2 2 0 012 2v6a2 2 0 01-2 2H4a2 2 0 01-2-2V6z"})}),(0,t.jsx)("span",{className:"text-sm font-medium",children:r.name}),x&&(0,t.jsx)("span",{className:"text-xs text-gray-500",children:"(current)"})]})]}),c&&u&&(0,t.jsx)("div",{children:d.map(e=>f(e,s+1))})]},r.id)};return(0,t.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:(0,t.jsxs)("div",{className:"w-full max-w-md rounded-lg bg-white shadow-xl",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between border-b border-gray-200 px-4 py-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Move Document"}),(0,t.jsx)("p",{className:"text-sm text-gray-500 truncate max-w-xs",children:e.name})]}),(0,t.jsx)("button",{onClick:l,disabled:c,className:"rounded-lg p-1 text-gray-400 hover:bg-gray-100 hover:text-gray-600 disabled:opacity-50",children:(0,t.jsx)("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,t.jsxs)("div",{className:"max-h-80 overflow-y-auto p-2",children:[(0,t.jsxs)("button",{onClick:()=>o(null),className:`
              flex w-full items-center gap-2 rounded-lg px-3 py-2 text-left transition-colors
              ${null===n?"bg-blue-100 text-blue-900":"hover:bg-gray-100"}
              ${null===e.folder_id?"border-l-2 border-blue-500":""}
            `,children:[(0,t.jsx)("svg",{className:`h-5 w-5 ${null===n?"text-blue-600":"text-gray-400"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),(0,t.jsx)("span",{className:"text-sm font-medium",children:"Root (No folder)"}),null===e.folder_id&&(0,t.jsx)("span",{className:"text-xs text-gray-500",children:"(current)"})]}),x.length>0?x.map(e=>f(e)):(0,t.jsx)("div",{className:"py-8 text-center text-sm text-gray-500",children:"No folders available"})]}),(0,t.jsxs)("div",{className:"flex justify-end gap-3 border-t border-gray-200 px-4 py-3",children:[(0,t.jsx)("button",{onClick:l,disabled:c,className:"rounded-lg px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-100 disabled:opacity-50",children:"Cancel"}),(0,t.jsx)("button",{onClick:m,disabled:c||n===e.folder_id,className:"rounded-lg bg-blue-600 px-4 py-2 text-sm font-medium text-white hover:bg-blue-700 disabled:opacity-50",children:c?"Moving...":"Move"})]})]})})}e.s(["DocumentPreview",()=>h],87077),e.s(["MoveDocumentModal",()=>m],18322);let x=(0,r.memo)(function({viewMode:e,onViewModeChange:a}){let s=(0,r.useCallback)(()=>a("grid"),[a]),l=(0,r.useCallback)(()=>a("list"),[a]);return(0,t.jsxs)("div",{className:"flex items-center rounded-lg border border-gray-300 bg-white p-1",role:"group","aria-label":"View mode selection",children:[(0,t.jsxs)("button",{onClick:s,className:`
          flex items-center gap-1 rounded-md px-3 py-1.5 text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-1
          ${"grid"===e?"bg-blue-100 text-blue-700":"text-gray-600 hover:bg-gray-100"}
        `,"aria-label":"Grid view","aria-pressed":"grid"===e,children:[(0,t.jsx)("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})}),(0,t.jsx)("span",{className:"hidden sm:inline",children:"Grid"})]}),(0,t.jsxs)("button",{onClick:l,className:`
          flex items-center gap-1 rounded-md px-3 py-1.5 text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-1
          ${"list"===e?"bg-blue-100 text-blue-700":"text-gray-600 hover:bg-gray-100"}
        `,"aria-label":"List view","aria-pressed":"list"===e,children:[(0,t.jsx)("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 10h16M4 14h16M4 18h16"})}),(0,t.jsx)("span",{className:"hidden sm:inline",children:"List"})]})]})});e.s(["ViewToggle",0,x],85634),e.s([],70449)}]);