(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,63874,e=>{"use strict";var t=e.i(43476),s=e.i(71645),r=e.i(3216),a=e.i(84093);e.i(23928);var l=e.i(17780);e.i(13917);var n=e.i(43098);function i({selectedDocumentCount:e,onGenerate:r,isGenerating:a=!1}){let[l,n]=(0,s.useState)("2-weeks"),[i,o]=(0,s.useState)(21),[d,c]=(0,s.useState)("moderate"),[m,x]=(0,s.useState)(""),[u,h]=(0,s.useState)(2),[g,p]=(0,s.useState)(()=>new Date().toISOString().split("T")[0]??""),y=e>0&&!a,b=()=>{switch(l){case"1-week":return 7;case"2-weeks":return 14;case"1-month":return 30;case"custom":return i}};return(0,t.jsxs)("form",{onSubmit:e=>{e.preventDefault(),y&&r({duration:l,customDays:"custom"===l?i:void 0,intensity:d,learningGoals:m,hoursPerDay:u,startDate:g})},className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Study Duration"}),(0,t.jsx)("div",{className:"mt-3 grid grid-cols-2 gap-3 sm:grid-cols-4",children:[{value:"1-week",label:"1 Week",days:7},{value:"2-weeks",label:"2 Weeks",days:14},{value:"1-month",label:"1 Month",days:30},{value:"custom",label:"Custom",days:null}].map(e=>(0,t.jsx)("button",{type:"button",onClick:()=>n(e.value),disabled:a,className:`rounded-lg border-2 px-4 py-3 text-sm font-medium transition-all ${l===e.value?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-200 bg-white text-gray-600 hover:border-gray-300 hover:bg-gray-50"} ${a?"cursor-not-allowed opacity-50":""}`,children:(0,t.jsxs)("div",{className:"flex flex-col items-center gap-1",children:[(0,t.jsx)("span",{children:e.label}),e.days&&(0,t.jsxs)("span",{className:"text-xs text-gray-400",children:[e.days," days"]})]})},e.value))}),"custom"===l&&(0,t.jsxs)("div",{className:"mt-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("input",{type:"range",id:"customDays",min:3,max:90,step:1,value:i,onChange:e=>o(Number(e.target.value)),className:"h-2 w-full cursor-pointer appearance-none rounded-lg bg-gray-200 accent-blue-600",disabled:a}),(0,t.jsxs)("span",{className:"w-20 text-center text-sm font-semibold text-gray-900",children:[i," days"]})]}),(0,t.jsxs)("div",{className:"mt-1 flex justify-between text-xs text-gray-500",children:[(0,t.jsx)("span",{children:"3 days"}),(0,t.jsx)("span",{children:"90 days"})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Study Intensity"}),(0,t.jsx)("div",{className:"mt-3 space-y-3",children:[{value:"light",label:"Light",description:"Relaxed pace with more review time",icon:(0,t.jsx)("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"})}),color:"green"},{value:"moderate",label:"Moderate",description:"Balanced learning with steady progress",icon:(0,t.jsx)("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"})}),color:"yellow"},{value:"intensive",label:"Intensive",description:"Fast-paced with comprehensive coverage",icon:(0,t.jsx)("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),color:"red"}].map(e=>(0,t.jsxs)("label",{className:`flex cursor-pointer items-start gap-3 rounded-lg border-2 p-4 transition-all ${d===e.value?"green"===e.color?"border-green-500 bg-green-50":"yellow"===e.color?"border-yellow-500 bg-yellow-50":"border-red-500 bg-red-50":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"} ${a?"cursor-not-allowed opacity-50":""}`,children:[(0,t.jsx)("input",{type:"radio",name:"intensity",value:e.value,checked:d===e.value,onChange:()=>c(e.value),disabled:a,className:"mt-1 h-4 w-4 border-gray-300 text-blue-600 focus:ring-blue-500"}),(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)("div",{className:`${"green"===e.color?"text-green-600":"yellow"===e.color?"text-yellow-600":"text-red-600"}`,children:e.icon}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"block font-medium text-gray-900",children:e.label}),(0,t.jsx)("span",{className:"block text-sm text-gray-500",children:e.description})]})]})]},e.value))})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{htmlFor:"learningGoals",className:"block text-sm font-medium text-gray-700",children:["Learning Goals ",(0,t.jsx)("span",{className:"text-gray-400",children:"(optional)"})]}),(0,t.jsx)("div",{className:"mt-2",children:(0,t.jsx)("textarea",{id:"learningGoals",value:m,onChange:e=>x(e.target.value),placeholder:"e.g., Master the fundamentals of machine learning, Prepare for certification exam, Understand key concepts for project...",disabled:a,rows:3,className:"block w-full rounded-lg border border-gray-300 px-4 py-2.5 text-sm text-gray-900 placeholder-gray-400 focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500 disabled:cursor-not-allowed disabled:bg-gray-50 disabled:opacity-50"})}),(0,t.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"Describe what you want to achieve with this learning plan"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"hoursPerDay",className:"block text-sm font-medium text-gray-700",children:"Study Time Per Day"}),(0,t.jsxs)("div",{className:"mt-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("input",{type:"range",id:"hoursPerDay",min:.5,max:8,step:.5,value:u,onChange:e=>h(Number(e.target.value)),className:"h-2 w-full cursor-pointer appearance-none rounded-lg bg-gray-200 accent-blue-600",disabled:a}),(0,t.jsxs)("span",{className:"w-20 text-center text-sm font-semibold text-gray-900",children:[u," hr",1!==u?"s":""]})]}),(0,t.jsxs)("div",{className:"mt-1 flex justify-between text-xs text-gray-500",children:[(0,t.jsx)("span",{children:"0.5 hr"}),(0,t.jsx)("span",{children:"8 hrs"})]})]}),(0,t.jsxs)("p",{className:"mt-1 text-xs text-gray-500",children:["Total study time: approximately ",b()*u," hours over ",b()," days"]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"startDate",className:"block text-sm font-medium text-gray-700",children:"Start Date"}),(0,t.jsx)("div",{className:"mt-2",children:(0,t.jsx)("input",{type:"date",id:"startDate",value:g,onChange:e=>p(e.target.value),disabled:a,className:"block w-full rounded-lg border border-gray-300 px-4 py-2.5 text-sm text-gray-900 focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500 disabled:cursor-not-allowed disabled:bg-gray-50 disabled:opacity-50"})}),(0,t.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"When do you want to start your learning plan?"})]}),(0,t.jsxs)("div",{className:"pt-2",children:[(0,t.jsx)("button",{type:"submit",disabled:!y,className:`flex w-full items-center justify-center gap-2 rounded-lg px-6 py-3 text-sm font-semibold transition-all ${y?"bg-gradient-to-r from-blue-600 to-purple-600 text-white shadow-md hover:from-blue-700 hover:to-purple-700 hover:shadow-lg":"cursor-not-allowed bg-gray-200 text-gray-400"}`,children:a?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("svg",{className:"h-5 w-5 animate-spin",fill:"none",viewBox:"0 0 24 24",children:[(0,t.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,t.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),(0,t.jsx)("span",{children:"Generating..."})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),(0,t.jsx)("span",{children:"Generate Learning Plan"})]})}),0===e&&(0,t.jsx)("p",{className:"mt-2 text-center text-xs text-amber-600",children:"Please select at least one document to generate a learning plan"})]})]})}function o({milestone:e,isLast:s,currentDay:r}){let a=r>=e.targetDay,l=!a&&r>=e.targetDay-3;return(0,t.jsxs)("div",{className:"flex gap-4",children:[(0,t.jsxs)("div",{className:"flex flex-col items-center",children:[(0,t.jsx)("div",{className:`flex h-8 w-8 items-center justify-center rounded-full border-2 ${e.isCompleted?"border-green-500 bg-green-500 text-white":l?"border-blue-500 bg-blue-50 text-blue-600":a?"border-amber-500 bg-amber-50 text-amber-600":"border-gray-300 bg-white text-gray-400"}`,children:e.isCompleted?(0,t.jsx)("svg",{className:"h-4 w-4",fill:"currentColor",viewBox:"0 0 20 20",children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}):(0,t.jsx)("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),!s&&(0,t.jsx)("div",{className:`w-0.5 flex-1 ${e.isCompleted?"bg-green-300":"bg-gray-200"}`})]}),(0,t.jsx)("div",{className:`flex-1 pb-6 ${s?"pb-0":""}`,children:(0,t.jsxs)("div",{className:"flex items-start justify-between gap-2",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:`font-medium ${e.isCompleted?"text-green-700":l?"text-blue-700":"text-gray-900"}`,children:e.title}),(0,t.jsx)("p",{className:"mt-0.5 text-sm text-gray-500",children:e.description})]}),(0,t.jsxs)("span",{className:`flex-shrink-0 rounded-full px-2 py-1 text-xs font-medium ${e.isCompleted?"bg-green-100 text-green-700":l?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-600"}`,children:["Day ",e.targetDay]})]})})]})}function d({plan:e,onTitleChange:r,onBack:a}){let[l,n]=(0,s.useState)(!1),[i,d]=(0,s.useState)(e.title),c=(0,s.useCallback)(()=>{i.trim()&&i!==e.title&&r?.(i.trim()),n(!1)},[i,e.title,r]),m=(0,s.useCallback)(()=>{d(e.title),n(!1)},[e.title]),x=(0,s.useCallback)(e=>{"Enter"===e.key?c():"Escape"===e.key&&m()},[c,m]),u=e=>new Date(e).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric",year:"numeric"}),h=e.completedDays+1,g=Math.round(e.completedDays/e.totalDays*100);return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[a&&(0,t.jsx)("button",{onClick:a,className:"flex items-center gap-1 rounded-lg p-2 text-gray-600 hover:bg-gray-100 hover:text-gray-900 transition-colors","aria-label":"Go back",children:(0,t.jsx)("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Learning Plan"}),(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Plan Overview"})]})]})}),(0,t.jsxs)("div",{className:"rounded-lg border border-gray-200 bg-white p-6 shadow-sm",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,t.jsxs)("div",{className:"flex-1",children:[l?(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("input",{type:"text",value:i,onChange:e=>d(e.target.value),onKeyDown:x,autoFocus:!0,className:"flex-1 rounded-lg border border-blue-300 px-3 py-2 text-xl font-semibold text-gray-900 focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200",placeholder:"Enter plan title..."}),(0,t.jsx)("button",{onClick:c,className:"rounded-lg bg-blue-600 p-2 text-white hover:bg-blue-700 transition-colors","aria-label":"Save title",children:(0,t.jsx)("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),(0,t.jsx)("button",{onClick:m,className:"rounded-lg border border-gray-300 bg-white p-2 text-gray-600 hover:bg-gray-50 transition-colors","aria-label":"Cancel editing",children:(0,t.jsx)("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}):(0,t.jsxs)("div",{className:"group flex items-center gap-2",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:e.title}),(0,t.jsx)("button",{onClick:()=>n(!0),className:"rounded p-1 text-gray-400 opacity-0 group-hover:opacity-100 hover:bg-gray-100 hover:text-gray-600 transition-all","aria-label":"Edit title",children:(0,t.jsx)("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})})})]}),(0,t.jsxs)("p",{className:"mt-1 text-sm text-gray-500",children:["Created on ",u(e.createdAt)]})]}),(0,t.jsxs)("span",{className:`rounded-full px-3 py-1 text-sm font-medium capitalize ${"light"===e.config.intensity?"bg-green-100 text-green-700":"moderate"===e.config.intensity?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:[e.config.intensity," Intensity"]})]}),e.config.learningGoals&&(0,t.jsx)("div",{className:"mt-4 rounded-lg bg-blue-50 p-4",children:(0,t.jsxs)("div",{className:"flex items-start gap-2",children:[(0,t.jsx)("svg",{className:"mt-0.5 h-5 w-5 flex-shrink-0 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs font-medium text-blue-700 uppercase tracking-wide",children:"Learning Goals"}),(0,t.jsx)("p",{className:"mt-1 text-sm text-blue-900",children:e.config.learningGoals})]})]})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4 sm:grid-cols-4",children:[(0,t.jsx)("div",{className:"rounded-lg border border-gray-200 bg-white p-4 shadow-sm",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-blue-100",children:(0,t.jsx)("svg",{className:"h-5 w-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:e.totalDays}),(0,t.jsx)("p",{className:"text-xs text-gray-500",children:"Total Days"})]})]})}),(0,t.jsx)("div",{className:"rounded-lg border border-gray-200 bg-white p-4 shadow-sm",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-purple-100",children:(0,t.jsx)("svg",{className:"h-5 w-5 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:e.totalStudyHours}),(0,t.jsx)("p",{className:"text-xs text-gray-500",children:"Study Hours"})]})]})}),(0,t.jsx)("div",{className:"rounded-lg border border-gray-200 bg-white p-4 shadow-sm",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-green-100",children:(0,t.jsx)("svg",{className:"h-5 w-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:e.studyDaysCount}),(0,t.jsx)("p",{className:"text-xs text-gray-500",children:"Study Days"})]})]})}),(0,t.jsx)("div",{className:"rounded-lg border border-gray-200 bg-white p-4 shadow-sm",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-amber-100",children:(0,t.jsx)("svg",{className:"h-5 w-5 text-amber-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"})})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:e.restDaysCount}),(0,t.jsx)("p",{className:"text-xs text-gray-500",children:"Rest Days"})]})]})})]}),(0,t.jsxs)("div",{className:"rounded-lg border border-gray-200 bg-white p-6 shadow-sm",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Schedule"}),(0,t.jsxs)("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Start Date"}),(0,t.jsx)("p",{className:"mt-1 text-sm font-medium text-gray-900",children:u(e.startDate)})]}),(0,t.jsx)("div",{className:"hidden sm:block",children:(0,t.jsx)("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 8l4 4m0 0l-4 4m4-4H3"})})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Estimated Completion"}),(0,t.jsx)("p",{className:"mt-1 text-sm font-medium text-gray-900",children:u(e.endDate)})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)("span",{className:"text-sm text-gray-500",children:[e.config.hoursPerDay," hrs/day"]}),(0,t.jsx)("span",{className:"text-gray-300",children:"â€¢"}),(0,t.jsxs)("span",{className:"text-sm text-gray-500",children:[e.sourceDocuments.length," document",1!==e.sourceDocuments.length?"s":""]})]})]}),(0,t.jsxs)("div",{className:"mt-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Overall Progress"}),(0,t.jsxs)("span",{className:"text-sm text-gray-500",children:[g,"% complete"]})]}),(0,t.jsx)("div",{className:"h-3 w-full rounded-full bg-gray-200",children:(0,t.jsx)("div",{className:"h-3 rounded-full bg-gradient-to-r from-blue-500 to-purple-500 transition-all duration-500",style:{width:`${g}%`}})}),(0,t.jsxs)("p",{className:"mt-2 text-xs text-gray-500",children:[e.completedDays," of ",e.totalDays," days completed"]})]})]}),(0,t.jsxs)("div",{className:"rounded-lg border border-gray-200 bg-white p-6 shadow-sm",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Key Milestones"}),(0,t.jsxs)("span",{className:"rounded-full bg-blue-100 px-2 py-1 text-xs font-medium text-blue-700",children:[e.milestones.filter(e=>e.isCompleted).length,"/",e.milestones.length," completed"]})]}),(0,t.jsx)("div",{className:"space-y-0",children:e.milestones.map((s,r)=>(0,t.jsx)(o,{milestone:s,isLast:r===e.milestones.length-1,currentDay:h},s.id))})]})]})}function c({calendarDay:e,isSelected:r,onClick:a}){let{date:l,isCurrentMonth:n,dailyPlan:i,milestone:o,isToday:d}=e,c=!!i,m=i?.isRestDay??!1,x=i?.isCompleted??!1,u=!!o,h=(0,s.useCallback)(()=>{c&&a&&a()},[c,a]),g=(0,s.useCallback)(e=>{("Enter"===e.key||" "===e.key)&&c&&a&&(e.preventDefault(),a())},[c,a]);return(0,t.jsxs)("div",{role:c?"button":void 0,tabIndex:c?0:-1,onClick:h,onKeyDown:g,className:`
        relative min-h-[80px] p-1 border-b border-r border-gray-200
        ${!n?"bg-gray-50":"bg-white"}
        ${c?"cursor-pointer hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-blue-500":""}
        ${r?"ring-2 ring-inset ring-blue-500 bg-blue-50":""}
        transition-colors
      `,"aria-label":c?`Day ${i?.dayNumber}: ${m?"Rest day":"Study day"}${u?`, Milestone: ${o?.title}`:""}`:void 0,children:[(0,t.jsx)("div",{className:`
        flex items-center justify-center w-7 h-7 text-sm font-medium rounded-full
        ${d?"bg-blue-600 text-white":""}
        ${!d&&!n?"text-gray-400":""}
        ${!d&&n?"text-gray-900":""}
      `,children:l.getDate()}),c&&(0,t.jsxs)("div",{className:"mt-1 space-y-1",children:[(0,t.jsx)("div",{className:`
            flex items-center gap-1 px-1.5 py-0.5 rounded text-xs font-medium
            ${m?"bg-amber-100 text-amber-700":x?"bg-green-100 text-green-700":"bg-blue-100 text-blue-700"}
          `,children:m?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"})}),(0,t.jsx)("span",{className:"hidden sm:inline",children:"Rest"})]}):x?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),(0,t.jsx)("span",{className:"hidden sm:inline",children:"Done"})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})}),(0,t.jsx)("span",{className:"hidden sm:inline",children:"Study"})]})}),u&&(0,t.jsxs)("div",{className:"flex items-center gap-1 px-1.5 py-0.5 rounded text-xs font-medium bg-purple-100 text-purple-700",children:[(0,t.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"})}),(0,t.jsx)("span",{className:"hidden sm:inline truncate",children:o?.title})]}),(0,t.jsxs)("div",{className:"absolute bottom-1 right-1 text-[10px] text-gray-400 font-medium",children:["D",i?.dayNumber]})]}),d&&(0,t.jsx)("div",{className:"absolute inset-0 border-2 border-blue-500 pointer-events-none"})]})}function m({dailyPlans:e,milestones:r,startDate:a,onDayClick:l,selectedDayId:n}){let i=(0,s.useMemo)(()=>new Date(a),[a]),[o,d]=(0,s.useState)(i.getMonth()),[m,x]=(0,s.useState)(i.getFullYear()),u=(0,s.useMemo)(()=>0===e.length?{start:new Date,end:new Date}:{start:new Date(e[0]?.date??a),end:new Date(e[e.length-1]?.date??a)},[e,a]),h=(0,s.useMemo)(()=>(function(e,t,s,r){let a=new Date(e,t,1),l=new Date(e,t+1,0),n=new Date;n.setHours(0,0,0,0);let i=new Map;s.forEach(e=>{i.set(e.date,e)});let o=new Map;r.forEach(e=>{o.set(e.targetDay,e)});let d=[],c=[],m=a.getDay();for(let s=0;s<m;s++){let r=new Date(e,t,-m+s+1);c.push({date:r,dayNumber:0,isCurrentMonth:!1,isToday:!1})}for(let s=1;s<=l.getDate();s++){let r=new Date(e,t,s),a=r.toISOString().split("T")[0]??"",l=i.get(a),m=l?o.get(l.dayNumber):void 0;c.push({date:r,dayNumber:s,isCurrentMonth:!0,dailyPlan:l,milestone:m,isToday:r.getTime()===n.getTime()}),7===c.length&&(d.push(c),c=[])}if(c.length>0){let s=7-c.length;for(let r=1;r<=s;r++){let s=new Date(e,t+1,r);c.push({date:s,dayNumber:0,isCurrentMonth:!1,isToday:!1})}d.push(c)}return d})(m,o,e,r),[m,o,e,r]),g=(0,s.useCallback)(()=>{0===o?(d(11),x(e=>e-1)):d(e=>e-1)},[o]),p=(0,s.useCallback)(()=>{11===o?(d(0),x(e=>e+1)):d(e=>e+1)},[o]),y=(0,s.useCallback)(()=>{let e=new Date;d(e.getMonth()),x(e.getFullYear())},[]),b=(0,s.useMemo)(()=>new Date(m,o).toLocaleDateString("en-US",{month:"long",year:"numeric"}),[m,o]),j=(0,s.useMemo)(()=>{let e=new Date(m,o-1),t=new Date(u.start);return t.setMonth(t.getMonth()-1),e>=t},[m,o,u.start]),v=(0,s.useMemo)(()=>{let e=new Date(m,o+1),t=new Date(u.end);return t.setMonth(t.getMonth()+1),e<=t},[m,o,u.end]);return(0,t.jsxs)("div",{className:"rounded-lg border border-gray-200 bg-white shadow-sm",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between border-b border-gray-200 px-4 py-3",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Timeline"}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("button",{onClick:y,className:"rounded-lg border border-gray-300 bg-white px-3 py-1.5 text-sm font-medium text-gray-700 hover:bg-gray-50 transition-colors",children:"Today"}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)("button",{onClick:g,disabled:!j,className:"rounded-lg p-1.5 text-gray-600 hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors","aria-label":"Previous month",children:(0,t.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),(0,t.jsx)("span",{className:"min-w-[140px] text-center text-sm font-medium text-gray-900",children:b}),(0,t.jsx)("button",{onClick:p,disabled:!v,className:"rounded-lg p-1.5 text-gray-600 hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors","aria-label":"Next month",children:(0,t.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]})]})]}),(0,t.jsxs)("div",{className:"flex flex-wrap items-center gap-4 border-b border-gray-200 px-4 py-2 bg-gray-50",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1.5 text-xs text-gray-600",children:[(0,t.jsx)("div",{className:"w-3 h-3 rounded bg-blue-100 border border-blue-200"}),(0,t.jsx)("span",{children:"Study Day"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-1.5 text-xs text-gray-600",children:[(0,t.jsx)("div",{className:"w-3 h-3 rounded bg-amber-100 border border-amber-200"}),(0,t.jsx)("span",{children:"Rest Day"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-1.5 text-xs text-gray-600",children:[(0,t.jsx)("div",{className:"w-3 h-3 rounded bg-green-100 border border-green-200"}),(0,t.jsx)("span",{children:"Completed"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-1.5 text-xs text-gray-600",children:[(0,t.jsx)("div",{className:"w-3 h-3 rounded bg-purple-100 border border-purple-200"}),(0,t.jsx)("span",{children:"Milestone"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-1.5 text-xs text-gray-600",children:[(0,t.jsx)("div",{className:"w-3 h-3 rounded-full bg-blue-600"}),(0,t.jsx)("span",{children:"Today"})]})]}),(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("div",{className:"min-w-[600px]",children:[(0,t.jsx)("div",{className:"grid grid-cols-7 border-b border-gray-200",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(e=>(0,t.jsx)("div",{className:"py-2 text-center text-xs font-semibold text-gray-600 uppercase tracking-wide bg-gray-50",children:e},e))}),(0,t.jsx)("div",{children:h.map((e,s)=>(0,t.jsx)("div",{className:"grid grid-cols-7",children:e.map((e,r)=>(0,t.jsx)(c,{calendarDay:e,isSelected:e.dailyPlan?.id===n,onClick:e.dailyPlan?()=>l?.(e.dailyPlan):void 0},`${s}-${r}`))},s))})]})}),(0,t.jsxs)("div",{className:"flex items-center justify-between border-t border-gray-200 px-4 py-3 bg-gray-50",children:[(0,t.jsxs)("div",{className:"text-sm text-gray-600",children:[(0,t.jsx)("span",{className:"font-medium",children:e.filter(e=>!e.isRestDay).length})," study days,"," ",(0,t.jsx)("span",{className:"font-medium",children:e.filter(e=>e.isRestDay).length})," rest days"]}),(0,t.jsxs)("div",{className:"text-sm text-gray-600",children:[(0,t.jsx)("span",{className:"font-medium",children:e.filter(e=>e.isCompleted).length})," of"," ",(0,t.jsx)("span",{className:"font-medium",children:e.length})," days completed"]})]})]})}function x(e){if(e<60)return`${e}m`;let t=Math.floor(e/60),s=e%60;return s>0?`${t}h ${s}m`:`${t}h`}function u({day:e,onClose:r,onCompletionChange:a,onNotesChange:l}){let[n,i]=(0,s.useState)(e.notes||""),[o,d]=(0,s.useState)(e.isCompleted),[c,m]=(0,s.useState)(!1),u=(0,s.useCallback)(()=>{let t=!o;d(t),a?.(e.id,t)},[o,e.id,a]),h=(0,s.useCallback)(e=>{i(e.target.value)},[]),g=(0,s.useCallback)(()=>{l?.(e.id,n),m(!1)},[e.id,n,l]),p=(0,s.useCallback)(()=>{i(e.notes||""),m(!1)},[e.notes]),y=function(e,t){if(0===e.length)return[];let s=Math.floor(t/e.length),r=t%e.length;return e.map((e,t)=>({name:e,estimatedMinutes:s+ +(t<r)}))}(e.topics,e.estimatedMinutes),b=new Date(e.date).toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric"});return(0,t.jsxs)("div",{className:"rounded-lg border border-blue-200 bg-white shadow-sm overflow-hidden",children:[(0,t.jsx)("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 px-6 py-4 border-b border-blue-100",children:(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{className:"flex items-start gap-4",children:[(0,t.jsx)("button",{onClick:u,className:`mt-1 flex h-6 w-6 flex-shrink-0 items-center justify-center rounded-md border-2 transition-colors ${o?"border-green-500 bg-green-500 text-white":"border-gray-300 bg-white hover:border-blue-400"}`,"aria-label":o?"Mark as incomplete":"Mark as complete",children:o&&(0,t.jsx)("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)("h3",{className:"text-xl font-bold text-gray-900",children:["Day ",e.dayNumber]}),(0,t.jsx)("span",{className:`rounded-full px-2.5 py-0.5 text-xs font-medium ${e.isRestDay?"bg-amber-100 text-amber-700":o?"bg-green-100 text-green-700":"bg-blue-100 text-blue-700"}`,children:e.isRestDay?"Rest Day":o?"Completed":"Study Day"})]}),(0,t.jsx)("p",{className:"text-sm text-gray-600 mt-0.5",children:b})]})]}),r&&(0,t.jsx)("button",{onClick:r,className:"rounded-lg p-1.5 text-gray-500 hover:bg-white/50 hover:text-gray-700 transition-colors","aria-label":"Close details",children:(0,t.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),(0,t.jsxs)("div",{className:"p-6",children:[e.isRestDay?(0,t.jsxs)("div",{className:"flex items-center gap-4 rounded-lg bg-amber-50 p-4",children:[(0,t.jsx)("div",{className:"flex h-14 w-14 items-center justify-center rounded-full bg-amber-100",children:(0,t.jsx)("svg",{className:"w-7 h-7 text-amber-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"})})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-semibold text-amber-900",children:"Take a well-deserved break!"}),(0,t.jsx)("p",{className:"text-sm text-amber-700 mt-1",children:"Rest days are essential for consolidating what you've learned. Light review is optional but can help reinforce key concepts."})]})]}):(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h4",{className:"text-sm font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[(0,t.jsx)("svg",{className:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})}),"Topics to Cover"]}),(0,t.jsx)("div",{className:"space-y-2",children:y.map((e,s)=>(0,t.jsxs)("div",{className:"flex items-center justify-between rounded-lg bg-gray-50 px-4 py-3 border border-gray-100",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("span",{className:"flex h-6 w-6 items-center justify-center rounded-full bg-blue-100 text-xs font-medium text-blue-700",children:s+1}),(0,t.jsx)("span",{className:"text-sm text-gray-800",children:e.name})]}),(0,t.jsx)("span",{className:"text-xs font-medium text-gray-500 bg-white px-2 py-1 rounded border border-gray-200",children:x(e.estimatedMinutes)})]},s))}),(0,t.jsxs)("div",{className:"mt-3 flex items-center justify-end gap-2 text-sm text-gray-600",children:[(0,t.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,t.jsxs)("span",{children:["Total: ",(0,t.jsx)("strong",{children:x(e.estimatedMinutes)})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("h4",{className:"text-sm font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[(0,t.jsx)("svg",{className:"w-5 h-5 text-amber-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Related Materials"]}),e.materials.length>0?(0,t.jsx)("ul",{className:"space-y-2",children:e.materials.map((e,s)=>(0,t.jsxs)("li",{className:"flex items-center gap-3 text-sm text-gray-700 rounded-lg bg-amber-50 px-4 py-2.5 border border-amber-100",children:[(0,t.jsx)("svg",{className:"w-4 h-4 text-amber-500 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"})}),e]},s))}):(0,t.jsx)("p",{className:"text-sm text-gray-500 italic",children:"No specific materials assigned for this day."})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("h4",{className:"text-sm font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[(0,t.jsx)("svg",{className:"w-5 h-5 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"})}),"Suggested Activities"]}),(0,t.jsx)("div",{className:"grid gap-2 sm:grid-cols-2",children:e.activities.map((e,s)=>(0,t.jsxs)("div",{className:"flex items-start gap-2 rounded-lg bg-purple-50 px-3 py-2.5 border border-purple-100",children:[(0,t.jsx)("svg",{className:"w-4 h-4 text-purple-500 mt-0.5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),(0,t.jsx)("span",{className:"text-sm text-gray-700",children:e})]},s))})]})]}),(0,t.jsxs)("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,t.jsxs)("h4",{className:"text-sm font-semibold text-gray-900 flex items-center gap-2",children:[(0,t.jsx)("svg",{className:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),"Personal Notes"]}),!c&&n&&(0,t.jsx)("button",{onClick:()=>m(!0),className:"text-xs text-blue-600 hover:text-blue-700 font-medium",children:"Edit"})]}),c?(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)("textarea",{value:n,onChange:h,placeholder:"Add your personal notes, reflections, or reminders for this day...",className:"w-full rounded-lg border border-gray-300 px-4 py-3 text-sm text-gray-700 placeholder-gray-400 focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200 resize-none",rows:4,autoFocus:!0}),(0,t.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[(0,t.jsx)("button",{onClick:p,className:"rounded-lg border border-gray-300 bg-white px-3 py-1.5 text-sm font-medium text-gray-700 hover:bg-gray-50 transition-colors",children:"Cancel"}),(0,t.jsx)("button",{onClick:g,className:"rounded-lg bg-blue-600 px-3 py-1.5 text-sm font-medium text-white hover:bg-blue-700 transition-colors",children:"Save Notes"})]})]}):n?(0,t.jsx)("div",{className:"rounded-lg bg-green-50 px-4 py-3 border border-green-100",children:(0,t.jsx)("p",{className:"text-sm text-gray-700 whitespace-pre-wrap",children:n})}):(0,t.jsx)("button",{onClick:()=>m(!0),className:"w-full rounded-lg border-2 border-dashed border-gray-200 px-4 py-4 text-sm text-gray-500 hover:border-blue-300 hover:text-blue-600 hover:bg-blue-50/50 transition-colors",children:(0,t.jsxs)("span",{className:"flex items-center justify-center gap-2",children:[(0,t.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Add personal notes for this day"]})})]})]})]})}function h({percentage:e,size:s=120,strokeWidth:r=10}){let a=(s-r)/2,l=2*a*Math.PI;return(0,t.jsxs)("div",{className:"relative",style:{width:s,height:s},children:[(0,t.jsxs)("svg",{className:"transform -rotate-90",width:s,height:s,children:[(0,t.jsx)("circle",{className:"text-gray-200",strokeWidth:r,stroke:"currentColor",fill:"transparent",r:a,cx:s/2,cy:s/2}),(0,t.jsx)("circle",{className:"text-blue-600 transition-all duration-500",strokeWidth:r,strokeDasharray:l,strokeDashoffset:l-e/100*l,strokeLinecap:"round",stroke:"currentColor",fill:"transparent",r:a,cx:s/2,cy:s/2})]}),(0,t.jsxs)("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[(0,t.jsxs)("span",{className:"text-2xl font-bold text-gray-900",children:[e,"%"]}),(0,t.jsx)("span",{className:"text-xs text-gray-500",children:"Complete"})]})]})}function g({dailyPlans:e}){let r=(0,s.useMemo)(()=>{let t=[];for(let s=0;s<e.length;s+=7)t.push(e.slice(s,s+7));return t},[e]);return(0,t.jsx)("div",{className:"space-y-1",children:r.map((e,s)=>(0,t.jsx)("div",{className:"flex gap-1",children:e.map(e=>(0,t.jsx)("div",{className:`h-6 w-6 rounded-sm flex items-center justify-center text-[10px] font-medium ${e.isCompleted?"bg-green-500 text-white":e.isRestDay?"bg-amber-100 text-amber-700":"bg-gray-100 text-gray-500"}`,title:`Day ${e.dayNumber}: ${e.isCompleted?"Completed":e.isRestDay?"Rest":"Pending"}`,children:e.dayNumber},e.id))},s))})}function p({dailyPlans:e}){let r=(0,s.useMemo)(()=>e.filter(e=>!e.isCompleted&&!e.isRestDay).slice(0,3),[e]);return 0===r.length?(0,t.jsx)("div",{className:"text-center py-4 text-gray-500 text-sm",children:"All study days completed! ðŸŽ‰"}):(0,t.jsx)("div",{className:"space-y-3",children:r.map(e=>(0,t.jsxs)("div",{className:"rounded-lg bg-gray-50 p-3 border border-gray-100",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsxs)("span",{className:"text-sm font-medium text-gray-900",children:["Day ",e.dayNumber]}),(0,t.jsx)("span",{className:"text-xs text-gray-500",children:new Date(e.date).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})})]}),(0,t.jsxs)("div",{className:"space-y-1",children:[e.topics.slice(0,2).map((e,s)=>(0,t.jsxs)("div",{className:"flex items-center gap-2 text-xs text-gray-600",children:[(0,t.jsx)("div",{className:"h-1.5 w-1.5 rounded-full bg-blue-500"}),(0,t.jsx)("span",{className:"truncate",children:e})]},s)),e.topics.length>2&&(0,t.jsxs)("span",{className:"text-xs text-gray-400",children:["+",e.topics.length-2," more"]})]})]},e.id))})}function y({topic:e,index:s,dayId:r,onDragStart:a,onDragOver:l,onDrop:n,isDragging:i}){return(0,t.jsxs)("div",{draggable:!0,onDragStart:t=>a(t,{dayId:r,topicIndex:s,topic:e}),onDragOver:l,onDrop:e=>n(e,s,r),className:`flex items-center gap-2 rounded-lg bg-white px-3 py-2 border border-gray-200 cursor-move hover:border-blue-300 hover:shadow-sm transition-all ${i?"opacity-50":""}`,children:[(0,t.jsx)("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 8h16M4 16h16"})}),(0,t.jsx)("span",{className:"text-sm text-gray-700 flex-1",children:e})]})}function b({plan:e,onPlanUpdate:r,onSave:a,onShare:l,onReset:n,onDuplicate:i,onExport:o}){let[d,c]=(0,s.useState)(null),[m,x]=(0,s.useState)(null),[u,b]=(0,s.useState)([]),[j,v]=(0,s.useState)(!1),f=(0,s.useMemo)(()=>Math.round(e.completedDays/e.totalDays*100),[e.completedDays,e.totalDays]),N=(0,s.useMemo)(()=>{let t=0;for(let s of[...e.dailyPlans].sort((e,t)=>new Date(t.date).getTime()-new Date(e.date).getTime()))if(s.isCompleted&&!s.isRestDay)t++;else if(!s.isRestDay)break;return t},[e.dailyPlans]),w=(0,s.useCallback)((e,t)=>{c(t),e.dataTransfer.effectAllowed="move"},[]),k=(0,s.useCallback)(e=>{e.preventDefault(),e.dataTransfer.dropEffect="move"},[]),C=(0,s.useCallback)((t,s,a)=>{if(t.preventDefault(),!d||!r)return;let l=e.dailyPlans.map(e=>{if(e.id===d.dayId&&e.id===a){let t=[...e.topics],[r]=t.splice(d.topicIndex,1);return r&&t.splice(s,0,r),{...e,topics:t}}return e});r({...e,dailyPlans:l,updatedAt:new Date().toISOString()}),c(null)},[d,e,r]),D=(0,s.useCallback)(e=>{x(e.id),b([...e.topics])},[]),L=(0,s.useCallback)(()=>{if(!m||!r)return;let t=e.dailyPlans.map(e=>e.id===m?{...e,topics:u}:e);r({...e,dailyPlans:t,updatedAt:new Date().toISOString()}),x(null),b([])},[m,u,e,r]),S=(0,s.useCallback)(()=>{x(null),b([])},[]),M=(0,s.useCallback)((e,t)=>{b(s=>{let r=[...s];return r[e]=t,r})},[]),P=(0,s.useCallback)(()=>{b(e=>[...e,""])},[]),R=(0,s.useCallback)(e=>{b(t=>t.filter((t,s)=>s!==e))},[]),$=(0,s.useMemo)(()=>e.dailyPlans.find(e=>!e.isCompleted&&!e.isRestDay),[e.dailyPlans]);return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"rounded-lg border border-gray-200 bg-white p-6 shadow-sm",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Progress Tracking"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center",children:[(0,t.jsx)(h,{percentage:f}),(0,t.jsxs)("p",{className:"mt-3 text-sm text-gray-600",children:[e.completedDays," of ",e.totalDays," days"]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("div",{className:"rounded-lg bg-gradient-to-r from-orange-50 to-amber-50 p-4 border border-orange-100",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-orange-100",children:(0,t.jsx)("svg",{className:"h-5 w-5 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 18.657A8 8 0 016.343 7.343S7 9 9 10c0-2 .5-5 2.986-7C14 5 16.09 5.777 17.656 7.343A7.975 7.975 0 0120 13a7.975 7.975 0 01-2.343 5.657z"})})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-2xl font-bold text-orange-700",children:N}),(0,t.jsx)("p",{className:"text-xs text-orange-600",children:"Day Streak"})]})]})}),(0,t.jsx)("div",{className:"rounded-lg bg-gradient-to-r from-green-50 to-emerald-50 p-4 border border-green-100",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-green-100",children:(0,t.jsx)("svg",{className:"h-5 w-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-2xl font-bold text-green-700",children:e.dailyPlans.filter(e=>e.isCompleted&&!e.isRestDay).length}),(0,t.jsx)("p",{className:"text-xs text-green-600",children:"Study Days Done"})]})]})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-700 mb-3",children:"Completion Calendar"}),(0,t.jsx)(g,{dailyPlans:e.dailyPlans})]})]})]}),(0,t.jsxs)("div",{className:"rounded-lg border border-gray-200 bg-white p-6 shadow-sm",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Upcoming Topics"}),(0,t.jsx)(p,{dailyPlans:e.dailyPlans})]}),$&&!$.isRestDay&&(0,t.jsxs)("div",{className:"rounded-lg border border-gray-200 bg-white p-6 shadow-sm",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsxs)("h3",{className:"text-lg font-semibold text-gray-900",children:["Day ",$.dayNumber," Topics"]}),m===$.id?(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("button",{onClick:S,className:"rounded-lg border border-gray-300 bg-white px-3 py-1.5 text-sm font-medium text-gray-700 hover:bg-gray-50 transition-colors",children:"Cancel"}),(0,t.jsx)("button",{onClick:L,className:"rounded-lg bg-blue-600 px-3 py-1.5 text-sm font-medium text-white hover:bg-blue-700 transition-colors",children:"Save Changes"})]}):(0,t.jsxs)("button",{onClick:()=>D($),className:"flex items-center gap-1 rounded-lg border border-gray-300 bg-white px-3 py-1.5 text-sm font-medium text-gray-700 hover:bg-gray-50 transition-colors",children:[(0,t.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})}),"Edit Plan"]})]}),(0,t.jsx)("p",{className:"text-sm text-gray-500 mb-4",children:m===$.id?"Edit topics or drag to reorder them.":"Drag topics to reorder them for this day."}),m===$.id?(0,t.jsxs)("div",{className:"space-y-2",children:[u.map((e,s)=>(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("input",{type:"text",value:e,onChange:e=>M(s,e.target.value),className:"flex-1 rounded-lg border border-gray-300 px-3 py-2 text-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200",placeholder:"Enter topic..."}),(0,t.jsx)("button",{onClick:()=>R(s),className:"rounded-lg p-2 text-gray-400 hover:bg-red-50 hover:text-red-600 transition-colors","aria-label":"Remove topic",children:(0,t.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]},s)),(0,t.jsx)("button",{onClick:P,className:"w-full rounded-lg border-2 border-dashed border-gray-200 px-3 py-2 text-sm text-gray-500 hover:border-blue-300 hover:text-blue-600 transition-colors",children:"+ Add Topic"})]}):(0,t.jsx)("div",{className:"space-y-2",children:$.topics.map((e,s)=>(0,t.jsx)(y,{topic:e,index:s,dayId:$.id,onDragStart:w,onDragOver:k,onDrop:C,isDragging:d?.dayId===$.id&&d?.topicIndex===s},`${$.id}-${s}`))})]}),(0,t.jsxs)("div",{className:"rounded-lg border border-gray-200 bg-white p-6 shadow-sm",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Actions"}),(0,t.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[(0,t.jsxs)("button",{onClick:a,className:"flex flex-col items-center gap-2 rounded-lg border border-gray-200 bg-white p-4 hover:bg-gray-50 hover:border-blue-300 transition-colors",children:[(0,t.jsx)("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4"})}),(0,t.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Save"})]}),(0,t.jsxs)("button",{onClick:l,className:"flex flex-col items-center gap-2 rounded-lg border border-gray-200 bg-white p-4 hover:bg-gray-50 hover:border-green-300 transition-colors",children:[(0,t.jsx)("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z"})}),(0,t.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Share"})]}),(0,t.jsxs)("button",{onClick:n,className:"flex flex-col items-center gap-2 rounded-lg border border-gray-200 bg-white p-4 hover:bg-gray-50 hover:border-amber-300 transition-colors",children:[(0,t.jsx)("svg",{className:"w-6 h-6 text-amber-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),(0,t.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Reset"})]}),(0,t.jsxs)("button",{onClick:i,className:"flex flex-col items-center gap-2 rounded-lg border border-gray-200 bg-white p-4 hover:bg-gray-50 hover:border-purple-300 transition-colors",children:[(0,t.jsx)("svg",{className:"w-6 h-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})}),(0,t.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Duplicate"})]})]}),(0,t.jsx)("div",{className:"mt-4 pt-4 border-t border-gray-200",children:(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsxs)("button",{onClick:()=>v(!j),className:"w-full flex items-center justify-center gap-2 rounded-lg border border-gray-200 bg-white px-4 py-3 text-sm font-medium text-gray-700 hover:bg-gray-50 transition-colors",children:[(0,t.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})}),"Export Plan",(0,t.jsx)("svg",{className:`w-4 h-4 transition-transform ${j?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),j&&(0,t.jsxs)("div",{className:"absolute bottom-full left-0 right-0 mb-2 rounded-lg border border-gray-200 bg-white shadow-lg overflow-hidden z-10",children:[(0,t.jsxs)("button",{onClick:()=>{o?.("google-calendar"),v(!1)},className:"w-full flex items-center gap-3 px-4 py-3 text-sm text-gray-700 hover:bg-gray-50 transition-colors",children:[(0,t.jsx)("svg",{className:"w-5 h-5 text-blue-600",viewBox:"0 0 24 24",fill:"currentColor",children:(0,t.jsx)("path",{d:"M19.5 3h-15A1.5 1.5 0 003 4.5v15A1.5 1.5 0 004.5 21h15a1.5 1.5 0 001.5-1.5v-15A1.5 1.5 0 0019.5 3zM12 18a6 6 0 110-12 6 6 0 010 12z"})}),"Google Calendar"]}),(0,t.jsxs)("button",{onClick:()=>{o?.("ical"),v(!1)},className:"w-full flex items-center gap-3 px-4 py-3 text-sm text-gray-700 hover:bg-gray-50 transition-colors border-t border-gray-100",children:[(0,t.jsx)("svg",{className:"w-5 h-5 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"iCal (.ics)"]}),(0,t.jsxs)("button",{onClick:()=>{o?.("pdf"),v(!1)},className:"w-full flex items-center gap-3 px-4 py-3 text-sm text-gray-700 hover:bg-gray-50 transition-colors border-t border-gray-100",children:[(0,t.jsx)("svg",{className:"w-5 h-5 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"})}),"PDF Document"]})]})]})})]})]})}function j(e){switch(e){case"light":return 2;case"moderate":return 4;case"intensive":return 7}}function v(e,t){let s=new Date(e);return s.setDate(s.getDate()+t),s.toISOString().split("T")[0]??""}var f=e.i(18339),N=e.i(77001);function w(){let{user:e}=(0,a.useAuth)(),{folders:r,fetchFolders:o,loading:c}=(0,f.useFolders)(),{documents:x,fetchDocuments:h,loading:g}=(0,N.useDocuments)(),[p,y]=(0,s.useState)(new Set),[w,k]=(0,s.useState)("selection"),[C,D]=(0,s.useState)(null),[L,S]=(0,s.useState)(0),[M,P]=(0,s.useState)(null),[R,$]=(0,s.useState)(null);(0,s.useEffect)(()=>{e?.uid&&(o(),h())},[e?.uid,o,h]);let B=(0,s.useCallback)(e=>{y(e)},[]),A=e=>{switch(e.duration){case"1-week":return"1 week";case"2-weeks":return"2 weeks";case"1-month":return"1 month";case"custom":return`${e.customDays} days`}},T=(0,s.useCallback)(async e=>{D(e),k("generating"),S(0);let t=setInterval(()=>{S(e=>e>=100?(clearInterval(t),100):e+10)},300);setTimeout(()=>{var s;let r,a,l,n,i,o,d;clearInterval(t),S(100),P((s=Array.from(p),a=Math.floor((r=function(e,t){switch(e){case"1-week":return 7;case"2-weeks":return 14;case"1-month":return 30;case"custom":return t||14}}(e.duration,e.customDays))/j(e.intensity)),n=(l=r-a)*e.hoursPerDay,i=v(e.startDate,r-1),o=function(e){let t=[],s=Math.min(5,Math.max(3,Math.floor(e/5))),r=[{title:"Foundation Complete",description:"Master the fundamental concepts and terminology"},{title:"Core Concepts Mastered",description:"Understand and apply core principles"},{title:"Intermediate Progress",description:"Connect concepts and build deeper understanding"},{title:"Advanced Topics",description:"Tackle complex topics and edge cases"},{title:"Final Review",description:"Comprehensive review and knowledge consolidation"}];for(let a=0;a<s;a++){let l=Math.floor(e/s*(a+1)),n=r[a]||r[r.length-1];t.push({id:`milestone-${a+1}`,title:n?.title??`Milestone ${a+1}`,description:n?.description??"Complete this phase of learning",targetDay:l,isCompleted:!1})}return t}(r),d=function(e,t,s,r){let a=[],l=j(r),n=["Introduction and Overview","Key Terminology and Definitions","Fundamental Principles","Core Concepts Deep Dive","Practical Applications","Case Studies Analysis","Problem-Solving Techniques","Advanced Topics","Integration and Synthesis","Review and Practice","Assessment Preparation","Knowledge Consolidation"],i=["Read chapter materials","Watch video explanations","Complete practice exercises","Review flashcards","Take practice quiz","Write summary notes","Discuss with study group","Apply concepts to examples","Create mind maps","Review previous topics"];for(let r=1;r<=e;r++){let e=r%l==0,o=v(t,r-1);if(e)a.push({id:`day-${r}`,dayNumber:r,date:o,isRestDay:!0,isCompleted:!1,topics:["Rest and Review"],estimatedMinutes:0,materials:[],activities:["Light review of previous topics","Rest and recharge"],notes:""});else{let e=(r-1)%n.length,t=[n[e]??"Study Session",n[(e+1)%n.length]??"Practice"],l=[i[r%i.length]??"Study",i[(r+1)%i.length]??"Review",i[(r+2)%i.length]??"Practice"];a.push({id:`day-${r}`,dayNumber:r,date:o,isRestDay:!1,isCompleted:!1,topics:t,estimatedMinutes:60*s,materials:["Selected documents","Supplementary resources"],activities:l,notes:""})}}return a}(r,e.startDate,e.hoursPerDay,e.intensity),{id:`plan-${Date.now()}`,title:e.learningGoals?`Learning Plan: ${e.learningGoals.substring(0,50)}${e.learningGoals.length>50?"...":""}`:"My Learning Plan",userId:"current-user",sourceDocuments:s,config:e,totalDays:r,totalStudyHours:n,studyDaysCount:l,restDaysCount:a,startDate:e.startDate,endDate:i,milestones:o,dailyPlans:d,completedDays:0,currentStreak:0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()})),k("results")},3500)},[p]),W=(0,s.useCallback)(()=>{k("selection"),D(null),S(0),P(null),$(null)},[]),z=(0,s.useCallback)(e=>{$(t=>t?.id===e.id?null:e)},[]),I=(0,s.useCallback)(e=>{M&&P({...M,title:e,updatedAt:new Date().toISOString()})},[M]),E=(0,s.useCallback)((e,t)=>{if(M){let s=M.dailyPlans.map(s=>s.id===e?{...s,isCompleted:t}:s),r=s.filter(e=>e.isCompleted).length;P({...M,dailyPlans:s,completedDays:r,updatedAt:new Date().toISOString()}),R?.id===e&&$({...R,isCompleted:t})}},[M,R]),H=(0,s.useCallback)((e,t)=>{if(M){let s=M.dailyPlans.map(s=>s.id===e?{...s,notes:t}:s);P({...M,dailyPlans:s,updatedAt:new Date().toISOString()}),R?.id===e&&$({...R,notes:t})}},[M,R]),F=(0,s.useCallback)(e=>{P(e)},[]),O=(0,s.useCallback)(()=>{alert("Learning plan saved successfully!")},[]),V=(0,s.useCallback)(()=>{navigator.share?navigator.share({title:M?.title||"My Learning Plan",text:"Check out my learning plan!",url:window.location.href}).catch(()=>{}):(navigator.clipboard.writeText(window.location.href),alert("Link copied to clipboard!"))},[M?.title]),G=(0,s.useCallback)(()=>{if(M&&confirm("Are you sure you want to reset all progress? This cannot be undone.")){let e=M.dailyPlans.map(e=>({...e,isCompleted:!1,notes:""})),t=M.milestones.map(e=>({...e,isCompleted:!1}));P({...M,dailyPlans:e,milestones:t,completedDays:0,currentStreak:0,updatedAt:new Date().toISOString()}),$(null)}},[M]),U=(0,s.useCallback)(()=>{M&&(P({...M,id:`plan-${Date.now()}`,title:`${M.title} (Copy)`,dailyPlans:M.dailyPlans.map(e=>({...e,id:`day-copy-${e.dayNumber}`,isCompleted:!1,notes:""})),milestones:M.milestones.map(e=>({...e,id:`milestone-copy-${e.targetDay}`,isCompleted:!1})),completedDays:0,currentStreak:0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}),alert("Plan duplicated! You can now modify this copy."))},[M]),J=(0,s.useCallback)(e=>{if(M)switch(e){case"google-calendar":{let e=encodeURIComponent(M.title),t=M.startDate.replace(/-/g,""),s=M.endDate.replace(/-/g,""),r=encodeURIComponent(`Learning plan with ${M.totalDays} days of study.`),a=`https://calendar.google.com/calendar/render?action=TEMPLATE&text=${e}&dates=${t}/${s}&details=${r}`;window.open(a,"_blank");break}case"ical":{let e=M.dailyPlans.filter(e=>!e.isRestDay).map(e=>{let t=e.date.replace(/-/g,"");return`BEGIN:VEVENT
DTSTART:${t}
DTEND:${t}
SUMMARY:Day ${e.dayNumber}: ${e.topics.join(", ")}
DESCRIPTION:Topics: ${e.topics.join(", ")}\\nActivities: ${e.activities.join(", ")}
END:VEVENT`}).join("\n"),t=new Blob([`BEGIN:VCALENDAR
VERSION:2.0
PRODID:-//SeTutor//Learning Plan//EN
${e}
END:VCALENDAR`],{type:"text/calendar"}),s=URL.createObjectURL(t),r=document.createElement("a");r.href=s,r.download=`${M.title.replace(/[^a-z0-9]/gi,"_")}.ics`,r.click(),URL.revokeObjectURL(s);break}case"pdf":window.print()}},[M]),K=(0,s.useCallback)(()=>{P(function(e=[],t="Master Web Development Fundamentals"){let s=new Date().toISOString().split("T")[0]??"",r=[{day:1,topics:["HTML5 Fundamentals","Document Structure & Semantics"],activities:["Read documentation","Build a basic webpage","Complete practice exercises"]},{day:2,topics:["CSS3 Basics","Selectors and Properties"],activities:["Style your webpage","Practice with Flexbox","Review CSS specificity"]},{day:3,topics:["CSS Layout Techniques","Responsive Design Principles"],activities:["Create responsive layouts","Use media queries","Test on different devices"]},{day:4,topics:["JavaScript Fundamentals","Variables, Types, and Operators"],activities:["Write basic scripts","Practice in browser console","Complete coding challenges"]},{day:5,isRest:!0},{day:6,topics:["JavaScript Functions","Scope and Closures"],activities:["Build utility functions","Debug common issues","Review best practices"]},{day:7,topics:["DOM Manipulation","Event Handling"],activities:["Create interactive elements","Handle user input","Build a simple app"]},{day:8,topics:["Modern JavaScript (ES6+)","Arrow Functions and Destructuring"],activities:["Refactor old code","Practice new syntax","Review documentation"]},{day:9,topics:["Asynchronous JavaScript","Promises and Async/Await"],activities:["Fetch API practice","Handle errors gracefully","Build async features"]},{day:10,isRest:!0},{day:11,topics:["React Fundamentals","Components and JSX"],activities:["Set up React project","Create first components","Understand component lifecycle"]},{day:12,topics:["React State Management","Hooks Introduction"],activities:["Use useState and useEffect","Build stateful components","Practice state patterns"]},{day:13,topics:["Project Integration","Putting It All Together"],activities:["Build a complete project","Apply all learned concepts","Code review and refactor"]},{day:14,topics:["Final Review","Knowledge Assessment"],activities:["Take practice quiz","Review weak areas","Plan next learning steps"]}].map((e,t)=>{let r=v(s,t),a=e.isRest??!1;return{id:`day-${e.day}`,dayNumber:e.day,date:r,isRestDay:a,isCompleted:e.day<=3,topics:a?["Rest and Review"]:e.topics??[],estimatedMinutes:120*!a,materials:a?[]:["Course materials","Documentation","Practice exercises"],activities:a?["Light review","Rest and recharge"]:e.activities??[],notes:1===e.day?"Great start! Covered all basics.":""}});return{id:`plan-realistic-${Date.now()}`,title:`Learning Plan: ${t}`,userId:"current-user",sourceDocuments:e,config:{duration:"2-weeks",intensity:"moderate",learningGoals:t,hoursPerDay:2,startDate:s},totalDays:14,totalStudyHours:24,studyDaysCount:12,restDaysCount:2,startDate:s,endDate:v(s,13),milestones:[{id:"milestone-1",title:"HTML & CSS Mastery",description:"Complete foundational web styling skills",targetDay:4,isCompleted:!0},{id:"milestone-2",title:"JavaScript Fundamentals",description:"Master core JavaScript concepts",targetDay:7,isCompleted:!1},{id:"milestone-3",title:"Modern JS & React Basics",description:"Learn modern development practices",targetDay:12,isCompleted:!1},{id:"milestone-4",title:"Course Completion",description:"Complete all modules and final project",targetDay:14,isCompleted:!1}],dailyPlans:r,completedDays:3,currentStreak:3,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}}(Array.from(p),"Master Web Development Fundamentals")),k("results")},[p]),q=p.size;return"generating"===w&&C?(0,t.jsx)(l.DashboardLayout,{children:(0,t.jsxs)("div",{className:"mx-auto max-w-4xl space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Generating Learning Plan"}),(0,t.jsx)("p",{className:"mt-1 text-sm text-gray-600",children:"Please wait while we analyze your documents and create a personalized study schedule."})]}),(0,t.jsx)("div",{className:"rounded-lg border border-gray-200 bg-white p-6 shadow-sm",children:(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center py-12",children:[(0,t.jsx)("div",{className:"relative",children:(0,t.jsxs)("svg",{className:"h-16 w-16 animate-spin text-blue-600",fill:"none",viewBox:"0 0 24 24",children:[(0,t.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,t.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}),(0,t.jsxs)("p",{className:"mt-4 text-lg font-medium text-gray-900",children:["Creating your ",A(C)," learning plan..."]}),(0,t.jsxs)("p",{className:"mt-2 text-sm text-gray-500",children:["Analyzing ",q," document",1!==q?"s":""]}),(0,t.jsxs)("div",{className:"mt-4 w-full max-w-xs",children:[(0,t.jsx)("div",{className:"h-2 w-full rounded-full bg-gray-200",children:(0,t.jsx)("div",{className:"h-2 rounded-full bg-gradient-to-r from-blue-500 to-purple-500 transition-all duration-300",style:{width:`${L}%`}})}),(0,t.jsxs)("p",{className:"mt-1 text-center text-xs text-gray-500",children:[Math.round(L),"% complete"]})]}),(0,t.jsxs)("div",{className:"mt-4 flex flex-wrap justify-center gap-2",children:[(0,t.jsx)("span",{className:"rounded-full bg-blue-100 px-3 py-1 text-xs font-medium text-blue-700",children:A(C)}),(0,t.jsxs)("span",{className:"rounded-full bg-purple-100 px-3 py-1 text-xs font-medium text-purple-700 capitalize",children:[C.intensity," intensity"]}),(0,t.jsxs)("span",{className:"rounded-full bg-green-100 px-3 py-1 text-xs font-medium text-green-700",children:[C.hoursPerDay," hr",1!==C.hoursPerDay?"s":"","/day"]})]})]})})]})}):"results"===w&&M?(0,t.jsx)(l.DashboardLayout,{children:(0,t.jsxs)("div",{className:"mx-auto max-w-4xl space-y-6 print:space-y-4",children:[(0,t.jsx)(d,{plan:M,onTitleChange:I,onBack:W}),(0,t.jsx)(b,{plan:M,onPlanUpdate:F,onSave:O,onShare:V,onReset:G,onDuplicate:U,onExport:J}),(0,t.jsx)(m,{dailyPlans:M.dailyPlans,milestones:M.milestones,startDate:M.startDate,onDayClick:z,selectedDayId:R?.id}),R&&(0,t.jsx)(u,{day:R,onClose:()=>$(null),onCompletionChange:E,onNotesChange:H})]})}):(0,t.jsx)(l.DashboardLayout,{children:(0,t.jsxs)("div",{className:"mx-auto max-w-4xl space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Generate Learning Plan"}),(0,t.jsx)("p",{className:"mt-1 text-sm text-gray-600",children:"Create a personalized study schedule based on your documents and learning goals."})]}),(0,t.jsxs)("div",{className:"rounded-lg border border-gray-200 bg-white p-6 shadow-sm",children:[(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Select Source Documents"}),(0,t.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Choose the PDF documents you want to include in your learning plan."})]}),c||g?(0,t.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,t.jsxs)("div",{className:"flex flex-col items-center gap-3",children:[(0,t.jsxs)("svg",{className:"h-8 w-8 animate-spin text-blue-600",fill:"none",viewBox:"0 0 24 24",children:[(0,t.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,t.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),(0,t.jsx)("span",{className:"text-sm text-gray-500",children:"Loading documents..."})]})}):(0,t.jsx)(n.DocumentSelectionTree,{folders:r,documents:x,selectedDocumentIds:p,onSelectionChange:B})]}),q>0&&(0,t.jsx)("div",{className:"rounded-lg border border-blue-200 bg-blue-50 p-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-blue-100",children:(0,t.jsx)("svg",{className:"h-5 w-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("p",{className:"font-medium text-blue-900",children:[q," document",1!==q?"s":""," selected"]}),(0,t.jsx)("p",{className:"text-sm text-blue-700",children:"Ready to configure your learning plan."})]})]})}),(0,t.jsxs)("div",{className:"rounded-lg border border-gray-200 bg-white p-6 shadow-sm",children:[(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Configuration Options"}),(0,t.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Customize your learning plan settings."})]}),(0,t.jsx)(i,{selectedDocumentCount:q,onGenerate:T,isGenerating:"generating"===w})]}),(0,t.jsx)("div",{className:"rounded-lg border border-dashed border-purple-300 bg-purple-50 p-6",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-sm font-semibold text-purple-900",children:"Try a Demo Plan"}),(0,t.jsx)("p",{className:"mt-1 text-sm text-purple-700",children:"Load a realistic 2-week learning plan to explore all features."})]}),(0,t.jsx)("button",{onClick:K,className:"rounded-lg bg-purple-600 px-4 py-2 text-sm font-medium text-white hover:bg-purple-700 transition-colors",children:"Load Demo Plan"})]})})]})})}function k(){return(0,t.jsx)(r.ProtectedRoute,{redirectTo:"/",children:(0,t.jsx)(w,{})})}e.s(["default",()=>k],63874)}]);