(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,39209,e=>{"use strict";var t=e.i(43476),r=e.i(71645),a=e.i(18566),o=e.i(17780),s=e.i(84093);function l(){let l=(0,a.useRouter)(),{user:i}=(0,s.useAuth)(),[n,d]=(0,r.useState)(""),[u,c]=(0,r.useState)(null),[f,m]=(0,r.useState)(!1),h=async t=>{t.preventDefault();let r=n.trim();if(!r)return void c("Folder name is required");if(r.includes("/")||r.includes("\\"))return void c("Folder name cannot contain slashes");if(!i?.uid)return void c("You must be logged in to create a folder");m(!0),c(null);try{let{getIdToken:t}=await e.A(33733),a=await t();if(!a)throw Error("Not authenticated");let o=await fetch("/api/folders",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`},body:JSON.stringify({name:r})}),s=await o.json();if(!o.ok)throw Error(s.error||"Failed to create folder");l.push("/dashboard/folders")}catch(e){c(e instanceof Error?e.message:"Failed to create folder")}finally{m(!1)}};return(0,t.jsx)(o.DashboardLayout,{children:(0,t.jsxs)("div",{className:"mx-auto max-w-2xl space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Create New Folder"}),(0,t.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Create a new folder to organize your documents."})]}),(0,t.jsx)("div",{className:"rounded-lg bg-white p-6 shadow-sm",children:(0,t.jsxs)("form",{onSubmit:h,className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"folder-name",className:"block text-sm font-medium text-gray-700",children:"Folder Name"}),(0,t.jsx)("input",{id:"folder-name",type:"text",value:n,onChange:e=>d(e.target.value),placeholder:"Enter folder name",className:"mt-1 block w-full rounded-lg border border-gray-300 px-3 py-2 text-gray-900 placeholder-gray-400 focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500",disabled:f,autoFocus:!0}),u&&(0,t.jsx)("p",{className:"mt-1 text-sm text-red-600",children:u})]}),(0,t.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,t.jsx)("button",{type:"button",onClick:()=>l.push("/dashboard/folders"),disabled:f,className:"rounded-lg border border-gray-300 px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 disabled:opacity-50",children:"Cancel"}),(0,t.jsx)("button",{type:"submit",disabled:f||!n.trim(),className:"rounded-lg bg-blue-600 px-4 py-2 text-sm font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50",children:f?"Creating...":"Create Folder"})]})]})})]})})}e.s(["default",()=>l])},33733,e=>{e.v(t=>Promise.all(["static/chunks/b57e9b032cfdf249.js"].map(t=>e.l(t))).then(()=>t(87145)))}]);