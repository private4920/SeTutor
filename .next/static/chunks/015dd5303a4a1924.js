(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,88442,e=>{"use strict";var t=e.i(43476),a=e.i(71645);let r=(0,a.memo)(function({className:e="",variant:a="rectangular",width:r,height:s,animation:l="pulse"}){let i={};return r&&(i.width="number"==typeof r?`${r}px`:r),s&&(i.height="number"==typeof s?`${s}px`:s),(0,t.jsx)("div",{className:`bg-gray-200 ${{text:"rounded",circular:"rounded-full",rectangular:"rounded-lg"}[a]} ${{pulse:"animate-pulse",wave:"animate-shimmer",none:""}[l]} ${e}`,style:i,"aria-hidden":"true"})}),s=(0,a.memo)(function(){return(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{className:"whitespace-nowrap px-6 py-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(r,{variant:"rectangular",width:32,height:32,className:"rounded-lg"}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)(r,{height:14,width:180}),(0,t.jsx)(r,{height:10,width:120})]})]})}),(0,t.jsx)("td",{className:"hidden whitespace-nowrap px-6 py-4 sm:table-cell",children:(0,t.jsx)(r,{height:14,width:60})}),(0,t.jsx)("td",{className:"hidden whitespace-nowrap px-6 py-4 md:table-cell",children:(0,t.jsx)(r,{height:14,width:80})}),(0,t.jsx)("td",{className:"whitespace-nowrap px-6 py-4 text-right",children:(0,t.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[(0,t.jsx)(r,{variant:"circular",width:28,height:28}),(0,t.jsx)(r,{variant:"circular",width:28,height:28}),(0,t.jsx)(r,{variant:"circular",width:28,height:28})]})})]})}),l=(0,a.memo)(function(){return(0,t.jsxs)("div",{className:"rounded-lg border border-gray-200 bg-white p-4 shadow-sm",children:[(0,t.jsx)(r,{height:96,className:"mb-3 w-full rounded-lg"}),(0,t.jsx)(r,{height:14,width:"80%",className:"mb-2"}),(0,t.jsx)(r,{height:10,width:"60%"})]})}),i=(0,a.memo)(function(){return(0,t.jsxs)("div",{className:"flex items-center gap-3 rounded-lg border border-gray-200 bg-white p-4",children:[(0,t.jsx)(r,{variant:"rectangular",width:48,height:48,className:"rounded-lg"}),(0,t.jsxs)("div",{className:"flex-1 space-y-1",children:[(0,t.jsx)(r,{height:14,width:"70%"}),(0,t.jsx)(r,{height:10,width:"50%"})]})]})}),n=(0,a.memo)(function(){return(0,t.jsxs)("div",{className:"rounded-lg bg-white p-6 shadow-sm",children:[(0,t.jsx)(r,{height:20,width:140,className:"mb-4"}),(0,t.jsx)("div",{className:"space-y-3",children:[void 0,void 0,void 0].map((e,a)=>(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(r,{variant:"rectangular",width:40,height:40,className:"rounded-lg"}),(0,t.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,t.jsx)(r,{height:14,width:"75%"}),(0,t.jsx)(r,{height:10,width:"50%"})]})]},a))})]})}),o=(0,a.memo)(function({count:e=5}){return(0,t.jsx)("div",{className:"overflow-hidden rounded-lg border border-gray-200 bg-white",children:(0,t.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,t.jsx)("thead",{className:"bg-gray-50",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Name"}),(0,t.jsx)("th",{className:"hidden px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500 sm:table-cell",children:"Size"}),(0,t.jsx)("th",{className:"hidden px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500 md:table-cell",children:"Uploaded"}),(0,t.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium uppercase tracking-wider text-gray-500",children:"Actions"})]})}),(0,t.jsx)("tbody",{className:"divide-y divide-gray-200",children:[...Array(e)].map((e,a)=>(0,t.jsx)(s,{},a))})]})})}),d=(0,a.memo)(function({count:e=8}){return(0,t.jsx)("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:[...Array(e)].map((e,a)=>(0,t.jsx)(l,{},a))})}),c=(0,a.memo)(function({count:e=6}){return(0,t.jsx)("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:[...Array(e)].map((e,a)=>(0,t.jsx)(i,{},a))})});e.s(["DocumentGridSkeleton",0,d,"DocumentListSkeleton",0,o,"FolderGridSkeleton",0,c,"RecentDocumentsSkeleton",0,n])},87145,e=>{"use strict";var t=e.i(71645),a=e.i(14985);function r(){return{authenticatedFetch:(0,t.useCallback)(async(e,t={})=>{let r=(0,a.getFirebaseAuth)().currentUser;if(!r)throw Error("User is not authenticated");let s=await r.getIdToken(),l=new Headers(t.headers);return l.set("Authorization",`Bearer ${s}`),fetch(e,{...t,headers:l})},[])}}async function s(){let e=(0,a.getFirebaseAuth)().currentUser;return e?e.getIdToken():null}async function l(e){let t=new Headers(e),a=await s();return a&&t.set("Authorization",`Bearer ${a}`),t}e.s(["createAuthHeaders",()=>l,"getIdToken",()=>s,"useAuthenticatedFetch",()=>r])},18339,e=>{"use strict";var t=e.i(71645),a=e.i(84093),r=e.i(87145);async function s(){let e=await (0,r.getIdToken)();if(!e)throw Error("Not authenticated");return{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}}function l(){let{user:e}=(0,a.useAuth)(),[r,l]=(0,t.useState)([]),[i,n]=(0,t.useState)(!1),[o,d]=(0,t.useState)(null),[c,u]=(0,t.useState)({currentPage:1,pageSize:20,totalItems:0,totalPages:0}),h=(0,t.useCallback)(e=>{u(t=>({...t,currentPage:e}))},[]),m=(0,t.useCallback)(e=>{u(t=>({...t,pageSize:e,currentPage:1}))},[]),x=(0,t.useCallback)(async t=>{if(e?.uid){n(!0),d(null);try{let e=await s(),a=new URLSearchParams;void 0!==t&&a.append("parentId",null===t?"null":t);let r=await fetch(`/api/folders?${a}`,{headers:e}),i=await r.json();if(!r.ok)throw Error(i.error||"Failed to fetch folders");l(i.folders),u(e=>({...e,totalItems:i.folders.length,totalPages:1,currentPage:1}))}catch(e){d(e instanceof Error?e.message:"Failed to fetch folders")}finally{n(!1)}}},[e?.uid]),g=(0,t.useCallback)(async(t,a,r)=>{if(!e?.uid)return;let i=r??c.pageSize,o=a??c.currentPage;n(!0),d(null);try{let e=await s(),a=new URLSearchParams({page:o.toString(),pageSize:i.toString()});void 0!==t&&a.append("parentId",null===t?"null":t);let r=await fetch(`/api/folders?${a}`,{headers:e}),n=await r.json();if(!r.ok)throw Error(n.error||"Failed to fetch folders");l(n.folders),u({currentPage:o,pageSize:i,totalItems:n.total,totalPages:Math.ceil(n.total/i)})}catch(e){d(e instanceof Error?e.message:"Failed to fetch folders")}finally{n(!1)}},[e?.uid,c.pageSize,c.currentPage]),f=(0,t.useCallback)(async t=>{if(!e?.uid)return[];try{let e=await s(),a=await fetch(`/api/folders/${t}/path`,{headers:e}),r=await a.json();if(!a.ok)throw Error(r.error||"Failed to fetch folder path");return r.path}catch(e){return d(e instanceof Error?e.message:"Failed to fetch folder path"),[]}},[e?.uid]),p=(0,t.useCallback)(async(t,a)=>{if(!e?.uid)return null;n(!0),d(null);try{let e=await s(),r=await fetch("/api/folders",{method:"POST",headers:e,body:JSON.stringify({name:t,parentId:a})}),i=await r.json();if(!r.ok)throw Error(i.error||"Failed to create folder");return l(e=>[...e,i.folder]),i.folder}catch(e){return d(e instanceof Error?e.message:"Failed to create folder"),null}finally{n(!1)}},[e?.uid]),w=(0,t.useCallback)(async(t,a)=>{if(!e?.uid)return null;n(!0),d(null);try{let e=await s(),r=await fetch(`/api/folders/${t}`,{method:"PUT",headers:e,body:JSON.stringify({name:a})}),i=await r.json();if(!r.ok)throw Error(i.error||"Failed to rename folder");return l(e=>e.map(e=>e.id===t?i.folder:e)),i.folder}catch(e){return d(e instanceof Error?e.message:"Failed to rename folder"),null}finally{n(!1)}},[e?.uid]),j=(0,t.useCallback)(async t=>{if(!e?.uid)return!1;n(!0),d(null);try{let e=await s(),a=await fetch(`/api/folders/${t}`,{method:"DELETE",headers:e}),r=await a.json();if(!a.ok)throw Error(r.error||"Failed to delete folder");return l(e=>e.filter(e=>e.id!==t)),!0}catch(e){return d(e instanceof Error?e.message:"Failed to delete folder"),!1}finally{n(!1)}},[e?.uid]),y=(0,t.useCallback)(async(t,a)=>{if(!e?.uid)return null;n(!0),d(null);try{let e=await s(),r=await fetch(`/api/folders/${t}/move`,{method:"POST",headers:e,body:JSON.stringify({newParentId:a})}),l=await r.json();if(!r.ok)throw Error(l.error||"Failed to move folder");return await x(),l.folder}catch(e){return d(e instanceof Error?e.message:"Failed to move folder"),null}finally{n(!1)}},[e?.uid,x]);return{folders:r,loading:i,error:o,pagination:c,fetchFolders:x,fetchFoldersPaginated:g,fetchFolderPath:f,createFolder:p,renameFolder:w,deleteFolder:j,moveFolder:y,setPage:h,setPageSize:m}}e.s(["useFolders",()=>l])},77001,e=>{"use strict";var t=e.i(71645),a=e.i(84093),r=e.i(87145);async function s(){let e=await (0,r.getIdToken)();if(!e)throw Error("Not authenticated");return{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}}function l(){let{user:e}=(0,a.useAuth)(),[l,i]=(0,t.useState)([]),[n,o]=(0,t.useState)(!1),[d,c]=(0,t.useState)(null),[u,h]=(0,t.useState)(new Map),[m,x]=(0,t.useState)({currentPage:1,pageSize:20,totalItems:0,totalPages:0}),g=(0,t.useCallback)(()=>c(null),[]),f=(0,t.useCallback)(e=>{x(t=>({...t,currentPage:e}))},[]),p=(0,t.useCallback)(e=>{x(t=>({...t,pageSize:e,currentPage:1}))},[]),w=(0,t.useCallback)(async t=>{if(e){o(!0),c(null);try{let e=await s(),a=new URLSearchParams;void 0!==t&&a.set("folderId",null===t?"null":t);let r=await fetch(`/api/documents?${a}`,{headers:e}),l=await r.json();if(!r.ok)throw Error(l.error||"Failed to fetch documents");i(l.documents),x(e=>({...e,totalItems:l.documents.length,totalPages:1,currentPage:1}))}catch(e){c(e instanceof Error?e.message:"Failed to fetch documents")}finally{o(!1)}}},[e]),j=(0,t.useCallback)(async(t,a,r)=>{if(!e)return;let l=r??m.pageSize,n=a??m.currentPage;o(!0),c(null);try{let e=await s(),a=new URLSearchParams({page:n.toString(),pageSize:l.toString()});void 0!==t&&a.set("folderId",null===t?"null":t);let r=await fetch(`/api/documents?${a}`,{headers:e}),o=await r.json();if(!r.ok)throw Error(o.error||"Failed to fetch documents");i(o.documents),x({currentPage:n,pageSize:l,totalItems:o.total,totalPages:Math.ceil(o.total/l)})}catch(e){c(e instanceof Error?e.message:"Failed to fetch documents")}finally{o(!1)}},[e,m.pageSize,m.currentPage]),y=(0,t.useCallback)(async t=>{if(e){o(!0),c(null);try{let e=await s(),a=new URLSearchParams({search:t}),r=await fetch(`/api/documents?${a}`,{headers:e}),l=await r.json();if(!r.ok)throw Error(l.error||"Failed to search documents");i(l.documents)}catch(e){c(e instanceof Error?e.message:"Failed to search documents")}finally{o(!1)}}},[e]),b=(0,t.useCallback)((e,t)=>{h(a=>{let r=new Map(a),s=r.get(e)||{fileName:e,progress:0,status:"pending"};return r.set(e,{...s,...t}),r})},[]),v=(0,t.useCallback)(async(t,a)=>{if(!e)return null;let s=new AbortController;b(t.name,{status:"uploading",progress:0,abortController:s});try{let e=await (0,r.getIdToken)();if(!e)throw Error("Not authenticated");let l=new FormData;l.append("file",t),a&&l.append("folderId",a);let n=await new Promise((a,r)=>{let i=new XMLHttpRequest;i.upload.addEventListener("progress",e=>{if(e.lengthComputable){let a=Math.round(e.loaded/e.total*100);b(t.name,{progress:a})}}),i.addEventListener("load",()=>{if(i.status>=200&&i.status<300){let e=JSON.parse(i.responseText);a(e.document)}else try{let e=JSON.parse(i.responseText);r(Error(e.error||"Upload failed"))}catch{r(Error("Upload failed"))}}),i.addEventListener("error",()=>{r(Error("Network error during upload"))}),i.addEventListener("abort",()=>{r(Error("Upload cancelled"))}),s.signal.addEventListener("abort",()=>{i.abort()}),i.open("POST","/api/documents/upload"),i.setRequestHeader("Authorization",`Bearer ${e}`),i.send(l)});return b(t.name,{status:"completed",progress:100}),i(e=>[n,...e]),n}catch(r){let e=r instanceof Error?r.message:"Upload failed",a="Upload cancelled"===e;return b(t.name,{status:a?"cancelled":"error",error:e}),a||c(e),null}},[e,b]),N=(0,t.useCallback)(async(e,t)=>{for(let a of(e.forEach(e=>{b(e.name,{status:"pending",progress:0})}),e)){let e=u.get(a.name);e?.status!=="cancelled"&&await v(a,t)}},[v,u,b]),k=(0,t.useCallback)(e=>{let t=u.get(e);t?.abortController&&t.abortController.abort(),b(e,{status:"cancelled"})},[u,b]),C=(0,t.useCallback)(async t=>{if(!e)return!1;try{let e=await s(),a=await fetch(`/api/documents/${t}`,{method:"DELETE",headers:e});if(!a.ok){let e=await a.json();throw Error(e.error||"Failed to delete document")}return i(e=>e.filter(e=>e.id!==t)),!0}catch(e){return c(e instanceof Error?e.message:"Failed to delete document"),!1}},[e]);return{documents:l,loading:n,error:d,uploadProgress:u,pagination:m,fetchDocuments:w,fetchDocumentsPaginated:j,searchDocuments:y,uploadDocument:v,uploadMultipleDocuments:N,cancelUpload:k,deleteDocument:C,moveDocument:(0,t.useCallback)(async(t,a)=>{if(!e)return null;try{let e=await s(),r=await fetch(`/api/documents/${t}`,{method:"PATCH",headers:e,body:JSON.stringify({folderId:a})}),l=await r.json();if(!r.ok)throw Error(l.error||"Failed to move document");return i(e=>e.map(e=>e.id===t?l.document:e)),l.document}catch(e){return c(e instanceof Error?e.message:"Failed to move document"),null}},[e]),renameDocument:(0,t.useCallback)(async(t,a)=>{if(!e)return null;try{let e=await s(),r=await fetch(`/api/documents/${t}`,{method:"PATCH",headers:e,body:JSON.stringify({name:a})}),l=await r.json();if(!r.ok)throw Error(l.error||"Failed to rename document");return i(e=>e.map(e=>e.id===t?l.document:e)),l.document}catch(e){return c(e instanceof Error?e.message:"Failed to rename document"),null}},[e]),clearError:g,setPage:f,setPageSize:p}}e.s(["useDocuments",()=>l])},3216,35145,72036,44592,23928,e=>{"use strict";var t=e.i(43476),a=e.i(71645),r=e.i(18566),s=e.i(84093);function l({children:e,redirectTo:l="/",fallback:i}){let{user:n,loading:o}=(0,s.useAuth)(),d=(0,r.useRouter)();return((0,a.useEffect)(()=>{o||n||d.replace(l)},[n,o,d,l]),o)?i||(0,t.jsx)("div",{className:"flex min-h-screen items-center justify-center",children:(0,t.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,t.jsx)("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Loading..."})]})}):n?(0,t.jsx)(t.Fragment,{children:e}):null}e.s(["ProtectedRoute",()=>l],3216),e.i(17780),e.i(55533),e.i(51786);let i=(0,a.memo)(function({title:e,value:a,icon:r,loading:s=!1}){return(0,t.jsxs)("article",{className:"group rounded-2xl bg-[#0A0A0A] border border-white/5 p-6 transition-all hover:border-white/10","aria-label":`${e}: ${s?"Loading":a}`,children:[(0,t.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,t.jsx)("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-white/5","aria-hidden":"true",children:(0,t.jsx)("span",{className:"text-white [&>svg]:h-5 [&>svg]:w-5",children:r})})}),(0,t.jsxs)("div",{className:"min-w-0",children:[(0,t.jsx)("p",{className:"text-sm text-gray-400 truncate mb-1",id:`stat-${e.replace(/\s+/g,"-").toLowerCase()}`,children:e}),s?(0,t.jsx)("div",{className:"h-8 w-24 animate-pulse rounded bg-white/10",role:"status","aria-label":"Loading value",children:(0,t.jsx)("span",{className:"sr-only",children:"Loading..."})}):(0,t.jsx)("p",{className:"text-2xl font-bold text-white tracking-tight","aria-labelledby":`stat-${e.replace(/\s+/g,"-").toLowerCase()}`,children:a})]})]})});e.s(["StatCard",0,i],35145);var n=e.i(22016),o=e.i(88442);let d=(0,a.memo)(function({documents:e,loading:a=!1}){return a?(0,t.jsx)(o.RecentDocumentsSkeleton,{}):0===e.length?(0,t.jsxs)("div",{className:"rounded-lg bg-white p-4 sm:p-6 shadow-sm",children:[(0,t.jsx)("h3",{className:"text-base sm:text-lg font-semibold text-gray-900",children:"Recent Documents"}),(0,t.jsxs)("div",{className:"mt-4 flex flex-col items-center justify-center py-6 sm:py-8 text-center",children:[(0,t.jsx)("div",{className:"flex h-14 w-14 sm:h-16 sm:w-16 items-center justify-center rounded-full bg-gray-100",children:(0,t.jsx)("svg",{className:"h-7 w-7 sm:h-8 sm:w-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),(0,t.jsx)("p",{className:"mt-3 sm:mt-4 text-sm text-gray-500 px-4",children:"No documents uploaded yet. Start by uploading your first PDF document."}),(0,t.jsxs)(n.default,{href:"/dashboard/files/upload",className:"mt-4 inline-flex items-center gap-2 rounded-lg bg-gradient-to-r from-blue-600 to-purple-600 px-4 py-2.5 sm:py-2 text-sm font-medium text-white hover:from-blue-700 hover:to-purple-700 active:scale-[0.98]",children:[(0,t.jsx)("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})}),"Upload Files"]})]})]}):(0,t.jsxs)("div",{className:"rounded-lg bg-white p-4 sm:p-6 shadow-sm",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("h3",{className:"text-base sm:text-lg font-semibold text-gray-900",children:"Recent Documents"}),(0,t.jsx)(n.default,{href:"/dashboard/files",className:"text-sm font-medium text-blue-600 hover:text-blue-700 active:text-blue-800",children:"View all"})]}),(0,t.jsx)("div",{className:"mt-3 sm:mt-4 divide-y divide-gray-100",children:e.map(e=>(0,t.jsxs)("div",{className:"flex items-center gap-3 py-3 first:pt-0 last:pb-0",children:[(0,t.jsx)("div",{className:"flex h-10 w-10 flex-shrink-0 items-center justify-center rounded-lg bg-red-100",children:(0,t.jsx)("svg",{className:"h-5 w-5 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"})})}),(0,t.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,t.jsx)("p",{className:"truncate text-sm font-medium text-gray-900",children:e.name}),(0,t.jsxs)("p",{className:"text-xs text-gray-500",children:[function(e){if(0===e)return"0 B";let t=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,t)).toFixed(1))+" "+["B","KB","MB","GB"][t]}(e.file_size)," â€¢ ",new Date(e.created_at).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})]})]}),(0,t.jsx)(n.default,{href:e.folder_id?`/dashboard/files?folderId=${e.folder_id}`:"/dashboard/files",className:"flex-shrink-0 rounded-lg p-2.5 sm:p-2 text-gray-400 hover:bg-gray-100 hover:text-gray-600 active:scale-95","aria-label":`View ${e.name}`,children:(0,t.jsx)("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]},e.id))})]})});e.s(["RecentDocuments",0,d],72036);let c=[{name:"Upload Files",description:"Add new PDFs to your library",href:"/dashboard/files/upload",icon:(0,t.jsx)("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})}),gradient:"from-blue-500 to-blue-600"},{name:"Browse Files",description:"View and organize your files",href:"/dashboard/files",icon:(0,t.jsx)("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"})}),gradient:"from-purple-500 to-purple-600"},{name:"Generate Flashcards",description:"Create study cards from documents",href:"/dashboard/flashcards/generate",icon:(0,t.jsx)("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),gradient:"from-green-500 to-green-600"}],u=(0,a.memo)(function(){return(0,t.jsxs)("section",{className:"rounded-lg bg-white p-4 sm:p-6 shadow-sm","aria-labelledby":"quick-actions-heading",children:[(0,t.jsx)("h3",{id:"quick-actions-heading",className:"text-base sm:text-lg font-semibold text-gray-900",children:"Quick Actions"}),(0,t.jsx)("nav",{"aria-label":"Quick actions",className:"mt-3 sm:mt-4",children:(0,t.jsx)("ul",{role:"list",className:"grid gap-3 sm:gap-4 grid-cols-1 sm:grid-cols-3",children:c.map(e=>(0,t.jsx)("li",{children:(0,t.jsxs)(n.default,{href:e.href,className:"group flex flex-row sm:flex-col items-center sm:items-center gap-3 sm:gap-0 rounded-lg border border-gray-200 p-3 sm:p-4 text-left sm:text-center transition-all hover:border-transparent hover:shadow-md active:scale-[0.98] focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2","aria-label":`${e.name}: ${e.description}`,children:[(0,t.jsx)("div",{className:`flex h-10 w-10 sm:h-12 sm:w-12 flex-shrink-0 items-center justify-center rounded-lg bg-gradient-to-r ${e.gradient} text-white transition-transform group-hover:scale-110`,"aria-hidden":"true",children:e.icon}),(0,t.jsxs)("div",{className:"sm:mt-3",children:[(0,t.jsx)("span",{className:"text-sm font-medium text-gray-900",children:e.name}),(0,t.jsx)("p",{className:"mt-0.5 sm:mt-1 text-xs text-gray-600",children:e.description})]})]})},e.name))})})]})});e.s(["QuickActions",0,u],44592),e.s([],23928)},40547,e=>{"use strict";var t=e.i(43476),a=e.i(71645),r=e.i(3216),s=e.i(84093);e.i(23928);var l=e.i(17780);e.i(13917);var i=e.i(43098),n=e.i(39594),o=e.i(50720),d=e.i(59467),c=e.i(20653),u=e.i(18339),h=e.i(77001);function m(){let{user:e}=(0,s.useAuth)(),{folders:r,fetchFolders:m,loading:x}=(0,u.useFolders)(),{documents:g,fetchDocuments:f,loading:p}=(0,h.useDocuments)(),[w,j]=(0,a.useState)(new Set),[y,b]=(0,a.useState)("selection"),[v,N]=(0,a.useState)(null),[k,C]=(0,a.useState)(null);(0,a.useEffect)(()=>{e?.uid&&(m(),f())},[e?.uid,m,f]);let S=(0,a.useCallback)(e=>{j(e)},[]),F=(0,a.useCallback)(async e=>{N(e),b("generating");try{let t=await (0,c.generateMockFlashcardsAsync)(e,Array.from(w));C(t),b("results")}catch{b("selection")}},[w]),E=(0,a.useCallback)(()=>{b("selection"),N(null)},[]),L=(0,a.useCallback)(()=>{b("selection"),C(null),N(null)},[]),P=(0,a.useCallback)(e=>{C(e)},[]),A=(0,a.useCallback)(()=>{C(null),b("selection"),N(null)},[]),$=(0,a.useCallback)(e=>{let t=`Check out my flashcard deck: ${e.name} (${e.flashcards.length} cards)`;navigator.share?navigator.share({title:e.name,text:t}).catch(()=>{}):navigator.clipboard.writeText(t).then(()=>{alert("Share link copied to clipboard!")}).catch(()=>{})},[]),D=w.size;return"generating"===y&&v?(0,t.jsx)(l.DashboardLayout,{children:(0,t.jsxs)("div",{className:"mx-auto max-w-4xl space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Generating Flashcards"}),(0,t.jsx)("p",{className:"mt-1 text-sm text-gray-600",children:"Please wait while we analyze your documents and create flashcards."})]}),(0,t.jsx)("div",{className:"rounded-lg border border-gray-200 bg-white p-6 shadow-sm",children:(0,t.jsx)(d.GenerationLoadingState,{totalDocuments:D,cardCount:v.quantity,onCancel:E})})]})}):"results"===y&&k?(0,t.jsx)(l.DashboardLayout,{children:(0,t.jsx)("div",{className:"mx-auto max-w-4xl space-y-6",children:(0,t.jsx)(o.FlashcardDeck,{deck:k,onSave:P,onDelete:A,onShare:$,onBack:L})})}):(0,t.jsx)(l.DashboardLayout,{children:(0,t.jsxs)("div",{className:"mx-auto max-w-4xl space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Generate Flashcards"}),(0,t.jsx)("p",{className:"mt-1 text-sm text-gray-600",children:"Select documents to generate AI-powered flashcards for effective study sessions."})]}),(0,t.jsxs)("div",{className:"rounded-lg border border-gray-200 bg-white p-6 shadow-sm",children:[(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Select Source Documents"}),(0,t.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Choose the PDF documents you want to generate flashcards from."})]}),x||p?(0,t.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,t.jsxs)("div",{className:"flex flex-col items-center gap-3",children:[(0,t.jsxs)("svg",{className:"h-8 w-8 animate-spin text-blue-600",fill:"none",viewBox:"0 0 24 24",children:[(0,t.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,t.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),(0,t.jsx)("span",{className:"text-sm text-gray-500",children:"Loading documents..."})]})}):(0,t.jsx)(i.DocumentSelectionTree,{folders:r,documents:g,selectedDocumentIds:w,onSelectionChange:S})]}),D>0&&(0,t.jsx)("div",{className:"rounded-lg border border-blue-200 bg-blue-50 p-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-blue-100",children:(0,t.jsx)("svg",{className:"h-5 w-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("p",{className:"font-medium text-blue-900",children:[D," document",1!==D?"s":""," selected"]}),(0,t.jsx)("p",{className:"text-sm text-blue-700",children:"Ready to configure flashcard generation options."})]})]})}),(0,t.jsxs)("div",{className:"rounded-lg border border-gray-200 bg-white p-6 shadow-sm",children:[(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Configuration Options"}),(0,t.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Customize your flashcard generation settings."})]}),(0,t.jsx)(n.FlashcardConfigForm,{selectedDocumentCount:D,onGenerate:F,isGenerating:"generating"===y})]})]})})}function x(){return(0,t.jsx)(r.ProtectedRoute,{redirectTo:"/",children:(0,t.jsx)(m,{})})}e.s(["default",()=>x])}]);