{"version":3,"sources":["../../../../node_modules/next/src/server/route-modules/app-page/vendored/contexts/hooks-client-context.ts","../../../../node_modules/next/src/server/route-modules/app-page/vendored/contexts/server-inserted-html.ts","../../../../node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-dom.ts","../../../../node_modules/next/src/server/route-modules/app-page/vendored/contexts/app-router-context.ts","../../../../node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-server-dom-turbopack-client.ts","../../../../src/app/dashboard/page.tsx"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].HooksClientContext\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].ServerInsertedHtml\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactDOM\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].AppRouterContext\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactServerDOMTurbopackClient\n","\"use client\";\r\n\r\nimport { useEffect, useState, useCallback } from \"react\";\r\nimport { ProtectedRoute } from \"@/lib/firebase/ProtectedRoute\";\r\nimport { useAuth } from \"@/lib/firebase/AuthContext\";\r\nimport {\r\n  DashboardLayout,\r\n  StatCard,\r\n  RecentDocuments,\r\n  QuickActions,\r\n} from \"@/components/dashboard\";\r\nimport { Document } from \"@/lib/db/types\";\r\n\r\ninterface DashboardStats {\r\n  documents: number;\r\n  folders: number;\r\n  flashcards: number;\r\n  quizzes: number;\r\n}\r\n\r\nfunction DashboardContent() {\r\n  const { user } = useAuth();\r\n  const [stats, setStats] = useState<DashboardStats>({\r\n    documents: 0,\r\n    folders: 0,\r\n    flashcards: 0,\r\n    quizzes: 0,\r\n  });\r\n  const [recentDocuments, setRecentDocuments] = useState<Document[]>([]);\r\n  const [statsLoading, setStatsLoading] = useState(true);\r\n  const [docsLoading, setDocsLoading] = useState(true);\r\n\r\n  const fetchStats = useCallback(async () => {\r\n    if (!user?.uid) return;\r\n    \r\n    try {\r\n      const { getIdToken } = await import('@/lib/hooks/useAuthenticatedFetch');\r\n      const token = await getIdToken();\r\n      if (!token) return;\r\n      \r\n      const response = await fetch('/api/dashboard/stats', {\r\n        headers: { 'Authorization': `Bearer ${token}` }\r\n      });\r\n      if (response.ok) {\r\n        const data = await response.json();\r\n        setStats(data);\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Failed to fetch stats:\", error);\r\n    } finally {\r\n      setStatsLoading(false);\r\n    }\r\n  }, [user?.uid]);\r\n\r\n  const fetchRecentDocuments = useCallback(async () => {\r\n    if (!user?.uid) return;\r\n    \r\n    try {\r\n      const { getIdToken } = await import('@/lib/hooks/useAuthenticatedFetch');\r\n      const token = await getIdToken();\r\n      if (!token) return;\r\n      \r\n      const response = await fetch('/api/dashboard/recent-documents?limit=5', {\r\n        headers: { 'Authorization': `Bearer ${token}` }\r\n      });\r\n      if (response.ok) {\r\n        const data = await response.json();\r\n        setRecentDocuments(data.documents);\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Failed to fetch recent documents:\", error);\r\n    } finally {\r\n      setDocsLoading(false);\r\n    }\r\n  }, [user?.uid]);\r\n\r\n  useEffect(() => {\r\n    fetchStats();\r\n    fetchRecentDocuments();\r\n  }, [fetchStats, fetchRecentDocuments]);\r\n\r\n  return (\r\n    <DashboardLayout>\r\n      <div className=\"space-y-4 sm:space-y-6\">\r\n        {/* Welcome section - Requirements 1.3, 6.4: Responsive design */}\r\n        <div className=\"rounded-lg bg-gradient-to-r from-blue-600 to-purple-600 p-4 sm:p-6 text-white shadow-sm\">\r\n          <h2 className=\"text-xl sm:text-2xl font-bold\">\r\n            Welcome back, {user?.displayName?.split(\" \")[0] || \"User\"}!\r\n          </h2>\r\n          <p className=\"mt-1 sm:mt-2 text-sm sm:text-base text-blue-100\">\r\n            Here&apos;s an overview of your learning progress.\r\n          </p>\r\n        </div>\r\n\r\n        {/* Statistics cards */}\r\n        <div className=\"grid gap-4 sm:grid-cols-2 lg:grid-cols-4\">\r\n          <StatCard\r\n            title=\"Documents\"\r\n            value={stats.documents}\r\n            loading={statsLoading}\r\n            iconBgColor=\"bg-blue-100\"\r\n            iconColor=\"text-blue-600\"\r\n            icon={\r\n              <svg\r\n                className=\"h-6 w-6\"\r\n                fill=\"none\"\r\n                stroke=\"currentColor\"\r\n                viewBox=\"0 0 24 24\"\r\n              >\r\n                <path\r\n                  strokeLinecap=\"round\"\r\n                  strokeLinejoin=\"round\"\r\n                  strokeWidth={2}\r\n                  d=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\"\r\n                />\r\n              </svg>\r\n            }\r\n          />\r\n          <StatCard\r\n            title=\"Folders\"\r\n            value={stats.folders}\r\n            loading={statsLoading}\r\n            iconBgColor=\"bg-purple-100\"\r\n            iconColor=\"text-purple-600\"\r\n            icon={\r\n              <svg\r\n                className=\"h-6 w-6\"\r\n                fill=\"none\"\r\n                stroke=\"currentColor\"\r\n                viewBox=\"0 0 24 24\"\r\n              >\r\n                <path\r\n                  strokeLinecap=\"round\"\r\n                  strokeLinejoin=\"round\"\r\n                  strokeWidth={2}\r\n                  d=\"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z\"\r\n                />\r\n              </svg>\r\n            }\r\n          />\r\n          <StatCard\r\n            title=\"Flashcards\"\r\n            value={stats.flashcards}\r\n            loading={statsLoading}\r\n            iconBgColor=\"bg-green-100\"\r\n            iconColor=\"text-green-600\"\r\n            icon={\r\n              <svg\r\n                className=\"h-6 w-6\"\r\n                fill=\"none\"\r\n                stroke=\"currentColor\"\r\n                viewBox=\"0 0 24 24\"\r\n              >\r\n                <path\r\n                  strokeLinecap=\"round\"\r\n                  strokeLinejoin=\"round\"\r\n                  strokeWidth={2}\r\n                  d=\"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10\"\r\n                />\r\n              </svg>\r\n            }\r\n          />\r\n          <StatCard\r\n            title=\"Quizzes\"\r\n            value={stats.quizzes}\r\n            loading={statsLoading}\r\n            iconBgColor=\"bg-orange-100\"\r\n            iconColor=\"text-orange-600\"\r\n            icon={\r\n              <svg\r\n                className=\"h-6 w-6\"\r\n                fill=\"none\"\r\n                stroke=\"currentColor\"\r\n                viewBox=\"0 0 24 24\"\r\n              >\r\n                <path\r\n                  strokeLinecap=\"round\"\r\n                  strokeLinejoin=\"round\"\r\n                  strokeWidth={2}\r\n                  d=\"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4\"\r\n                />\r\n              </svg>\r\n            }\r\n          />\r\n        </div>\r\n\r\n        {/* Quick Actions */}\r\n        <QuickActions />\r\n\r\n        {/* Recent Documents */}\r\n        <RecentDocuments documents={recentDocuments} loading={docsLoading} />\r\n      </div>\r\n    </DashboardLayout>\r\n  );\r\n}\r\n\r\nexport default function DashboardPage() {\r\n  return (\r\n    <ProtectedRoute redirectTo=\"/\">\r\n      <DashboardContent />\r\n    </ProtectedRoute>\r\n  );\r\n}\r\n"],"names":["module","exports","require","vendored","HooksClientContext","ServerInsertedHtml","ReactDOM","AppRouterContext","ReactServerDOMTurbopackClient"],"mappings":"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","ignoreList":[0,1,2,3,4]}