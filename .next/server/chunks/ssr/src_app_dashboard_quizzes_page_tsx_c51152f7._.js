module.exports=[8171,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(19201),e=a.i(8098);a.i(67327);var f=a.i(27520);a.i(89415);var g=a.i(23798);function h({selectedDocumentCount:a,onGenerate:d,isGenerating:e=!1}){let[f,g]=(0,c.useState)(10),[h,i]=(0,c.useState)(["multiple-choice"]),[j,k]=(0,c.useState)("medium"),[l,m]=(0,c.useState)(!1),[n,o]=(0,c.useState)(15),p=a>0&&h.length>0&&!e,q=a=>{i(b=>b.includes(a)?1===b.length?b:b.filter(b=>b!==a):[...b,a])};return(0,b.jsxs)("form",{onSubmit:a=>{a.preventDefault(),p&&d({questionCount:f,questionTypes:h,difficulty:j,timeLimit:l?n:null})},className:"space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"questionCount",className:"block text-sm font-medium text-gray-700",children:"Number of Questions"}),(0,b.jsxs)("div",{className:"mt-2",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("input",{type:"range",id:"questionCount",min:5,max:30,step:1,value:f,onChange:a=>g(Number(a.target.value)),className:"h-2 w-full cursor-pointer appearance-none rounded-lg bg-gray-200 accent-blue-600",disabled:e}),(0,b.jsx)("span",{className:"w-12 text-center text-sm font-semibold text-gray-900",children:f})]}),(0,b.jsxs)("div",{className:"mt-1 flex justify-between text-xs text-gray-500",children:[(0,b.jsx)("span",{children:"5"}),(0,b.jsx)("span",{children:"30"})]})]}),(0,b.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"Choose how many questions to generate (5-30)"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Question Types"}),(0,b.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"Select at least one question type"}),(0,b.jsxs)("div",{className:"mt-3 space-y-3",children:[(0,b.jsxs)("label",{className:"flex cursor-pointer items-center gap-3",children:[(0,b.jsx)("input",{type:"checkbox",checked:h.includes("multiple-choice"),onChange:()=>q("multiple-choice"),disabled:e,className:"h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("svg",{className:"h-5 w-5 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"})}),(0,b.jsx)("span",{className:"text-sm text-gray-700",children:"Multiple Choice"})]})]}),(0,b.jsxs)("label",{className:"flex cursor-pointer items-center gap-3",children:[(0,b.jsx)("input",{type:"checkbox",checked:h.includes("true-false"),onChange:()=>q("true-false"),disabled:e,className:"h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("svg",{className:"h-5 w-5 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,b.jsx)("span",{className:"text-sm text-gray-700",children:"True / False"})]})]}),(0,b.jsxs)("label",{className:"flex cursor-pointer items-center gap-3",children:[(0,b.jsx)("input",{type:"checkbox",checked:h.includes("short-answer"),onChange:()=>q("short-answer"),disabled:e,className:"h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("svg",{className:"h-5 w-5 text-purple-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),(0,b.jsx)("span",{className:"text-sm text-gray-700",children:"Short Answer"})]})]})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Difficulty Level"}),(0,b.jsx)("div",{className:"mt-2 flex gap-3",children:["easy","medium","hard"].map(a=>(0,b.jsx)("button",{type:"button",onClick:()=>k(a),disabled:e,className:`flex-1 rounded-lg border-2 px-4 py-3 text-sm font-medium transition-all ${j===a?"easy"===a?"border-green-500 bg-green-50 text-green-700":"medium"===a?"border-yellow-500 bg-yellow-50 text-yellow-700":"border-red-500 bg-red-50 text-red-700":"border-gray-200 bg-white text-gray-600 hover:border-gray-300 hover:bg-gray-50"} ${e?"cursor-not-allowed opacity-50":""}`,children:(0,b.jsxs)("div",{className:"flex flex-col items-center gap-1",children:["easy"===a&&(0,b.jsx)("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14.828 14.828a4 4 0 01-5.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"medium"===a&&(0,b.jsx)("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})}),"hard"===a&&(0,b.jsxs)("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 18.657A8 8 0 016.343 7.343S7 9 9 10c0-2 .5-5 2.986-7C14 5 16.09 5.777 17.656 7.343A7.975 7.975 0 0120 13a7.975 7.975 0 01-2.343 5.657z"}),(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.879 16.121A3 3 0 1012.015 11L11 14H9c0 .768.293 1.536.879 2.121z"})]}),(0,b.jsx)("span",{className:"capitalize",children:a})]})},a))}),(0,b.jsxs)("p",{className:"mt-2 text-xs text-gray-500",children:["easy"===j&&"Basic recall questions focusing on key terms and definitions","medium"===j&&"Balanced mix of recall and comprehension questions","hard"===j&&"Advanced questions requiring analysis and application"]})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Time Limit"}),(0,b.jsx)("button",{type:"button",onClick:()=>m(!l),disabled:e,className:`relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 ${l?"bg-blue-600":"bg-gray-200"} ${e?"cursor-not-allowed opacity-50":""}`,role:"switch","aria-checked":l,children:(0,b.jsx)("span",{className:`pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out ${l?"translate-x-5":"translate-x-0"}`})})]}),l&&(0,b.jsxs)("div",{className:"mt-3",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("input",{type:"range",id:"timeLimit",min:5,max:60,step:5,value:n,onChange:a=>o(Number(a.target.value)),className:"h-2 w-full cursor-pointer appearance-none rounded-lg bg-gray-200 accent-blue-600",disabled:e}),(0,b.jsxs)("span",{className:"w-20 text-center text-sm font-semibold text-gray-900",children:[n," min"]})]}),(0,b.jsxs)("div",{className:"mt-1 flex justify-between text-xs text-gray-500",children:[(0,b.jsx)("span",{children:"5 min"}),(0,b.jsx)("span",{children:"60 min"})]})]}),(0,b.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:l?`Quiz will have a ${n} minute time limit`:"No time limit - take as long as you need"})]}),(0,b.jsxs)("div",{className:"pt-2",children:[(0,b.jsx)("button",{type:"submit",disabled:!p,className:`flex w-full items-center justify-center gap-2 rounded-lg px-6 py-3 text-sm font-semibold transition-all ${p?"bg-gradient-to-r from-blue-600 to-purple-600 text-white shadow-md hover:from-blue-700 hover:to-purple-700 hover:shadow-lg":"cursor-not-allowed bg-gray-200 text-gray-400"}`,children:e?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("svg",{className:"h-5 w-5 animate-spin",fill:"none",viewBox:"0 0 24 24",children:[(0,b.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,b.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),(0,b.jsx)("span",{children:"Generating..."})]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})}),(0,b.jsx)("span",{children:"Generate Quiz"})]})}),0===a&&(0,b.jsx)("p",{className:"mt-2 text-center text-xs text-amber-600",children:"Please select at least one document to generate a quiz"}),a>0&&0===h.length&&(0,b.jsx)("p",{className:"mt-2 text-center text-xs text-amber-600",children:"Please select at least one question type"})]})]})}let i={easy:[{question:"What is the primary function of a CPU?",options:["Store data permanently","Process instructions and perform calculations","Display graphics","Connect to the internet"],correctAnswer:"Process instructions and perform calculations",explanation:"The CPU (Central Processing Unit) is the brain of the computer, responsible for executing instructions and performing calculations."},{question:"Which of the following is a programming language?",options:["HTML","CSS","Python","HTTP"],correctAnswer:"Python",explanation:"Python is a high-level programming language. HTML and CSS are markup/styling languages, and HTTP is a protocol."},{question:"What does RAM stand for?",options:["Random Access Memory","Read Access Memory","Rapid Access Module","Remote Access Memory"],correctAnswer:"Random Access Memory",explanation:"RAM stands for Random Access Memory, which is volatile memory used for temporary data storage during program execution."},{question:"Which company developed the Windows operating system?",options:["Apple","Google","Microsoft","IBM"],correctAnswer:"Microsoft",explanation:"Microsoft developed and maintains the Windows operating system, first released in 1985."},{question:"What is the file extension for a Python script?",options:[".java",".py",".js",".cpp"],correctAnswer:".py",explanation:"Python scripts use the .py file extension."}],medium:[{question:"What is the time complexity of binary search?",options:["O(n)","O(log n)","O(nÂ²)","O(1)"],correctAnswer:"O(log n)",explanation:"Binary search has O(log n) time complexity because it halves the search space with each comparison."},{question:"Which data structure uses LIFO (Last In, First Out)?",options:["Queue","Stack","Array","Linked List"],correctAnswer:"Stack",explanation:"A stack follows LIFO principle where the last element added is the first one to be removed."},{question:"What is the purpose of an index in a database?",options:["Store backup data","Speed up data retrieval","Encrypt sensitive data","Compress table size"],correctAnswer:"Speed up data retrieval",explanation:"Database indexes improve query performance by providing quick access paths to data, similar to a book index."},{question:"Which HTTP method is typically used to update a resource?",options:["GET","POST","PUT","DELETE"],correctAnswer:"PUT",explanation:"PUT is used to update or replace an existing resource. POST creates new resources, GET retrieves, and DELETE removes."},{question:"What is polymorphism in OOP?",options:["Hiding implementation details","Objects taking multiple forms","Inheriting from parent class","Grouping related data"],correctAnswer:"Objects taking multiple forms",explanation:"Polymorphism allows objects of different classes to be treated as objects of a common parent class, enabling different behaviors."}],hard:[{question:"Which algorithm is NOT suitable for finding the shortest path in a weighted graph with negative edges?",options:["Bellman-Ford","Dijkstra's","Floyd-Warshall","SPFA"],correctAnswer:"Dijkstra's",explanation:"Dijkstra's algorithm doesn't work correctly with negative edge weights because it assumes the shortest path to a node is finalized once visited."},{question:"What is the space complexity of merge sort?",options:["O(1)","O(log n)","O(n)","O(n log n)"],correctAnswer:"O(n)",explanation:"Merge sort requires O(n) auxiliary space for the temporary arrays used during merging."},{question:"In distributed systems, what does the 'P' in CAP theorem stand for?",options:["Performance","Partition tolerance","Persistence","Parallelism"],correctAnswer:"Partition tolerance",explanation:"CAP theorem states that distributed systems can only guarantee two of: Consistency, Availability, and Partition tolerance."},{question:"Which design pattern ensures a class has only one instance?",options:["Factory","Observer","Singleton","Strategy"],correctAnswer:"Singleton",explanation:"The Singleton pattern restricts instantiation of a class to a single instance and provides global access to it."},{question:"What is the purpose of a bloom filter?",options:["Sort data efficiently","Test set membership probabilistically","Compress data","Balance binary trees"],correctAnswer:"Test set membership probabilistically",explanation:"Bloom filters are space-efficient probabilistic data structures for testing whether an element is in a set, with possible false positives but no false negatives."}]},j={easy:[{question:"JavaScript and Java are the same programming language.",correctAnswer:"False",explanation:"Despite similar names, JavaScript and Java are completely different languages with different purposes and syntax."},{question:"HTML is a programming language.",correctAnswer:"False",explanation:"HTML (HyperText Markup Language) is a markup language used to structure content, not a programming language."},{question:"A byte consists of 8 bits.",correctAnswer:"True",explanation:"A byte is a unit of digital information that consists of 8 bits."},{question:"Python uses indentation to define code blocks.",correctAnswer:"True",explanation:"Python uses whitespace indentation to delimit code blocks, unlike languages that use braces."},{question:"The internet and the World Wide Web are the same thing.",correctAnswer:"False",explanation:"The internet is the global network infrastructure, while the World Wide Web is a service that runs on the internet."}],medium:[{question:"In a binary search tree, the left child is always greater than the parent.",correctAnswer:"False",explanation:"In a BST, the left child is always less than the parent, and the right child is always greater."},{question:"TCP guarantees delivery of packets in order.",correctAnswer:"True",explanation:"TCP (Transmission Control Protocol) provides reliable, ordered delivery of data packets."},{question:"A hash table has O(1) average time complexity for lookups.",correctAnswer:"True",explanation:"Hash tables provide constant-time average case for insertions, deletions, and lookups."},{question:"REST APIs must use JSON for data exchange.",correctAnswer:"False",explanation:"REST APIs can use various formats including JSON, XML, HTML, or plain text. JSON is common but not required."},{question:"Recursion always uses more memory than iteration.",correctAnswer:"False",explanation:"While recursion typically uses stack space, tail-call optimization can make it as efficient as iteration in some languages."}],hard:[{question:"In eventual consistency, all reads will immediately return the most recent write.",correctAnswer:"False",explanation:"Eventual consistency only guarantees that all replicas will eventually converge to the same value, not immediate consistency."},{question:"A red-black tree guarantees O(log n) time for insertions.",correctAnswer:"True",explanation:"Red-black trees are self-balancing BSTs that maintain O(log n) height, ensuring O(log n) operations."},{question:"Deadlock can occur with only one resource type.",correctAnswer:"False",explanation:"Deadlock requires circular wait, which needs at least two different resource types for processes to wait on each other."},{question:"The halting problem is decidable for all programs.",correctAnswer:"False",explanation:"The halting problem is undecidable - there's no general algorithm to determine if any program will halt."},{question:"Microservices architecture always improves system performance.",correctAnswer:"False",explanation:"Microservices add network overhead and complexity. They improve scalability and maintainability but may reduce performance."}]},k={easy:[{question:"What does HTTP stand for?",correctAnswer:"HyperText Transfer Protocol",explanation:"HTTP is the foundation of data communication on the World Wide Web."},{question:"Name the operator used for equality comparison in most programming languages.",correctAnswer:"==",explanation:"The double equals (==) operator is commonly used for equality comparison."},{question:"What is the output of 2 + 2 * 3?",correctAnswer:"8",explanation:"Following order of operations (PEMDAS), multiplication is performed before addition: 2 + 6 = 8."},{question:"What command is used to install packages in npm?",correctAnswer:"npm install",explanation:"The 'npm install' command installs packages from the npm registry."},{question:"What symbol is used for single-line comments in Python?",correctAnswer:"#",explanation:"Python uses the hash symbol (#) for single-line comments."}],medium:[{question:"What is the Big O notation for accessing an element in an array by index?",correctAnswer:"O(1)",explanation:"Array access by index is constant time because arrays store elements in contiguous memory locations."},{question:"Name the HTTP status code for 'Not Found'.",correctAnswer:"404",explanation:"HTTP 404 indicates that the server cannot find the requested resource."},{question:"What design pattern is used when you want to notify multiple objects about state changes?",correctAnswer:"Observer",explanation:"The Observer pattern defines a one-to-many dependency between objects for state change notifications."},{question:"What is the default port for HTTPS?",correctAnswer:"443",explanation:"HTTPS uses port 443 by default, while HTTP uses port 80."},{question:"In Git, what command creates a new branch?",correctAnswer:"git branch",explanation:"The 'git branch <name>' command creates a new branch. 'git checkout -b' creates and switches to it."}],hard:[{question:"What is the amortized time complexity of dynamic array insertion?",correctAnswer:"O(1)",explanation:"While individual insertions may be O(n) when resizing, the amortized cost over many insertions is O(1)."},{question:"Name the consensus algorithm used by Bitcoin.",correctAnswer:"Proof of Work",explanation:"Bitcoin uses Proof of Work (PoW) where miners solve computational puzzles to validate transactions."},{question:"What is the maximum number of children a node can have in a B-tree of order m?",correctAnswer:"m",explanation:"In a B-tree of order m, each node can have at most m children and m-1 keys."},{question:"What isolation level prevents phantom reads in SQL?",correctAnswer:"Serializable",explanation:"Serializable is the highest isolation level and prevents all concurrency anomalies including phantom reads."},{question:"Name the theorem that states it's impossible to have both safety and liveness in an asynchronous system.",correctAnswer:"FLP",explanation:"The FLP impossibility result shows consensus is impossible in asynchronous systems with even one faulty process."}]};function l(){return`quiz_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}function m(a){let b=[...a];for(let a=b.length-1;a>0;a--){let c=Math.floor(Math.random()*(a+1)),d=b[a];b[a]=b[c],b[c]=d}return b}var n=a.i(12171);function o({quiz:a,onComplete:d,onBack:e}){let f,g,[h,i]=(0,c.useState)(0),[j,k]=(0,c.useState)(new Map),[l,m]=(0,c.useState)(a.timeLimit?60*a.timeLimit:null),[o]=(0,c.useState)(Date.now()),[p,q]=(0,c.useState)(!1),r=(0,c.useRef)(null),s=a.questions[h],t=a.questions.length,u=j.size;(0,c.useEffect)(()=>{if(null!==a.timeLimit)return r.current=setInterval(()=>{m(a=>null===a||a<=0?(r.current&&clearInterval(r.current),0):a-1)},1e3),()=>{r.current&&clearInterval(r.current)}},[a.timeLimit]);let v=(0,c.useRef)(null);(0,c.useEffect)(()=>{v.current=()=>{let b,c;r.current&&clearInterval(r.current);let e=Math.floor((Date.now()-o)/1e3),f=a.questions.map(a=>({questionId:a.id,answer:j.get(a.id)||""}));d((c=Math.round((b=f.map(b=>{var c;let d=a.questions.find(a=>a.id===b.questionId),e=!!d&&(c=b.answer,"short-answer"===d.type?c.trim().toLowerCase()===d.correctAnswer.trim().toLowerCase():c===d.correctAnswer);return{...b,isCorrect:e}})).filter(a=>a.isCorrect).length/a.questions.length*100),{quizId:a.id,answers:b,score:c,totalQuestions:a.questions.length,timeTaken:e,completedAt:new Date}))}},[a,j,o,d]),(0,c.useEffect)(()=>{0===l&&v.current&&v.current()},[l]);let w=()=>null===l?"text-gray-600":l<=60?"text-red-600 animate-pulse":l<=300?"text-orange-500":"text-gray-600",x=(0,c.useCallback)((a,b)=>{k(c=>{let d=new Map(c);return d.set(a,b),d})},[]),y=(0,c.useCallback)(()=>{h>0&&i(a=>a-1)},[h]),z=(0,c.useCallback)(()=>{h<t-1&&i(a=>a+1)},[h,t]),A=(0,c.useCallback)(a=>{i(a)},[]),B=(0,c.useCallback)(()=>{v.current&&v.current()},[]),C=(0,c.useCallback)(()=>{t-u>0?q(!0):B()},[t,u,B]);return(0,b.jsxs)("div",{className:"flex flex-col lg:flex-row gap-4 sm:gap-6",children:[(0,b.jsxs)("div",{className:"flex-1 space-y-4 sm:space-y-6",children:[(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 sm:gap-4 rounded-lg border border-gray-200 bg-white p-3 sm:p-4 shadow-sm",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 sm:gap-4",children:[e&&(0,b.jsx)("button",{onClick:e,className:"flex items-center gap-1 p-1.5 -ml-1.5 text-gray-600 hover:text-gray-900 active:scale-95",children:(0,b.jsx)("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})}),(0,b.jsxs)("div",{className:"min-w-0",children:[(0,b.jsx)("h2",{className:"text-base sm:text-lg font-semibold text-gray-900 truncate",children:a.name}),(0,b.jsxs)("p",{className:"text-xs sm:text-sm text-gray-500",children:[u," of ",t," answered"]})]})]}),null!==l&&(0,b.jsxs)("div",{className:`flex items-center justify-center gap-2 rounded-lg px-3 sm:px-4 py-2 ${l<=60?"bg-red-50":l<=300?"bg-orange-50":"bg-gray-50"}`,children:[(0,b.jsx)("svg",{className:`h-5 w-5 ${w()}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,b.jsx)("span",{className:`text-base sm:text-lg font-mono font-semibold ${w()}`,children:(f=Math.floor(l/60),`${f}:${(l%60).toString().padStart(2,"0")}`)})]})]}),s&&(0,b.jsxs)("div",{className:"rounded-lg border border-gray-200 bg-white p-6 shadow-sm",children:[(0,b.jsxs)("div",{className:"mb-4 flex items-center justify-between",children:[(0,b.jsxs)("span",{className:"text-sm font-medium text-gray-500",children:["Question ",h+1," of ",t]}),(0,b.jsxs)("span",{className:`rounded-full px-3 py-1 text-xs font-medium ${"multiple-choice"===s.type?"bg-blue-100 text-blue-700":"true-false"===s.type?"bg-green-100 text-green-700":"bg-purple-100 text-purple-700"}`,children:["multiple-choice"===s.type&&"Multiple Choice","true-false"===s.type&&"True / False","short-answer"===s.type&&"Short Answer"]})]}),(0,b.jsx)("h3",{className:"mb-6 text-xl font-medium text-gray-900",children:s.question}),(g=j.get(s.id)||"","multiple-choice"===s.type||"true-false"===s.type?(0,b.jsx)("div",{className:"space-y-3",children:s.options?.map((a,c)=>(0,b.jsxs)("label",{className:`flex cursor-pointer items-center gap-3 rounded-lg border-2 p-4 transition-all ${g===a?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"}`,children:[(0,b.jsx)("input",{type:"radio",name:`question-${s.id}`,value:a,checked:g===a,onChange:()=>x(s.id,a),className:"h-4 w-4 text-blue-600 focus:ring-blue-500"}),(0,b.jsx)("span",{className:"text-gray-900",children:a})]},c))}):"short-answer"===s.type?(0,b.jsxs)("div",{children:[(0,b.jsx)("input",{type:"text",value:g,onChange:a=>x(s.id,a.target.value),placeholder:"Type your answer here...",className:"w-full rounded-lg border-2 border-gray-200 px-4 py-3 text-gray-900 placeholder-gray-400 focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500"}),(0,b.jsx)("p",{className:"mt-2 text-xs text-gray-500",children:"Enter your answer. Spelling and capitalization are flexible."})]}):null)]}),(0,b.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,b.jsxs)("button",{onClick:y,disabled:0===h,className:`flex items-center gap-1 sm:gap-2 rounded-lg px-3 sm:px-4 py-2.5 sm:py-2 text-sm font-medium transition-colors active:scale-95 ${0===h?"cursor-not-allowed text-gray-300":"text-gray-600 hover:bg-gray-100 hover:text-gray-900"}`,children:[(0,b.jsx)("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),(0,b.jsx)("span",{className:"hidden sm:inline",children:"Previous"}),(0,b.jsx)("span",{className:"sm:hidden",children:"Prev"})]}),(0,b.jsxs)("button",{onClick:C,className:"flex items-center gap-1.5 sm:gap-2 rounded-lg bg-gradient-to-r from-blue-600 to-purple-600 px-4 sm:px-6 py-2.5 sm:py-2 text-sm font-semibold text-white shadow-md hover:from-blue-700 hover:to-purple-700 active:scale-[0.98]",children:[(0,b.jsx)("svg",{className:"h-4 sm:h-5 w-4 sm:w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,b.jsx)("span",{className:"hidden sm:inline",children:"Submit Quiz"}),(0,b.jsx)("span",{className:"sm:hidden",children:"Submit"})]}),(0,b.jsxs)("button",{onClick:z,disabled:h===t-1,className:`flex items-center gap-1 sm:gap-2 rounded-lg px-3 sm:px-4 py-2.5 sm:py-2 text-sm font-medium transition-colors active:scale-95 ${h===t-1?"cursor-not-allowed text-gray-300":"text-gray-600 hover:bg-gray-100 hover:text-gray-900"}`,children:[(0,b.jsx)("span",{children:"Next"}),(0,b.jsx)("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})]}),(0,b.jsx)("div",{className:"lg:w-64",children:(0,b.jsxs)("div",{className:"rounded-lg border border-gray-200 bg-white p-3 sm:p-4 shadow-sm lg:sticky lg:top-4",children:[(0,b.jsx)("h3",{className:"mb-3 sm:mb-4 text-sm font-semibold text-gray-900",children:"Questions"}),(0,b.jsxs)("div",{className:"mb-3 sm:mb-4 flex flex-wrap gap-2 sm:gap-3 text-xs",children:[(0,b.jsxs)("div",{className:"flex items-center gap-1",children:[(0,b.jsx)("span",{className:"h-2.5 w-2.5 sm:h-3 sm:w-3 rounded-full bg-blue-600"}),(0,b.jsx)("span",{className:"text-gray-600",children:"Current"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-1",children:[(0,b.jsx)("span",{className:"h-2.5 w-2.5 sm:h-3 sm:w-3 rounded-full bg-green-500"}),(0,b.jsx)("span",{className:"text-gray-600",children:"Answered"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-1",children:[(0,b.jsx)("span",{className:"h-2.5 w-2.5 sm:h-3 sm:w-3 rounded-full bg-gray-300"}),(0,b.jsx)("span",{className:"text-gray-600",children:"Unanswered"})]})]}),(0,b.jsx)("div",{className:"grid grid-cols-6 sm:grid-cols-5 gap-1.5 sm:gap-2",children:a.questions.map((c,d)=>{let e=(b=>{if(b===h)return"current";let c=a.questions[b];return c&&j.has(c.id)?"answered":"unanswered"})(d);return(0,b.jsx)("button",{onClick:()=>A(d),className:`flex h-9 w-9 sm:h-10 sm:w-10 items-center justify-center rounded-lg border text-xs sm:text-sm font-medium transition-all active:scale-95 ${(a=>{switch(a){case"current":return"bg-blue-600 text-white";case"answered":return"bg-green-100 text-green-700 border-green-300";case"unanswered":return"bg-gray-100 text-gray-600 border-gray-200"}})(e)}`,title:`Question ${d+1} - ${e}`,children:d+1},c.id)})}),(0,b.jsxs)("div",{className:"mt-3 sm:mt-4 pt-3 sm:pt-4 border-t border-gray-200",children:[(0,b.jsxs)("div",{className:"flex justify-between text-xs sm:text-sm",children:[(0,b.jsx)("span",{className:"text-gray-600",children:"Progress"}),(0,b.jsxs)("span",{className:"font-medium text-gray-900",children:[Math.round(u/t*100),"%"]})]}),(0,b.jsx)("div",{className:"mt-2 h-1.5 sm:h-2 w-full rounded-full bg-gray-200",children:(0,b.jsx)("div",{className:"h-1.5 sm:h-2 rounded-full bg-gradient-to-r from-blue-500 to-purple-500 transition-all",style:{width:`${u/t*100}%`}})})]})]})}),(0,b.jsx)(n.ConfirmDialog,{isOpen:p,title:"Submit Quiz?",message:`You have ${t-u} unanswered question${t-u!=1?"s":""}. Are you sure you want to submit?`,confirmLabel:"Submit Anyway",cancelLabel:"Continue Quiz",variant:"warning",onConfirm:()=>{q(!1),B()},onCancel:()=>q(!1)})]})}function p({question:a,userAnswer:d,isCorrect:e,questionNumber:f}){let[g,h]=(0,c.useState)(!1);return(0,b.jsxs)("div",{className:`rounded-lg border-2 p-4 transition-all ${e?"border-green-200 bg-green-50":"border-red-200 bg-red-50"}`,children:[(0,b.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,b.jsx)("span",{className:`flex h-6 w-6 items-center justify-center rounded-full text-xs font-bold ${e?"bg-green-500 text-white":"bg-red-500 text-white"}`,children:f}),(0,b.jsxs)("span",{className:`rounded-full px-2 py-0.5 text-xs font-medium ${"multiple-choice"===a.type?"bg-blue-100 text-blue-700":"true-false"===a.type?"bg-purple-100 text-purple-700":"bg-orange-100 text-orange-700"}`,children:["multiple-choice"===a.type&&"Multiple Choice","true-false"===a.type&&"True/False","short-answer"===a.type&&"Short Answer"]}),e?(0,b.jsxs)("span",{className:"flex items-center gap-1 text-xs font-medium text-green-700",children:[(0,b.jsx)("svg",{className:"h-4 w-4",fill:"currentColor",viewBox:"0 0 20 20",children:(0,b.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),"Correct"]}):(0,b.jsxs)("span",{className:"flex items-center gap-1 text-xs font-medium text-red-700",children:[(0,b.jsx)("svg",{className:"h-4 w-4",fill:"currentColor",viewBox:"0 0 20 20",children:(0,b.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),"Incorrect"]})]}),(0,b.jsx)("p",{className:"text-gray-900 font-medium",children:a.question})]}),(0,b.jsx)("button",{onClick:()=>h(!g),className:"flex-shrink-0 rounded-lg p-2 text-gray-500 hover:bg-white hover:text-gray-700",children:(0,b.jsx)("svg",{className:`h-5 w-5 transition-transform ${g?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]}),g&&(0,b.jsxs)("div",{className:"mt-4 space-y-3 border-t border-gray-200 pt-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide mb-1",children:"Your Answer"}),(0,b.jsx)("p",{className:`text-sm ${e?"text-green-700":"text-red-700"}`,children:d||(0,b.jsx)("span",{className:"italic text-gray-400",children:"No answer provided"})})]}),!e&&(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide mb-1",children:"Correct Answer"}),(0,b.jsx)("p",{className:"text-sm text-green-700 font-medium",children:a.correctAnswer})]}),(0,b.jsxs)("div",{className:"rounded-lg bg-white p-3",children:[(0,b.jsx)("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide mb-1",children:"Explanation"}),(0,b.jsx)("p",{className:"text-sm text-gray-700",children:a.explanation})]})]})]})}function q({percentage:a,size:c=160}){let d=(c-12)/2,e=2*d*Math.PI,f=a>=80?{stroke:"#22c55e",bg:"#dcfce7"}:a>=60?{stroke:"#3b82f6",bg:"#dbeafe"}:a>=40?{stroke:"#f59e0b",bg:"#fef3c7"}:{stroke:"#ef4444",bg:"#fee2e2"};return(0,b.jsxs)("div",{className:"relative",style:{width:c,height:c},children:[(0,b.jsxs)("svg",{className:"transform -rotate-90",width:c,height:c,children:[(0,b.jsx)("circle",{cx:c/2,cy:c/2,r:d,fill:"none",stroke:f.bg,strokeWidth:12}),(0,b.jsx)("circle",{cx:c/2,cy:c/2,r:d,fill:"none",stroke:f.stroke,strokeWidth:12,strokeLinecap:"round",strokeDasharray:e,strokeDashoffset:e-a/100*e,className:"transition-all duration-1000 ease-out"})]}),(0,b.jsxs)("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[(0,b.jsxs)("span",{className:"text-4xl font-bold text-gray-900",children:[a,"%"]}),(0,b.jsx)("span",{className:"text-sm text-gray-500",children:"Score"})]})]})}function r({quiz:a,result:d,onRetake:e,onSaveResults:f,onShare:g,onBack:h}){var i;let[j,k]=(0,c.useState)("summary"),[l,m]=(0,c.useState)(!1),n=(0,c.useMemo)(()=>{let b={};return a.questions.forEach(a=>{let c=d.answers.find(b=>b.questionId===a.id),e=a.type;b[e]||(b[e]={correct:0,total:0}),b[e].total++,c?.isCorrect&&b[e].correct++}),b},[a.questions,d.answers]),o=d.answers.filter(a=>a.isCorrect).length,r=d.totalQuestions-o,s=a=>{let b=Math.floor(a/60),c=a%60;return 0===b?`${c} seconds`:`${b}m ${c}s`},t=(i=d.score)>=90?{label:"Excellent!",color:"text-green-600"}:i>=80?{label:"Great Job!",color:"text-green-600"}:i>=70?{label:"Good Work!",color:"text-blue-600"}:i>=60?{label:"Not Bad!",color:"text-blue-600"}:i>=50?{label:"Keep Practicing",color:"text-amber-600"}:{label:"Needs Improvement",color:"text-red-600"},u=async()=>{let b=`I scored ${d.score}% on "${a.name}"! ${o}/${d.totalQuestions} correct answers.`;if(navigator.share)try{await navigator.share({title:"Quiz Results",text:b})}catch{await navigator.clipboard.writeText(b),m(!0),setTimeout(()=>m(!1),2e3)}else await navigator.clipboard.writeText(b),m(!0),setTimeout(()=>m(!1),2e3);g?.()};return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[h&&(0,b.jsx)("button",{onClick:h,className:"flex items-center gap-1 text-gray-600 hover:text-gray-900",children:(0,b.jsx)("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Quiz Results"}),(0,b.jsx)("p",{className:"text-sm text-gray-500",children:a.name})]})]}),(0,b.jsxs)("div",{className:"flex rounded-lg border border-gray-200 bg-gray-50 p-1",children:[(0,b.jsx)("button",{onClick:()=>k("summary"),className:`rounded-md px-4 py-2 text-sm font-medium transition-colors ${"summary"===j?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:"Summary"}),(0,b.jsx)("button",{onClick:()=>k("review"),className:`rounded-md px-4 py-2 text-sm font-medium transition-colors ${"review"===j?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:"Review Answers"})]})]}),"summary"===j?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"rounded-lg border border-gray-200 bg-white p-6 shadow-sm",children:(0,b.jsxs)("div",{className:"flex flex-col md:flex-row items-center gap-8",children:[(0,b.jsx)("div",{className:"flex-shrink-0",children:(0,b.jsx)(q,{percentage:d.score})}),(0,b.jsxs)("div",{className:"flex-1 text-center md:text-left",children:[(0,b.jsx)("h2",{className:`text-3xl font-bold ${t.color}`,children:t.label}),(0,b.jsxs)("p",{className:"mt-2 text-gray-600",children:["You answered ",o," out of ",d.totalQuestions," questions correctly."]}),(0,b.jsxs)("div",{className:"mt-4 flex flex-wrap justify-center md:justify-start gap-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-green-100",children:(0,b.jsx)("svg",{className:"h-4 w-4 text-green-600",fill:"currentColor",viewBox:"0 0 20 20",children:(0,b.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium text-gray-900",children:o}),(0,b.jsx)("p",{className:"text-xs text-gray-500",children:"Correct"})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-red-100",children:(0,b.jsx)("svg",{className:"h-4 w-4 text-red-600",fill:"currentColor",viewBox:"0 0 20 20",children:(0,b.jsx)("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium text-gray-900",children:r}),(0,b.jsx)("p",{className:"text-xs text-gray-500",children:"Incorrect"})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-blue-100",children:(0,b.jsx)("svg",{className:"h-4 w-4 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium text-gray-900",children:s(d.timeTaken)}),(0,b.jsx)("p",{className:"text-xs text-gray-500",children:"Time Taken"})]})]})]})]})]})}),(0,b.jsxs)("div",{className:"rounded-lg border border-gray-200 bg-white p-6 shadow-sm",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Performance by Question Type"}),(0,b.jsx)("div",{className:"space-y-4",children:Object.entries(n).map(([a,c])=>{let d=Math.round(c.correct/c.total*100);return(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,b.jsx)("span",{className:"text-sm font-medium text-gray-700",children:(a=>{switch(a){case"multiple-choice":return"Multiple Choice";case"true-false":return"True/False";case"short-answer":return"Short Answer";default:return a}})(a)}),(0,b.jsxs)("span",{className:"text-sm text-gray-500",children:[c.correct,"/",c.total," (",d,"%)"]})]}),(0,b.jsx)("div",{className:"h-2 w-full rounded-full bg-gray-200",children:(0,b.jsx)("div",{className:`h-2 rounded-full transition-all duration-500 ${d>=70?"bg-green-500":d>=50?"bg-amber-500":"bg-red-500"}`,style:{width:`${d}%`}})})]},a)})})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,b.jsxs)("div",{className:"rounded-lg border border-gray-200 bg-white p-4 text-center",children:[(0,b.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:d.totalQuestions}),(0,b.jsx)("p",{className:"text-sm text-gray-500",children:"Total Questions"})]}),(0,b.jsxs)("div",{className:"rounded-lg border border-gray-200 bg-white p-4 text-center",children:[(0,b.jsx)("p",{className:"text-2xl font-bold text-green-600",children:o}),(0,b.jsx)("p",{className:"text-sm text-gray-500",children:"Correct"})]}),(0,b.jsxs)("div",{className:"rounded-lg border border-gray-200 bg-white p-4 text-center",children:[(0,b.jsx)("p",{className:"text-2xl font-bold text-red-600",children:r}),(0,b.jsx)("p",{className:"text-sm text-gray-500",children:"Incorrect"})]}),(0,b.jsxs)("div",{className:"rounded-lg border border-gray-200 bg-white p-4 text-center",children:[(0,b.jsx)("p",{className:"text-2xl font-bold text-blue-600",children:s(d.timeTaken)}),(0,b.jsx)("p",{className:"text-sm text-gray-500",children:"Time Taken"})]})]})]}):(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("div",{className:"rounded-lg border border-gray-200 bg-white p-4 shadow-sm",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("p",{className:"text-sm text-gray-600",children:"Click on any question to expand and see the explanation."}),(0,b.jsxs)("div",{className:"flex items-center gap-4 text-sm",children:[(0,b.jsxs)("span",{className:"flex items-center gap-1 text-green-600",children:[(0,b.jsx)("span",{className:"h-2 w-2 rounded-full bg-green-500"}),o," Correct"]}),(0,b.jsxs)("span",{className:"flex items-center gap-1 text-red-600",children:[(0,b.jsx)("span",{className:"h-2 w-2 rounded-full bg-red-500"}),r," Incorrect"]})]})]})}),a.questions.map((a,c)=>{let e=d.answers.find(b=>b.questionId===a.id);return(0,b.jsx)(p,{question:a,userAnswer:e?.answer||"",isCorrect:e?.isCorrect||!1,questionNumber:c+1},a.id)})]}),(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4 pt-4",children:[(0,b.jsxs)("button",{onClick:e,className:"flex w-full sm:w-auto items-center justify-center gap-2 rounded-lg bg-gradient-to-r from-blue-600 to-purple-600 px-6 py-3 text-sm font-semibold text-white shadow-md hover:from-blue-700 hover:to-purple-700 transition-all",children:[(0,b.jsx)("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Retake Quiz"]}),f&&(0,b.jsxs)("button",{onClick:f,className:"flex w-full sm:w-auto items-center justify-center gap-2 rounded-lg border border-gray-300 bg-white px-6 py-3 text-sm font-semibold text-gray-700 shadow-sm hover:bg-gray-50 transition-all",children:[(0,b.jsx)("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4"})}),"Save Results"]}),(0,b.jsx)("button",{onClick:u,className:"flex w-full sm:w-auto items-center justify-center gap-2 rounded-lg border border-gray-300 bg-white px-6 py-3 text-sm font-semibold text-gray-700 shadow-sm hover:bg-gray-50 transition-all relative",children:l?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("svg",{className:"h-5 w-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Copied!"]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z"})}),"Share Score"]})})]})]})}var s=a.i(83347),t=a.i(89789);function u(){let{user:a}=(0,e.useAuth)(),{folders:d,fetchFolders:n,loading:p}=(0,s.useFolders)(),{documents:q,fetchDocuments:u,loading:v}=(0,t.useDocuments)(),[w,x]=(0,c.useState)(new Set),[y,z]=(0,c.useState)("selection"),[A,B]=(0,c.useState)(null),[C,D]=(0,c.useState)(null),[E,F]=(0,c.useState)(null),[G,H]=(0,c.useState)(0);(0,c.useEffect)(()=>{a?.uid&&(n(),u())},[a?.uid,n,u]);let I=(0,c.useCallback)(a=>{x(a)},[]),J=(0,c.useCallback)(async a=>{B(a),z("generating"),H(0);try{var b,c;let d=await (b=Array.from(w),c=a=>H(a),new Promise(d=>{let e=2e3+300*b.length+100*a.questionCount,f=0,g=setInterval(()=>{let a=Math.min((f+=200)/e*100,95);c?.(a)},200);setTimeout(()=>{clearInterval(g),c?.(100),d(function(a,b){let{questionCount:c,questionTypes:d,difficulty:e,timeLimit:f}=a,g=Math.ceil(c/d.length),h=[];for(let a of d)h=[...h,...function(a,b,c){let d=[];if("multiple-choice"===a){let a=m(i[b]);for(let e=0;e<Math.min(c,a.length);e++){let c=a[e];c&&d.push({id:l(),type:"multiple-choice",question:c.question,options:m(c.options),correctAnswer:c.correctAnswer,explanation:c.explanation,difficulty:b})}}else if("true-false"===a){let a=m(j[b]);for(let e=0;e<Math.min(c,a.length);e++){let c=a[e];c&&d.push({id:l(),type:"true-false",question:c.question,options:["True","False"],correctAnswer:c.correctAnswer,explanation:c.explanation,difficulty:b})}}else if("short-answer"===a){let a=m(k[b]);for(let e=0;e<Math.min(c,a.length);e++){let c=a[e];c&&d.push({id:l(),type:"short-answer",question:c.question,correctAnswer:c.correctAnswer,explanation:c.explanation,difficulty:b})}}return d}(a,e,g)];for(h=m(h).slice(0,c);h.length<c&&h.length>0;){let a=h[h.length%h.length];a&&h.push({...a,id:l(),question:`${a.question} (Review)`})}return{id:l(),name:`Quiz - ${new Date().toLocaleDateString()}`,questions:h,sourceDocumentIds:b,config:a,timeLimit:f,createdAt:new Date}}(a,b))},e)}));D(d),z("taking")}catch(a){console.error("Quiz generation failed:",a),z("selection"),B(null)}},[w]),K=(0,c.useCallback)(a=>{F(a),z("results")},[]),L=(0,c.useCallback)(()=>{z("selection"),B(null),D(null),F(null)},[]),M=w.size,N=(0,c.useCallback)(()=>{C&&(F(null),z("taking"))},[C]),O=(0,c.useCallback)(()=>{},[]),P=(0,c.useCallback)(()=>{},[]);return"results"===y&&E&&C?(0,b.jsx)(f.DashboardLayout,{children:(0,b.jsx)("div",{className:"mx-auto max-w-4xl",children:(0,b.jsx)(r,{quiz:C,result:E,onRetake:N,onSaveResults:O,onShare:P,onBack:L})})}):"taking"===y&&C?(0,b.jsx)(f.DashboardLayout,{children:(0,b.jsx)("div",{className:"mx-auto max-w-6xl",children:(0,b.jsx)(o,{quiz:C,onComplete:K,onBack:L})})}):"generating"===y&&A?(0,b.jsx)(f.DashboardLayout,{children:(0,b.jsxs)("div",{className:"mx-auto max-w-4xl space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Generating Quiz"}),(0,b.jsx)("p",{className:"mt-1 text-sm text-gray-600",children:"Please wait while we analyze your documents and create quiz questions."})]}),(0,b.jsx)("div",{className:"rounded-lg border border-gray-200 bg-white p-6 shadow-sm",children:(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center py-12",children:[(0,b.jsx)("div",{className:"relative",children:(0,b.jsxs)("svg",{className:"h-16 w-16 animate-spin text-blue-600",fill:"none",viewBox:"0 0 24 24",children:[(0,b.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,b.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}),(0,b.jsxs)("p",{className:"mt-4 text-lg font-medium text-gray-900",children:["Generating ",A.questionCount," questions..."]}),(0,b.jsxs)("p",{className:"mt-2 text-sm text-gray-500",children:["Analyzing ",M," document",1!==M?"s":""]}),(0,b.jsxs)("div",{className:"mt-4 w-full max-w-xs",children:[(0,b.jsx)("div",{className:"h-2 w-full rounded-full bg-gray-200",children:(0,b.jsx)("div",{className:"h-2 rounded-full bg-gradient-to-r from-blue-500 to-purple-500 transition-all duration-300",style:{width:`${G}%`}})}),(0,b.jsxs)("p",{className:"mt-1 text-center text-xs text-gray-500",children:[Math.round(G),"% complete"]})]}),(0,b.jsx)("div",{className:"mt-4 flex flex-wrap justify-center gap-2",children:A.questionTypes.map(a=>(0,b.jsxs)("span",{className:"rounded-full bg-blue-100 px-3 py-1 text-xs font-medium text-blue-700",children:["multiple-choice"===a&&"Multiple Choice","true-false"===a&&"True/False","short-answer"===a&&"Short Answer"]},a))}),A.timeLimit&&(0,b.jsxs)("p",{className:"mt-3 text-sm text-gray-500",children:["Time limit: ",A.timeLimit," minutes"]})]})})]})}):(0,b.jsx)(f.DashboardLayout,{children:(0,b.jsxs)("div",{className:"mx-auto max-w-4xl space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Generate Quiz"}),(0,b.jsx)("p",{className:"mt-1 text-sm text-gray-600",children:"Select documents to generate AI-powered quizzes to test your knowledge."})]}),(0,b.jsxs)("div",{className:"rounded-lg border border-gray-200 bg-white p-6 shadow-sm",children:[(0,b.jsxs)("div",{className:"mb-4",children:[(0,b.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Select Source Documents"}),(0,b.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Choose the PDF documents you want to generate quiz questions from."})]}),p||v?(0,b.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,b.jsxs)("div",{className:"flex flex-col items-center gap-3",children:[(0,b.jsxs)("svg",{className:"h-8 w-8 animate-spin text-blue-600",fill:"none",viewBox:"0 0 24 24",children:[(0,b.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,b.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),(0,b.jsx)("span",{className:"text-sm text-gray-500",children:"Loading documents..."})]})}):(0,b.jsx)(g.DocumentSelectionTree,{folders:d,documents:q,selectedDocumentIds:w,onSelectionChange:I})]}),M>0&&(0,b.jsx)("div",{className:"rounded-lg border border-blue-200 bg-blue-50 p-4",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-blue-100",children:(0,b.jsx)("svg",{className:"h-5 w-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("p",{className:"font-medium text-blue-900",children:[M," document",1!==M?"s":""," selected"]}),(0,b.jsx)("p",{className:"text-sm text-blue-700",children:"Ready to configure quiz generation options."})]})]})}),(0,b.jsxs)("div",{className:"rounded-lg border border-gray-200 bg-white p-6 shadow-sm",children:[(0,b.jsxs)("div",{className:"mb-4",children:[(0,b.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Configuration Options"}),(0,b.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Customize your quiz generation settings."})]}),(0,b.jsx)(h,{selectedDocumentCount:M,onGenerate:J,isGenerating:"generating"===y})]})]})})}function v(){return(0,b.jsx)(d.ProtectedRoute,{redirectTo:"/",children:(0,b.jsx)(u,{})})}a.s(["default",()=>v],8171)}];

//# sourceMappingURL=src_app_dashboard_quizzes_page_tsx_c51152f7._.js.map