{"version":3,"sources":["../../../../src/components/flashcards/DocumentSelectionTree.tsx","../../../../src/components/flashcards/FlashcardConfigForm.tsx","../../../../src/components/flashcards/FlashcardDeck.tsx","../../../../src/components/flashcards/GenerationLoadingState.tsx","../../../../src/components/flashcards/mockFlashcardGenerator.ts"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState, useCallback, useEffect } from 'react';\r\nimport { Folder } from '@/lib/hooks/useFolders';\r\nimport { Document } from '@/lib/db/types';\r\n\r\ninterface FolderWithDocuments extends Folder {\r\n  documents: Document[];\r\n}\r\n\r\ninterface DocumentSelectionTreeNodeProps {\r\n  folder: FolderWithDocuments;\r\n  allFolders: FolderWithDocuments[];\r\n  level: number;\r\n  expandedIds: Set<string>;\r\n  selectedDocumentIds: Set<string>;\r\n  onToggleExpand: (id: string) => void;\r\n  onToggleDocument: (docId: string) => void;\r\n  onToggleFolderDocuments: (folderId: string, select: boolean) => void;\r\n}\r\n\r\nfunction DocumentSelectionTreeNode({\r\n  folder,\r\n  allFolders,\r\n  level,\r\n  expandedIds,\r\n  selectedDocumentIds,\r\n  onToggleExpand,\r\n  onToggleDocument,\r\n  onToggleFolderDocuments,\r\n}: DocumentSelectionTreeNodeProps) {\r\n  const children = allFolders.filter(f => f.parent_id === folder.id);\r\n  const hasChildren = children.length > 0 || folder.documents.length > 0;\r\n  const isExpanded = expandedIds.has(folder.id);\r\n  \r\n  // Check if all documents in this folder are selected\r\n  const allDocsSelected = folder.documents.length > 0 && \r\n    folder.documents.every(doc => selectedDocumentIds.has(doc.id));\r\n  const someDocsSelected = folder.documents.some(doc => selectedDocumentIds.has(doc.id));\r\n\r\n  const handleExpandClick = (e: React.MouseEvent) => {\r\n    e.stopPropagation();\r\n    onToggleExpand(folder.id);\r\n  };\r\n\r\n  const handleFolderCheckboxChange = () => {\r\n    onToggleFolderDocuments(folder.id, !allDocsSelected);\r\n  };\r\n\r\n  return (\r\n    <div className=\"select-none\">\r\n      <div\r\n        className=\"flex items-center gap-2 rounded-md px-2 py-1.5 transition-colors hover:bg-gray-100\"\r\n        style={{ paddingLeft: `${level * 16 + 8}px` }}\r\n      >\r\n        {/* Expand/Collapse Button */}\r\n        <button\r\n          onClick={handleExpandClick}\r\n          className={`flex h-5 w-5 items-center justify-center rounded transition-colors hover:bg-gray-200 ${\r\n            !hasChildren ? 'invisible' : ''\r\n          }`}\r\n          aria-label={isExpanded ? 'Collapse folder' : 'Expand folder'}\r\n        >\r\n          <svg\r\n            className={`h-4 w-4 text-gray-500 transition-transform ${isExpanded ? 'rotate-90' : ''}`}\r\n            fill=\"none\"\r\n            stroke=\"currentColor\"\r\n            viewBox=\"0 0 24 24\"\r\n          >\r\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 5l7 7-7 7\" />\r\n          </svg>\r\n        </button>\r\n\r\n        {/* Folder Checkbox - selects all documents in folder */}\r\n        {folder.documents.length > 0 && (\r\n          <input\r\n            type=\"checkbox\"\r\n            checked={allDocsSelected}\r\n            ref={(el) => {\r\n              if (el) el.indeterminate = someDocsSelected && !allDocsSelected;\r\n            }}\r\n            onChange={handleFolderCheckboxChange}\r\n            className=\"h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500\"\r\n            aria-label={`Select all documents in ${folder.name}`}\r\n          />\r\n        )}\r\n        {folder.documents.length === 0 && (\r\n          <div className=\"h-4 w-4\" /> \r\n        )}\r\n\r\n        {/* Folder Icon */}\r\n        <svg\r\n          className={`h-5 w-5 flex-shrink-0 ${isExpanded ? 'text-blue-500' : 'text-gray-400'}`}\r\n          fill=\"none\"\r\n          stroke=\"currentColor\"\r\n          viewBox=\"0 0 24 24\"\r\n        >\r\n          {isExpanded ? (\r\n            <path\r\n              strokeLinecap=\"round\"\r\n              strokeLinejoin=\"round\"\r\n              strokeWidth={2}\r\n              d=\"M5 19a2 2 0 01-2-2V7a2 2 0 012-2h4l2 2h4a2 2 0 012 2v1M5 19h14a2 2 0 002-2v-5a2 2 0 00-2-2H9a2 2 0 00-2 2v5a2 2 0 01-2 2z\"\r\n            />\r\n          ) : (\r\n            <path\r\n              strokeLinecap=\"round\"\r\n              strokeLinejoin=\"round\"\r\n              strokeWidth={2}\r\n              d=\"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z\"\r\n            />\r\n          )}\r\n        </svg>\r\n\r\n        {/* Folder Name */}\r\n        <span className=\"truncate text-sm text-gray-700\">{folder.name}</span>\r\n        \r\n        {/* Document count badge */}\r\n        {folder.documents.length > 0 && (\r\n          <span className=\"ml-auto rounded-full bg-gray-100 px-2 py-0.5 text-xs text-gray-600\">\r\n            {folder.documents.length} doc{folder.documents.length !== 1 ? 's' : ''}\r\n          </span>\r\n        )}\r\n      </div>\r\n\r\n      {/* Documents and Children */}\r\n      {hasChildren && isExpanded && (\r\n        <div>\r\n          {/* Documents in this folder */}\r\n          {folder.documents.map(doc => (\r\n            <DocumentItem\r\n              key={doc.id}\r\n              document={doc}\r\n              level={level + 1}\r\n              isSelected={selectedDocumentIds.has(doc.id)}\r\n              onToggle={() => onToggleDocument(doc.id)}\r\n            />\r\n          ))}\r\n          \r\n          {/* Child folders */}\r\n          {children.map(child => (\r\n            <DocumentSelectionTreeNode\r\n              key={child.id}\r\n              folder={child}\r\n              allFolders={allFolders}\r\n              level={level + 1}\r\n              expandedIds={expandedIds}\r\n              selectedDocumentIds={selectedDocumentIds}\r\n              onToggleExpand={onToggleExpand}\r\n              onToggleDocument={onToggleDocument}\r\n              onToggleFolderDocuments={onToggleFolderDocuments}\r\n            />\r\n          ))}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\n\r\ninterface DocumentItemProps {\r\n  document: Document;\r\n  level: number;\r\n  isSelected: boolean;\r\n  onToggle: () => void;\r\n}\r\n\r\nfunction DocumentItem({ document, level, isSelected, onToggle }: DocumentItemProps) {\r\n  return (\r\n    <div\r\n      className={`flex items-center gap-2 rounded-md px-2 py-1.5 transition-colors hover:bg-gray-100 ${\r\n        isSelected ? 'bg-blue-50' : ''\r\n      }`}\r\n      style={{ paddingLeft: `${(level + 1) * 16 + 8}px` }}\r\n    >\r\n      {/* Spacer for alignment */}\r\n      <div className=\"h-5 w-5\" />\r\n      \r\n      {/* Checkbox */}\r\n      <input\r\n        type=\"checkbox\"\r\n        checked={isSelected}\r\n        onChange={onToggle}\r\n        className=\"h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500\"\r\n        aria-label={`Select ${document.name}`}\r\n      />\r\n\r\n      {/* Document Icon */}\r\n      <svg\r\n        className=\"h-5 w-5 flex-shrink-0 text-red-500\"\r\n        fill=\"none\"\r\n        stroke=\"currentColor\"\r\n        viewBox=\"0 0 24 24\"\r\n      >\r\n        <path\r\n          strokeLinecap=\"round\"\r\n          strokeLinejoin=\"round\"\r\n          strokeWidth={2}\r\n          d=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\"\r\n        />\r\n      </svg>\r\n\r\n      {/* Document Name */}\r\n      <span className=\"truncate text-sm text-gray-700\">{document.name}</span>\r\n      \r\n      {/* File size */}\r\n      <span className=\"ml-auto text-xs text-gray-400\">\r\n        {formatFileSize(document.file_size)}\r\n      </span>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction formatFileSize(bytes: number): string {\r\n  if (bytes === 0) return '0 B';\r\n  const k = 1024;\r\n  const sizes = ['B', 'KB', 'MB', 'GB'];\r\n  const i = Math.floor(Math.log(bytes) / Math.log(k));\r\n  return parseFloat((bytes / Math.pow(k, i)).toFixed(1)) + ' ' + sizes[i];\r\n}\r\n\r\nexport interface DocumentSelectionTreeProps {\r\n  folders: Folder[];\r\n  documents: Document[];\r\n  selectedDocumentIds: Set<string>;\r\n  onSelectionChange: (selectedIds: Set<string>) => void;\r\n  className?: string;\r\n}\r\n\r\nexport function DocumentSelectionTree({\r\n  folders,\r\n  documents,\r\n  selectedDocumentIds,\r\n  onSelectionChange,\r\n  className = '',\r\n}: DocumentSelectionTreeProps) {\r\n  const [expandedIds, setExpandedIds] = useState<Set<string>>(new Set());\r\n\r\n  // Build folders with their documents\r\n  const foldersWithDocuments: FolderWithDocuments[] = folders.map(folder => ({\r\n    ...folder,\r\n    documents: documents.filter(doc => doc.folder_id === folder.id),\r\n  }));\r\n\r\n  // Documents without a folder (root level)\r\n  const rootDocuments = documents.filter(doc => doc.folder_id === null);\r\n  const rootFolders = foldersWithDocuments.filter(f => f.parent_id === null);\r\n\r\n  // Auto-expand folders that have selected documents\r\n  useEffect(() => {\r\n    const foldersToExpand = new Set<string>();\r\n    selectedDocumentIds.forEach(docId => {\r\n      const doc = documents.find(d => d.id === docId);\r\n      if (doc?.folder_id) {\r\n        foldersToExpand.add(doc.folder_id);\r\n        // Also expand parent folders\r\n        let parentId = folders.find(f => f.id === doc.folder_id)?.parent_id;\r\n        while (parentId) {\r\n          foldersToExpand.add(parentId);\r\n          parentId = folders.find(f => f.id === parentId)?.parent_id;\r\n        }\r\n      }\r\n    });\r\n    if (foldersToExpand.size > 0) {\r\n      setExpandedIds(prev => new Set([...prev, ...foldersToExpand]));\r\n    }\r\n  }, [selectedDocumentIds, documents, folders]);\r\n\r\n  const handleToggleExpand = useCallback((id: string) => {\r\n    setExpandedIds(prev => {\r\n      const next = new Set(prev);\r\n      if (next.has(id)) {\r\n        next.delete(id);\r\n      } else {\r\n        next.add(id);\r\n      }\r\n      return next;\r\n    });\r\n  }, []);\r\n\r\n  const handleToggleDocument = useCallback((docId: string) => {\r\n    const newSelectedIds = new Set(selectedDocumentIds);\r\n    if (newSelectedIds.has(docId)) {\r\n      newSelectedIds.delete(docId);\r\n    } else {\r\n      newSelectedIds.add(docId);\r\n    }\r\n    onSelectionChange(newSelectedIds);\r\n  }, [selectedDocumentIds, onSelectionChange]);\r\n\r\n  const handleToggleFolderDocuments = useCallback((folderId: string, select: boolean) => {\r\n    const folder = foldersWithDocuments.find(f => f.id === folderId);\r\n    if (!folder) return;\r\n    \r\n    const newSelectedIds = new Set(selectedDocumentIds);\r\n    folder.documents.forEach(doc => {\r\n      if (select) {\r\n        newSelectedIds.add(doc.id);\r\n      } else {\r\n        newSelectedIds.delete(doc.id);\r\n      }\r\n    });\r\n    onSelectionChange(newSelectedIds);\r\n  }, [foldersWithDocuments, selectedDocumentIds, onSelectionChange]);\r\n\r\n  // Expand all folders\r\n  const expandAll = useCallback(() => {\r\n    setExpandedIds(new Set(folders.map(f => f.id)));\r\n  }, [folders]);\r\n\r\n  // Collapse all folders\r\n  const collapseAll = useCallback(() => {\r\n    setExpandedIds(new Set());\r\n  }, []);\r\n\r\n  // Select all documents\r\n  const selectAll = useCallback(() => {\r\n    onSelectionChange(new Set(documents.map(d => d.id)));\r\n  }, [documents, onSelectionChange]);\r\n\r\n  // Deselect all documents\r\n  const deselectAll = useCallback(() => {\r\n    onSelectionChange(new Set());\r\n  }, [onSelectionChange]);\r\n\r\n  // Clear selection (alias for deselect all)\r\n  const clearSelection = deselectAll;\r\n\r\n  const totalDocuments = documents.length;\r\n  const selectedCount = selectedDocumentIds.size;\r\n\r\n  if (totalDocuments === 0) {\r\n    return (\r\n      <div className={`rounded-lg border-2 border-dashed border-gray-300 p-8 text-center ${className}`}>\r\n        <svg className=\"mx-auto h-10 w-10 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\" />\r\n        </svg>\r\n        <p className=\"mt-2 text-sm text-gray-500\">No documents available</p>\r\n        <p className=\"mt-1 text-xs text-gray-400\">Upload some PDF documents to get started</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className={className}>\r\n      {/* Action Buttons */}\r\n      <div className=\"mb-3 flex flex-wrap items-center gap-2\">\r\n        <button\r\n          onClick={expandAll}\r\n          className=\"text-xs text-blue-600 hover:text-blue-800 hover:underline\"\r\n        >\r\n          Expand All\r\n        </button>\r\n        <span className=\"text-gray-300\">|</span>\r\n        <button\r\n          onClick={collapseAll}\r\n          className=\"text-xs text-blue-600 hover:text-blue-800 hover:underline\"\r\n        >\r\n          Collapse All\r\n        </button>\r\n        <span className=\"text-gray-300\">|</span>\r\n        <button\r\n          onClick={selectAll}\r\n          className=\"text-xs text-blue-600 hover:text-blue-800 hover:underline\"\r\n        >\r\n          Select All\r\n        </button>\r\n        <span className=\"text-gray-300\">|</span>\r\n        <button\r\n          onClick={deselectAll}\r\n          className=\"text-xs text-blue-600 hover:text-blue-800 hover:underline\"\r\n        >\r\n          Deselect All\r\n        </button>\r\n      </div>\r\n\r\n      {/* Selection Count */}\r\n      <div className=\"mb-2 flex items-center justify-between\">\r\n        <span className=\"text-sm text-gray-600\">\r\n          {selectedCount} of {totalDocuments} document{totalDocuments !== 1 ? 's' : ''} selected\r\n        </span>\r\n        {selectedCount > 0 && (\r\n          <button\r\n            onClick={clearSelection}\r\n            className=\"text-xs text-red-600 hover:text-red-800 hover:underline\"\r\n          >\r\n            Clear Selection\r\n          </button>\r\n        )}\r\n      </div>\r\n\r\n      {/* Tree */}\r\n      <div className=\"max-h-96 overflow-y-auto rounded-lg border border-gray-200 bg-white\">\r\n        {/* Root level documents */}\r\n        {rootDocuments.map(doc => (\r\n          <DocumentItem\r\n            key={doc.id}\r\n            document={doc}\r\n            level={-1}\r\n            isSelected={selectedDocumentIds.has(doc.id)}\r\n            onToggle={() => handleToggleDocument(doc.id)}\r\n          />\r\n        ))}\r\n        \r\n        {/* Folders */}\r\n        {rootFolders.map(folder => (\r\n          <DocumentSelectionTreeNode\r\n            key={folder.id}\r\n            folder={folder}\r\n            allFolders={foldersWithDocuments}\r\n            level={0}\r\n            expandedIds={expandedIds}\r\n            selectedDocumentIds={selectedDocumentIds}\r\n            onToggleExpand={handleToggleExpand}\r\n            onToggleDocument={handleToggleDocument}\r\n            onToggleFolderDocuments={handleToggleFolderDocuments}\r\n          />\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","\"use client\";\r\n\r\nimport { useState } from 'react';\r\n\r\nexport type DifficultyLevel = 'easy' | 'medium' | 'hard';\r\n\r\nexport interface FlashcardConfig {\r\n  quantity: number;\r\n  difficulty: DifficultyLevel;\r\n  focusTopics: string;\r\n}\r\n\r\nexport interface FlashcardConfigFormProps {\r\n  selectedDocumentCount: number;\r\n  onGenerate: (config: FlashcardConfig) => void;\r\n  isGenerating?: boolean;\r\n}\r\n\r\nexport function FlashcardConfigForm({\r\n  selectedDocumentCount,\r\n  onGenerate,\r\n  isGenerating = false,\r\n}: FlashcardConfigFormProps) {\r\n  const [quantity, setQuantity] = useState(15);\r\n  const [difficulty, setDifficulty] = useState<DifficultyLevel>('medium');\r\n  const [focusTopics, setFocusTopics] = useState('');\r\n\r\n  const canGenerate = selectedDocumentCount > 0 && !isGenerating;\r\n\r\n  const handleSubmit = (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    if (canGenerate) {\r\n      onGenerate({ quantity, difficulty, focusTopics });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit} className=\"space-y-6\">\r\n      {/* Quantity Slider */}\r\n      <div>\r\n        <label htmlFor=\"quantity\" className=\"block text-sm font-medium text-gray-700\">\r\n          Number of Flashcards\r\n        </label>\r\n        <div className=\"mt-2\">\r\n          <div className=\"flex items-center gap-4\">\r\n            <input\r\n              type=\"range\"\r\n              id=\"quantity\"\r\n              min={5}\r\n              max={50}\r\n              step={1}\r\n              value={quantity}\r\n              onChange={(e) => setQuantity(Number(e.target.value))}\r\n              className=\"h-2 w-full cursor-pointer appearance-none rounded-lg bg-gray-200 accent-blue-600\"\r\n              disabled={isGenerating}\r\n            />\r\n            <span className=\"w-12 text-center text-sm font-semibold text-gray-900\">\r\n              {quantity}\r\n            </span>\r\n          </div>\r\n          <div className=\"mt-1 flex justify-between text-xs text-gray-500\">\r\n            <span>5</span>\r\n            <span>50</span>\r\n          </div>\r\n        </div>\r\n        <p className=\"mt-1 text-xs text-gray-500\">\r\n          Choose how many flashcards to generate (5-50)\r\n        </p>\r\n      </div>\r\n\r\n      {/* Difficulty Level Selector */}\r\n      <div>\r\n        <label className=\"block text-sm font-medium text-gray-700\">\r\n          Difficulty Level\r\n        </label>\r\n        <div className=\"mt-2 flex gap-3\">\r\n          {(['easy', 'medium', 'hard'] as const).map((level) => (\r\n            <button\r\n              key={level}\r\n              type=\"button\"\r\n              onClick={() => setDifficulty(level)}\r\n              disabled={isGenerating}\r\n              className={`flex-1 rounded-lg border-2 px-4 py-3 text-sm font-medium transition-all ${\r\n                difficulty === level\r\n                  ? level === 'easy'\r\n                    ? 'border-green-500 bg-green-50 text-green-700'\r\n                    : level === 'medium'\r\n                    ? 'border-yellow-500 bg-yellow-50 text-yellow-700'\r\n                    : 'border-red-500 bg-red-50 text-red-700'\r\n                  : 'border-gray-200 bg-white text-gray-600 hover:border-gray-300 hover:bg-gray-50'\r\n              } ${isGenerating ? 'cursor-not-allowed opacity-50' : ''}`}\r\n            >\r\n              <div className=\"flex flex-col items-center gap-1\">\r\n                {level === 'easy' && (\r\n                  <svg className=\"h-5 w-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M14.828 14.828a4 4 0 01-5.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\r\n                  </svg>\r\n                )}\r\n                {level === 'medium' && (\r\n                  <svg className=\"h-5 w-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z\" />\r\n                  </svg>\r\n                )}\r\n                {level === 'hard' && (\r\n                  <svg className=\"h-5 w-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M17.657 18.657A8 8 0 016.343 7.343S7 9 9 10c0-2 .5-5 2.986-7C14 5 16.09 5.777 17.656 7.343A7.975 7.975 0 0120 13a7.975 7.975 0 01-2.343 5.657z\" />\r\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9.879 16.121A3 3 0 1012.015 11L11 14H9c0 .768.293 1.536.879 2.121z\" />\r\n                  </svg>\r\n                )}\r\n                <span className=\"capitalize\">{level}</span>\r\n              </div>\r\n            </button>\r\n          ))}\r\n        </div>\r\n        <p className=\"mt-2 text-xs text-gray-500\">\r\n          {difficulty === 'easy' && 'Basic recall questions focusing on key terms and definitions'}\r\n          {difficulty === 'medium' && 'Balanced mix of recall and comprehension questions'}\r\n          {difficulty === 'hard' && 'Advanced questions requiring analysis and application'}\r\n        </p>\r\n      </div>\r\n\r\n      {/* Focus Topics Input */}\r\n      <div>\r\n        <label htmlFor=\"focusTopics\" className=\"block text-sm font-medium text-gray-700\">\r\n          Focus Topics <span className=\"text-gray-400\">(optional)</span>\r\n        </label>\r\n        <div className=\"mt-2\">\r\n          <input\r\n            type=\"text\"\r\n            id=\"focusTopics\"\r\n            value={focusTopics}\r\n            onChange={(e) => setFocusTopics(e.target.value)}\r\n            placeholder=\"e.g., Chapter 3, Machine Learning, Key Concepts\"\r\n            disabled={isGenerating}\r\n            className=\"block w-full rounded-lg border border-gray-300 px-4 py-2.5 text-sm text-gray-900 placeholder-gray-400 focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500 disabled:cursor-not-allowed disabled:bg-gray-50 disabled:opacity-50\"\r\n          />\r\n        </div>\r\n        <p className=\"mt-1 text-xs text-gray-500\">\r\n          Specify topics to focus on, separated by commas\r\n        </p>\r\n      </div>\r\n\r\n      {/* Generate Button */}\r\n      <div className=\"pt-2\">\r\n        <button\r\n          type=\"submit\"\r\n          disabled={!canGenerate}\r\n          className={`flex w-full items-center justify-center gap-2 rounded-lg px-6 py-3 text-sm font-semibold transition-all ${\r\n            canGenerate\r\n              ? 'bg-gradient-to-r from-blue-600 to-purple-600 text-white shadow-md hover:from-blue-700 hover:to-purple-700 hover:shadow-lg'\r\n              : 'cursor-not-allowed bg-gray-200 text-gray-400'\r\n          }`}\r\n        >\r\n          {isGenerating ? (\r\n            <>\r\n              <svg className=\"h-5 w-5 animate-spin\" fill=\"none\" viewBox=\"0 0 24 24\">\r\n                <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\" />\r\n                <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\" />\r\n              </svg>\r\n              <span>Generating...</span>\r\n            </>\r\n          ) : (\r\n            <>\r\n              <svg className=\"h-5 w-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M13 10V3L4 14h7v7l9-11h-7z\" />\r\n              </svg>\r\n              <span>Generate Flashcards</span>\r\n            </>\r\n          )}\r\n        </button>\r\n        {selectedDocumentCount === 0 && (\r\n          <p className=\"mt-2 text-center text-xs text-amber-600\">\r\n            Please select at least one document to generate flashcards\r\n          </p>\r\n        )}\r\n      </div>\r\n    </form>\r\n  );\r\n}\r\n","\"use client\";\r\n\r\nimport { useState, useCallback, useEffect } from 'react';\r\nimport { GeneratedFlashcard, GeneratedFlashcardDeck } from './mockFlashcardGenerator';\r\nimport { DifficultyLevel } from './FlashcardConfigForm';\r\n\r\nexport interface FlashcardDeckProps {\r\n  deck: GeneratedFlashcardDeck;\r\n  onSave?: (deck: GeneratedFlashcardDeck) => void;\r\n  onDelete?: (deckId: string) => void;\r\n  onShare?: (deck: GeneratedFlashcardDeck) => void;\r\n  onBack?: () => void;\r\n}\r\n\r\ntype ViewMode = 'browse' | 'practice' | 'edit';\r\n\r\ninterface EditingCard {\r\n  id: string;\r\n  question: string;\r\n  answer: string;\r\n}\r\n\r\nexport function FlashcardDeck({\r\n  deck: initialDeck,\r\n  onSave,\r\n  onDelete,\r\n  onShare,\r\n  onBack,\r\n}: FlashcardDeckProps) {\r\n  const [deck, setDeck] = useState<GeneratedFlashcardDeck>(initialDeck);\r\n  const [currentIndex, setCurrentIndex] = useState(0);\r\n  const [isFlipped, setIsFlipped] = useState(false);\r\n  const [viewMode, setViewMode] = useState<ViewMode>('browse');\r\n  const [editingCard, setEditingCard] = useState<EditingCard | null>(null);\r\n  const [deckName, setDeckName] = useState(deck.name);\r\n  const [isEditingName, setIsEditingName] = useState(false);\r\n  const [showDeleteConfirm, setShowDeleteConfirm] = useState(false);\r\n  const [practiceStats, setPracticeStats] = useState({ correct: 0, incorrect: 0, remaining: deck.flashcards.length });\r\n  const [practiceCards, setPracticeCards] = useState<GeneratedFlashcard[]>([]);\r\n  const [showExportMenu, setShowExportMenu] = useState(false);\r\n\r\n  const currentCard = viewMode === 'practice' \r\n    ? practiceCards[currentIndex] \r\n    : deck.flashcards[currentIndex];\r\n  const totalCards = viewMode === 'practice' \r\n    ? practiceCards.length \r\n    : deck.flashcards.length;\r\n\r\n  const handlePrevious = useCallback(() => {\r\n    if (currentIndex > 0) {\r\n      setCurrentIndex(prev => prev - 1);\r\n      setIsFlipped(false);\r\n    }\r\n  }, [currentIndex]);\r\n\r\n  const handleNext = useCallback(() => {\r\n    if (currentIndex < totalCards - 1) {\r\n      setCurrentIndex(prev => prev + 1);\r\n      setIsFlipped(false);\r\n    }\r\n  }, [currentIndex, totalCards]);\r\n\r\n  // Keyboard navigation\r\n  useEffect(() => {\r\n    const handleKeyDown = (e: KeyboardEvent) => {\r\n      if (editingCard || isEditingName) return;\r\n      \r\n      switch (e.key) {\r\n        case 'ArrowLeft':\r\n          handlePrevious();\r\n          break;\r\n        case 'ArrowRight':\r\n          handleNext();\r\n          break;\r\n        case ' ':\r\n        case 'Enter':\r\n          e.preventDefault();\r\n          setIsFlipped(prev => !prev);\r\n          break;\r\n      }\r\n    };\r\n\r\n    window.addEventListener('keydown', handleKeyDown);\r\n    return () => window.removeEventListener('keydown', handleKeyDown);\r\n  }, [editingCard, isEditingName, handlePrevious, handleNext]);\r\n\r\n  const handleFlip = useCallback(() => {\r\n    setIsFlipped(prev => !prev);\r\n  }, []);\r\n\r\n  const handleGoToCard = useCallback((index: number) => {\r\n    setCurrentIndex(index);\r\n    setIsFlipped(false);\r\n  }, []);\r\n\r\n\r\n  // Edit functionality\r\n  const handleStartEdit = useCallback((card: GeneratedFlashcard) => {\r\n    setEditingCard({\r\n      id: card.id,\r\n      question: card.question,\r\n      answer: card.answer,\r\n    });\r\n    setViewMode('edit');\r\n  }, []);\r\n\r\n  const handleSaveEdit = useCallback(() => {\r\n    if (!editingCard) return;\r\n    \r\n    setDeck(prev => ({\r\n      ...prev,\r\n      flashcards: prev.flashcards.map(card =>\r\n        card.id === editingCard.id\r\n          ? { ...card, question: editingCard.question, answer: editingCard.answer }\r\n          : card\r\n      ),\r\n    }));\r\n    setEditingCard(null);\r\n    setViewMode('browse');\r\n  }, [editingCard]);\r\n\r\n  const handleCancelEdit = useCallback(() => {\r\n    setEditingCard(null);\r\n    setViewMode('browse');\r\n  }, []);\r\n\r\n  // Save deck with name\r\n  const handleSaveDeck = useCallback(() => {\r\n    const updatedDeck = { ...deck, name: deckName };\r\n    setDeck(updatedDeck);\r\n    onSave?.(updatedDeck);\r\n    setIsEditingName(false);\r\n  }, [deck, deckName, onSave]);\r\n\r\n  // Practice mode\r\n  const handleStartPractice = useCallback(() => {\r\n    const shuffled = [...deck.flashcards].sort(() => Math.random() - 0.5);\r\n    setPracticeCards(shuffled);\r\n    setPracticeStats({ correct: 0, incorrect: 0, remaining: shuffled.length });\r\n    setCurrentIndex(0);\r\n    setIsFlipped(false);\r\n    setViewMode('practice');\r\n  }, [deck.flashcards]);\r\n\r\n  const handlePracticeResponse = useCallback((correct: boolean) => {\r\n    setPracticeStats(prev => ({\r\n      correct: prev.correct + (correct ? 1 : 0),\r\n      incorrect: prev.incorrect + (correct ? 0 : 1),\r\n      remaining: prev.remaining - 1,\r\n    }));\r\n    \r\n    if (currentIndex < practiceCards.length - 1) {\r\n      setCurrentIndex(prev => prev + 1);\r\n      setIsFlipped(false);\r\n    } else {\r\n      // Practice complete - stay on last card to show results\r\n    }\r\n  }, [currentIndex, practiceCards.length]);\r\n\r\n  const handleEndPractice = useCallback(() => {\r\n    setViewMode('browse');\r\n    setCurrentIndex(0);\r\n    setIsFlipped(false);\r\n  }, []);\r\n\r\n  // Export functionality\r\n  const handleExportPDF = useCallback(() => {\r\n    // Create printable content\r\n    const printContent = deck.flashcards.map((card, i) => \r\n      `Card ${i + 1}:\\nQ: ${card.question}\\nA: ${card.answer}\\n`\r\n    ).join('\\n---\\n\\n');\r\n    \r\n    const blob = new Blob([`${deck.name}\\n\\n${printContent}`], { type: 'text/plain' });\r\n    const url = URL.createObjectURL(blob);\r\n    const a = document.createElement('a');\r\n    a.href = url;\r\n    a.download = `${deck.name.replace(/\\s+/g, '_')}.txt`;\r\n    a.click();\r\n    URL.revokeObjectURL(url);\r\n    setShowExportMenu(false);\r\n  }, [deck]);\r\n\r\n  const handleExportAnki = useCallback(() => {\r\n    // Anki format: question;answer (tab-separated)\r\n    const ankiContent = deck.flashcards.map(card => \r\n      `${card.question}\\t${card.answer}`\r\n    ).join('\\n');\r\n    \r\n    const blob = new Blob([ankiContent], { type: 'text/plain' });\r\n    const url = URL.createObjectURL(blob);\r\n    const a = document.createElement('a');\r\n    a.href = url;\r\n    a.download = `${deck.name.replace(/\\s+/g, '_')}_anki.txt`;\r\n    a.click();\r\n    URL.revokeObjectURL(url);\r\n    setShowExportMenu(false);\r\n  }, [deck]);\r\n\r\n  // Delete functionality\r\n  const handleDelete = useCallback(() => {\r\n    onDelete?.(deck.id);\r\n    setShowDeleteConfirm(false);\r\n  }, [deck.id, onDelete]);\r\n\r\n  // Share functionality\r\n  const handleShare = useCallback(() => {\r\n    onShare?.(deck);\r\n  }, [deck, onShare]);\r\n\r\n  const getDifficultyColor = (difficulty: DifficultyLevel) => {\r\n    switch (difficulty) {\r\n      case 'easy': return 'bg-green-100 text-green-700';\r\n      case 'medium': return 'bg-yellow-100 text-yellow-700';\r\n      case 'hard': return 'bg-red-100 text-red-700';\r\n    }\r\n  };\r\n\r\n\r\n  // Practice complete view\r\n  if (viewMode === 'practice' && practiceStats.remaining === 0) {\r\n    const totalAnswered = practiceStats.correct + practiceStats.incorrect;\r\n    const percentage = totalAnswered > 0 ? Math.round((practiceStats.correct / totalAnswered) * 100) : 0;\r\n    \r\n    return (\r\n      <div className=\"space-y-6\">\r\n        <div className=\"rounded-lg border border-gray-200 bg-white p-8 shadow-sm text-center\">\r\n          <div className=\"mb-6\">\r\n            <div className=\"mx-auto flex h-20 w-20 items-center justify-center rounded-full bg-gradient-to-r from-blue-500 to-purple-500\">\r\n              <svg className=\"h-10 w-10 text-white\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\" />\r\n              </svg>\r\n            </div>\r\n          </div>\r\n          <h2 className=\"text-2xl font-bold text-gray-900 mb-2\">Practice Complete!</h2>\r\n          <p className=\"text-gray-600 mb-6\">You&apos;ve reviewed all {totalAnswered} cards</p>\r\n          \r\n          <div className=\"grid grid-cols-3 gap-4 mb-8\">\r\n            <div className=\"rounded-lg bg-green-50 p-4\">\r\n              <p className=\"text-3xl font-bold text-green-600\">{practiceStats.correct}</p>\r\n              <p className=\"text-sm text-green-700\">Correct</p>\r\n            </div>\r\n            <div className=\"rounded-lg bg-red-50 p-4\">\r\n              <p className=\"text-3xl font-bold text-red-600\">{practiceStats.incorrect}</p>\r\n              <p className=\"text-sm text-red-700\">Incorrect</p>\r\n            </div>\r\n            <div className=\"rounded-lg bg-blue-50 p-4\">\r\n              <p className=\"text-3xl font-bold text-blue-600\">{percentage}%</p>\r\n              <p className=\"text-sm text-blue-700\">Score</p>\r\n            </div>\r\n          </div>\r\n          \r\n          <div className=\"flex justify-center gap-4\">\r\n            <button\r\n              onClick={handleStartPractice}\r\n              className=\"flex items-center gap-2 rounded-lg bg-gradient-to-r from-blue-600 to-purple-600 px-6 py-3 text-sm font-semibold text-white shadow-md hover:from-blue-700 hover:to-purple-700\"\r\n            >\r\n              <svg className=\"h-5 w-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15\" />\r\n              </svg>\r\n              Practice Again\r\n            </button>\r\n            <button\r\n              onClick={handleEndPractice}\r\n              className=\"flex items-center gap-2 rounded-lg border border-gray-300 px-6 py-3 text-sm font-medium text-gray-700 hover:bg-gray-50\"\r\n            >\r\n              Back to Deck\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Edit mode view\r\n  if (viewMode === 'edit' && editingCard) {\r\n    return (\r\n      <div className=\"space-y-6\">\r\n        <div className=\"rounded-lg border border-gray-200 bg-white p-6 shadow-sm\">\r\n          <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Edit Flashcard</h3>\r\n          <div className=\"space-y-4\">\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">Question</label>\r\n              <textarea\r\n                value={editingCard.question}\r\n                onChange={(e) => setEditingCard(prev => prev ? { ...prev, question: e.target.value } : null)}\r\n                className=\"w-full rounded-lg border border-gray-300 px-4 py-3 text-sm focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500\"\r\n                rows={3}\r\n              />\r\n            </div>\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">Answer</label>\r\n              <textarea\r\n                value={editingCard.answer}\r\n                onChange={(e) => setEditingCard(prev => prev ? { ...prev, answer: e.target.value } : null)}\r\n                className=\"w-full rounded-lg border border-gray-300 px-4 py-3 text-sm focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500\"\r\n                rows={4}\r\n              />\r\n            </div>\r\n            <div className=\"flex justify-end gap-3 pt-2\">\r\n              <button\r\n                onClick={handleCancelEdit}\r\n                className=\"rounded-lg border border-gray-300 px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50\"\r\n              >\r\n                Cancel\r\n              </button>\r\n              <button\r\n                onClick={handleSaveEdit}\r\n                className=\"rounded-lg bg-blue-600 px-4 py-2 text-sm font-semibold text-white hover:bg-blue-700\"\r\n              >\r\n                Save Changes\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Header with deck name and actions - Requirements 1.3, 6.4: Responsive design */}\r\n      <div className=\"flex flex-col gap-4\">\r\n        <div className=\"flex items-center gap-3\">\r\n          {onBack && (\r\n            <button\r\n              onClick={onBack}\r\n              className=\"flex items-center gap-1 p-2 -ml-2 text-gray-600 hover:text-gray-900 active:scale-95\"\r\n            >\r\n              <svg className=\"h-5 w-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M10 19l-7-7m0 0l7-7m-7 7h18\" />\r\n              </svg>\r\n            </button>\r\n          )}\r\n          {isEditingName ? (\r\n            <div className=\"flex flex-wrap items-center gap-2 flex-1\">\r\n              <input\r\n                type=\"text\"\r\n                value={deckName}\r\n                onChange={(e) => setDeckName(e.target.value)}\r\n                className=\"flex-1 min-w-0 rounded-lg border border-gray-300 px-3 py-2 text-base sm:text-lg font-bold focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500\"\r\n                autoFocus\r\n              />\r\n              <div className=\"flex gap-2\">\r\n                <button\r\n                  onClick={handleSaveDeck}\r\n                  className=\"rounded-lg bg-blue-600 px-3 py-2 text-sm font-medium text-white hover:bg-blue-700 active:scale-95\"\r\n                >\r\n                  Save\r\n                </button>\r\n                <button\r\n                  onClick={() => { setDeckName(deck.name); setIsEditingName(false); }}\r\n                  className=\"rounded-lg border border-gray-300 px-3 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50 active:scale-95\"\r\n                >\r\n                  Cancel\r\n                </button>\r\n              </div>\r\n            </div>\r\n          ) : (\r\n            <div className=\"flex items-center gap-2 min-w-0 flex-1\">\r\n              <h2 className=\"text-lg sm:text-xl font-bold text-gray-900 truncate\">{deck.name}</h2>\r\n              <button\r\n                onClick={() => setIsEditingName(true)}\r\n                className=\"flex-shrink-0 p-1.5 text-gray-400 hover:text-gray-600 active:scale-95\"\r\n                title=\"Edit deck name\"\r\n              >\r\n                <svg className=\"h-4 w-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z\" />\r\n                </svg>\r\n              </button>\r\n            </div>\r\n          )}\r\n        </div>\r\n        \r\n        {/* Action buttons - responsive grid on mobile */}\r\n        <div className=\"grid grid-cols-2 sm:flex sm:flex-wrap items-center gap-2\">\r\n          <button\r\n            onClick={handleStartPractice}\r\n            className=\"col-span-2 sm:col-span-1 flex items-center justify-center gap-2 rounded-lg bg-gradient-to-r from-blue-600 to-purple-600 px-4 py-2.5 sm:py-2 text-sm font-semibold text-white shadow-sm hover:from-blue-700 hover:to-purple-700 active:scale-[0.98]\"\r\n          >\r\n            <svg className=\"h-4 w-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z\" />\r\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\r\n            </svg>\r\n            Practice\r\n          </button>\r\n          \r\n          {/* Export dropdown */}\r\n          <div className=\"relative\">\r\n            <button\r\n              onClick={() => setShowExportMenu(!showExportMenu)}\r\n              className=\"w-full flex items-center justify-center gap-2 rounded-lg border border-gray-300 px-4 py-2.5 sm:py-2 text-sm font-medium text-gray-700 hover:bg-gray-50 active:scale-[0.98]\"\r\n            >\r\n              <svg className=\"h-4 w-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12\" />\r\n              </svg>\r\n              <span className=\"hidden sm:inline\">Export</span>\r\n              <span className=\"sm:hidden\">Export</span>\r\n            </button>\r\n            {showExportMenu && (\r\n              <div className=\"absolute left-0 sm:right-0 sm:left-auto mt-2 w-48 rounded-lg border border-gray-200 bg-white py-1 shadow-lg z-10\">\r\n                <button\r\n                  onClick={handleExportPDF}\r\n                  className=\"flex w-full items-center gap-2 px-4 py-2.5 text-sm text-gray-700 hover:bg-gray-50 active:bg-gray-100\"\r\n                >\r\n                  <svg className=\"h-4 w-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z\" />\r\n                  </svg>\r\n                  Export as PDF\r\n                </button>\r\n                <button\r\n                  onClick={handleExportAnki}\r\n                  className=\"flex w-full items-center gap-2 px-4 py-2.5 text-sm text-gray-700 hover:bg-gray-50 active:bg-gray-100\"\r\n                >\r\n                  <svg className=\"h-4 w-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10\" />\r\n                  </svg>\r\n                  Export for Anki\r\n                </button>\r\n              </div>\r\n            )}\r\n          </div>\r\n          \r\n          <button\r\n            onClick={handleShare}\r\n            className=\"flex items-center justify-center gap-2 rounded-lg border border-gray-300 px-4 py-2.5 sm:py-2 text-sm font-medium text-gray-700 hover:bg-gray-50 active:scale-[0.98]\"\r\n          >\r\n            <svg className=\"h-4 w-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z\" />\r\n            </svg>\r\n            <span className=\"hidden sm:inline\">Share</span>\r\n            <span className=\"sm:hidden\">Share</span>\r\n          </button>\r\n          \r\n          <button\r\n            onClick={() => setShowDeleteConfirm(true)}\r\n            className=\"flex items-center justify-center gap-2 rounded-lg border border-red-300 px-4 py-2.5 sm:py-2 text-sm font-medium text-red-600 hover:bg-red-50 active:scale-[0.98]\"\r\n          >\r\n            <svg className=\"h-4 w-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\" />\r\n            </svg>\r\n            <span className=\"hidden sm:inline\">Delete</span>\r\n            <span className=\"sm:hidden\">Delete</span>\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n\r\n      {/* Practice mode header */}\r\n      {viewMode === 'practice' && (\r\n        <div className=\"rounded-lg border border-purple-200 bg-purple-50 p-4\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div className=\"flex items-center gap-4\">\r\n              <span className=\"text-sm font-medium text-purple-900\">Practice Mode</span>\r\n              <div className=\"flex items-center gap-2 text-sm\">\r\n                <span className=\"text-green-600\">✓ {practiceStats.correct}</span>\r\n                <span className=\"text-red-600\">✗ {practiceStats.incorrect}</span>\r\n                <span className=\"text-gray-600\">Remaining: {practiceStats.remaining}</span>\r\n              </div>\r\n            </div>\r\n            <button\r\n              onClick={handleEndPractice}\r\n              className=\"text-sm text-purple-600 hover:text-purple-800\"\r\n            >\r\n              End Practice\r\n            </button>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Flashcard display - Requirements 1.3, 6.4: Responsive design */}\r\n      {currentCard && (\r\n        <div className=\"flex flex-col items-center\">\r\n          {/* Card counter */}\r\n          <div className=\"mb-3 sm:mb-4 text-sm text-gray-500\">\r\n            Card {currentIndex + 1} of {totalCards}\r\n          </div>\r\n          \r\n          {/* Flip card container */}\r\n          <div \r\n            className=\"perspective-1000 w-full max-w-2xl cursor-pointer\"\r\n            onClick={handleFlip}\r\n          >\r\n            <div \r\n              className={`relative h-64 sm:h-80 w-full transition-transform duration-500 transform-style-preserve-3d ${\r\n                isFlipped ? 'rotate-y-180' : ''\r\n              }`}\r\n              style={{\r\n                transformStyle: 'preserve-3d',\r\n                transform: isFlipped ? 'rotateY(180deg)' : 'rotateY(0deg)',\r\n              }}\r\n            >\r\n              {/* Front of card (Question) */}\r\n              <div \r\n                className=\"absolute inset-0 rounded-xl border-2 border-gray-200 bg-white p-4 sm:p-8 shadow-lg backface-hidden\"\r\n                style={{ backfaceVisibility: 'hidden' }}\r\n              >\r\n                <div className=\"flex h-full flex-col\">\r\n                  <div className=\"flex items-center justify-between mb-3 sm:mb-4\">\r\n                    <span className=\"text-xs font-medium text-gray-400 uppercase tracking-wide\">Question</span>\r\n                    <span className={`rounded-full px-2 py-0.5 text-xs font-medium ${getDifficultyColor(currentCard.difficulty)}`}>\r\n                      {currentCard.difficulty}\r\n                    </span>\r\n                  </div>\r\n                  <div className=\"flex-1 flex items-center justify-center overflow-y-auto\">\r\n                    <p className=\"text-base sm:text-lg text-gray-900 text-center leading-relaxed\">\r\n                      {currentCard.question}\r\n                    </p>\r\n                  </div>\r\n                  <div className=\"text-center text-xs sm:text-sm text-gray-400 mt-3 sm:mt-4\">\r\n                    Tap to flip\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              \r\n              {/* Back of card (Answer) */}\r\n              <div \r\n                className=\"absolute inset-0 rounded-xl border-2 border-blue-200 bg-gradient-to-br from-blue-50 to-purple-50 p-4 sm:p-8 shadow-lg backface-hidden\"\r\n                style={{ \r\n                  backfaceVisibility: 'hidden',\r\n                  transform: 'rotateY(180deg)',\r\n                }}\r\n              >\r\n                <div className=\"flex h-full flex-col\">\r\n                  <div className=\"flex items-center justify-between mb-3 sm:mb-4\">\r\n                    <span className=\"text-xs font-medium text-blue-500 uppercase tracking-wide\">Answer</span>\r\n                    {viewMode !== 'practice' && (\r\n                      <button\r\n                        onClick={(e) => { e.stopPropagation(); handleStartEdit(currentCard); }}\r\n                        className=\"p-1.5 text-gray-400 hover:text-gray-600 active:scale-95\"\r\n                        title=\"Edit this card\"\r\n                      >\r\n                        <svg className=\"h-4 w-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z\" />\r\n                        </svg>\r\n                      </button>\r\n                    )}\r\n                  </div>\r\n                  <div className=\"flex-1 flex items-center justify-center overflow-y-auto\">\r\n                    <p className=\"text-base sm:text-lg text-gray-800 text-center leading-relaxed\">\r\n                      {currentCard.answer}\r\n                    </p>\r\n                  </div>\r\n                  {viewMode === 'practice' && (\r\n                    <div className=\"flex justify-center gap-2 sm:gap-4 mt-3 sm:mt-4\">\r\n                      <button\r\n                        onClick={(e) => { e.stopPropagation(); handlePracticeResponse(false); }}\r\n                        className=\"flex items-center gap-1.5 sm:gap-2 rounded-lg bg-red-100 px-4 sm:px-6 py-2.5 sm:py-2 text-sm font-medium text-red-700 hover:bg-red-200 active:scale-95\"\r\n                      >\r\n                        <svg className=\"h-4 w-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\r\n                        </svg>\r\n                        <span className=\"hidden sm:inline\">Incorrect</span>\r\n                        <span className=\"sm:hidden\">Wrong</span>\r\n                      </button>\r\n                      <button\r\n                        onClick={(e) => { e.stopPropagation(); handlePracticeResponse(true); }}\r\n                        className=\"flex items-center gap-1.5 sm:gap-2 rounded-lg bg-green-100 px-4 sm:px-6 py-2.5 sm:py-2 text-sm font-medium text-green-700 hover:bg-green-200 active:scale-95\"\r\n                      >\r\n                        <svg className=\"h-4 w-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5 13l4 4L19 7\" />\r\n                        </svg>\r\n                        <span className=\"hidden sm:inline\">Correct</span>\r\n                        <span className=\"sm:hidden\">Right</span>\r\n                      </button>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n\r\n          {/* Navigation arrows */}\r\n          <div className=\"flex items-center justify-center gap-8 mt-6\">\r\n            <button\r\n              onClick={handlePrevious}\r\n              disabled={currentIndex === 0}\r\n              className={`flex items-center gap-2 rounded-lg px-4 py-2 text-sm font-medium transition-colors ${\r\n                currentIndex === 0\r\n                  ? 'cursor-not-allowed text-gray-300'\r\n                  : 'text-gray-600 hover:bg-gray-100 hover:text-gray-900'\r\n              }`}\r\n            >\r\n              <svg className=\"h-5 w-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 19l-7-7 7-7\" />\r\n              </svg>\r\n              Previous\r\n            </button>\r\n            \r\n            <button\r\n              onClick={handleNext}\r\n              disabled={currentIndex === totalCards - 1}\r\n              className={`flex items-center gap-2 rounded-lg px-4 py-2 text-sm font-medium transition-colors ${\r\n                currentIndex === totalCards - 1\r\n                  ? 'cursor-not-allowed text-gray-300'\r\n                  : 'text-gray-600 hover:bg-gray-100 hover:text-gray-900'\r\n              }`}\r\n            >\r\n              Next\r\n              <svg className=\"h-5 w-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 5l7 7-7 7\" />\r\n              </svg>\r\n            </button>\r\n          </div>\r\n          \r\n          {/* Keyboard hint */}\r\n          <p className=\"mt-4 text-xs text-gray-400 text-center\">\r\n            Use ← → arrow keys to navigate, Space or Enter to flip\r\n          </p>\r\n        </div>\r\n      )}\r\n\r\n      {/* Card thumbnails / quick navigation */}\r\n      {viewMode === 'browse' && (\r\n        <div className=\"rounded-lg border border-gray-200 bg-white p-4 shadow-sm\">\r\n          <h3 className=\"text-sm font-medium text-gray-700 mb-3\">All Cards</h3>\r\n          <div className=\"flex flex-wrap gap-2\">\r\n            {deck.flashcards.map((card, index) => (\r\n              <button\r\n                key={card.id}\r\n                onClick={() => handleGoToCard(index)}\r\n                className={`flex h-10 w-10 items-center justify-center rounded-lg text-sm font-medium transition-colors ${\r\n                  index === currentIndex\r\n                    ? 'bg-blue-600 text-white'\r\n                    : 'bg-gray-100 text-gray-600 hover:bg-gray-200'\r\n                }`}\r\n              >\r\n                {index + 1}\r\n              </button>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Delete confirmation dialog */}\r\n      {showDeleteConfirm && (\r\n        <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-black/50\">\r\n          <div className=\"mx-4 w-full max-w-md rounded-lg bg-white p-6 shadow-xl\">\r\n            <h3 className=\"text-lg font-semibold text-gray-900 mb-2\">Delete Flashcard Deck?</h3>\r\n            <p className=\"text-sm text-gray-600 mb-6\">\r\n              Are you sure you want to delete &quot;{deck.name}&quot;? This action cannot be undone.\r\n            </p>\r\n            <div className=\"flex justify-end gap-3\">\r\n              <button\r\n                onClick={() => setShowDeleteConfirm(false)}\r\n                className=\"rounded-lg border border-gray-300 px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50\"\r\n              >\r\n                Cancel\r\n              </button>\r\n              <button\r\n                onClick={handleDelete}\r\n                className=\"rounded-lg bg-red-600 px-4 py-2 text-sm font-semibold text-white hover:bg-red-700\"\r\n              >\r\n                Delete\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","\"use client\";\r\n\r\nimport { useState, useEffect } from 'react';\r\n\r\nexport interface GenerationLoadingStateProps {\r\n  totalDocuments: number;\r\n  cardCount: number;\r\n  onCancel?: () => void;\r\n}\r\n\r\nconst PROGRESS_MESSAGES = [\r\n  'Analyzing document content...',\r\n  'Extracting key concepts...',\r\n  'Identifying important topics...',\r\n  'Generating question-answer pairs...',\r\n  'Optimizing flashcard difficulty...',\r\n  'Finalizing flashcards...',\r\n];\r\n\r\nexport function GenerationLoadingState({\r\n  totalDocuments,\r\n  cardCount,\r\n  onCancel,\r\n}: GenerationLoadingStateProps) {\r\n  const [progress, setProgress] = useState(0);\r\n  const [messageIndex, setMessageIndex] = useState(0);\r\n  const [elapsedSeconds, setElapsedSeconds] = useState(0);\r\n\r\n  // Estimate total time based on documents and cards\r\n  // Base: 2 seconds per document + 0.5 seconds per card\r\n  const estimatedTotalSeconds = Math.max(5, totalDocuments * 2 + cardCount * 0.5);\r\n\r\n  useEffect(() => {\r\n    // Progress simulation\r\n    const progressInterval = setInterval(() => {\r\n      setProgress(prev => {\r\n        // Slow down as we approach 90% to simulate waiting for completion\r\n        const increment = prev < 50 ? 3 : prev < 80 ? 2 : prev < 90 ? 0.5 : 0;\r\n        return Math.min(prev + increment, 90);\r\n      });\r\n    }, 200);\r\n\r\n    // Message rotation\r\n    const messageInterval = setInterval(() => {\r\n      setMessageIndex(prev => (prev + 1) % PROGRESS_MESSAGES.length);\r\n    }, 2500);\r\n\r\n    // Elapsed time counter\r\n    const timeInterval = setInterval(() => {\r\n      setElapsedSeconds(prev => prev + 1);\r\n    }, 1000);\r\n\r\n    return () => {\r\n      clearInterval(progressInterval);\r\n      clearInterval(messageInterval);\r\n      clearInterval(timeInterval);\r\n    };\r\n  }, []);\r\n\r\n  const remainingSeconds = Math.max(0, Math.ceil(estimatedTotalSeconds - elapsedSeconds));\r\n  const remainingDisplay = remainingSeconds > 60 \r\n    ? `${Math.ceil(remainingSeconds / 60)} min` \r\n    : `${remainingSeconds} sec`;\r\n\r\n  return (\r\n    <div className=\"flex flex-col items-center justify-center py-12\">\r\n      {/* Animated Spinner */}\r\n      <div className=\"relative mb-6\">\r\n        {/* Outer ring */}\r\n        <div className=\"h-24 w-24 rounded-full border-4 border-gray-200\" />\r\n        {/* Spinning gradient ring */}\r\n        <div className=\"absolute inset-0 h-24 w-24 animate-spin rounded-full border-4 border-transparent border-t-blue-600 border-r-purple-600\" \r\n          style={{ animationDuration: '1.5s' }} \r\n        />\r\n        {/* Inner content */}\r\n        <div className=\"absolute inset-0 flex items-center justify-center\">\r\n          <div className=\"text-center\">\r\n            <span className=\"text-2xl font-bold text-gray-800\">{Math.round(progress)}%</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Progress Bar */}\r\n      <div className=\"mb-4 w-full max-w-xs\">\r\n        <div className=\"h-2 overflow-hidden rounded-full bg-gray-200\">\r\n          <div\r\n            className=\"h-full rounded-full bg-gradient-to-r from-blue-600 to-purple-600 transition-all duration-300 ease-out\"\r\n            style={{ width: `${progress}%` }}\r\n          />\r\n        </div>\r\n      </div>\r\n\r\n      {/* Current Progress Message */}\r\n      <div className=\"mb-2 flex items-center gap-2\">\r\n        <svg\r\n          className=\"h-5 w-5 animate-pulse text-blue-600\"\r\n          fill=\"none\"\r\n          stroke=\"currentColor\"\r\n          viewBox=\"0 0 24 24\"\r\n        >\r\n          <path\r\n            strokeLinecap=\"round\"\r\n            strokeLinejoin=\"round\"\r\n            strokeWidth={2}\r\n            d=\"M13 10V3L4 14h7v7l9-11h-7z\"\r\n          />\r\n        </svg>\r\n        <p className=\"text-sm font-medium text-gray-700\">\r\n          {PROGRESS_MESSAGES[messageIndex]}\r\n        </p>\r\n      </div>\r\n\r\n      {/* Estimated Time Remaining */}\r\n      <p className=\"mb-6 text-xs text-gray-500\">\r\n        Estimated time remaining: <span className=\"font-medium\">{remainingDisplay}</span>\r\n      </p>\r\n\r\n      {/* Generation Details */}\r\n      <div className=\"mb-6 rounded-lg bg-gray-50 px-6 py-3\">\r\n        <div className=\"flex items-center gap-6 text-sm text-gray-600\">\r\n          <div className=\"flex items-center gap-2\">\r\n            <svg className=\"h-4 w-4 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\" />\r\n            </svg>\r\n            <span>{totalDocuments} document{totalDocuments !== 1 ? 's' : ''}</span>\r\n          </div>\r\n          <div className=\"flex items-center gap-2\">\r\n            <svg className=\"h-4 w-4 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10\" />\r\n            </svg>\r\n            <span>{cardCount} flashcards</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Cancel Button */}\r\n      {onCancel && (\r\n        <button\r\n          onClick={onCancel}\r\n          className=\"rounded-lg border border-gray-300 px-4 py-2 text-sm font-medium text-gray-600 transition-colors hover:bg-gray-50 hover:text-gray-800\"\r\n        >\r\n          Cancel Generation\r\n        </button>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import { FlashcardConfig, DifficultyLevel } from './FlashcardConfigForm';\r\n\r\nexport interface GeneratedFlashcard {\r\n  id: string;\r\n  question: string;\r\n  answer: string;\r\n  difficulty: DifficultyLevel;\r\n}\r\n\r\nexport interface GeneratedFlashcardDeck {\r\n  id: string;\r\n  name: string;\r\n  flashcards: GeneratedFlashcard[];\r\n  sourceDocumentIds: string[];\r\n  config: FlashcardConfig;\r\n  createdAt: Date;\r\n}\r\n\r\n// Mock flashcard content based on difficulty\r\nconst MOCK_FLASHCARDS_BY_DIFFICULTY: Record<DifficultyLevel, Array<{ question: string; answer: string }>> = {\r\n  easy: [\r\n    { question: \"What is the primary purpose of machine learning?\", answer: \"To enable computers to learn from data and make predictions or decisions without being explicitly programmed for each task.\" },\r\n    { question: \"Define 'algorithm' in simple terms.\", answer: \"A step-by-step set of instructions or rules designed to solve a specific problem or perform a task.\" },\r\n    { question: \"What does PDF stand for?\", answer: \"Portable Document Format - a file format developed by Adobe to present documents consistently across different platforms.\" },\r\n    { question: \"What is the difference between RAM and storage?\", answer: \"RAM (Random Access Memory) is temporary memory used for active processes, while storage (HDD/SSD) is permanent memory for saving files.\" },\r\n    { question: \"What is a database?\", answer: \"An organized collection of structured data stored electronically, designed for easy access, management, and updating.\" },\r\n    { question: \"What is the purpose of version control?\", answer: \"To track and manage changes to code or documents over time, allowing collaboration and the ability to revert to previous versions.\" },\r\n    { question: \"What is an API?\", answer: \"Application Programming Interface - a set of protocols and tools that allows different software applications to communicate with each other.\" },\r\n    { question: \"What is cloud computing?\", answer: \"The delivery of computing services (servers, storage, databases, networking, software) over the internet ('the cloud').\" },\r\n    { question: \"What is the function of a web browser?\", answer: \"To retrieve, present, and traverse information resources on the World Wide Web, rendering HTML, CSS, and JavaScript.\" },\r\n    { question: \"What is encryption?\", answer: \"The process of converting information into a code to prevent unauthorized access, ensuring data security and privacy.\" },\r\n  ],\r\n  medium: [\r\n    { question: \"Explain the concept of 'overfitting' in machine learning.\", answer: \"Overfitting occurs when a model learns the training data too well, including noise and outliers, resulting in poor generalization to new, unseen data.\" },\r\n    { question: \"What is the difference between supervised and unsupervised learning?\", answer: \"Supervised learning uses labeled data to train models for prediction, while unsupervised learning finds patterns in unlabeled data without predefined outcomes.\" },\r\n    { question: \"Describe the MVC architectural pattern.\", answer: \"Model-View-Controller separates an application into three components: Model (data/logic), View (user interface), and Controller (handles input and updates model/view).\" },\r\n    { question: \"What is the purpose of normalization in databases?\", answer: \"To organize data to reduce redundancy and dependency, improving data integrity by dividing tables and establishing relationships between them.\" },\r\n    { question: \"Explain the concept of 'Big O notation'.\", answer: \"A mathematical notation describing the upper bound of an algorithm's time or space complexity, indicating how performance scales with input size.\" },\r\n    { question: \"What is the difference between SQL and NoSQL databases?\", answer: \"SQL databases are relational with structured schemas and ACID compliance, while NoSQL databases are non-relational, offering flexible schemas and horizontal scaling.\" },\r\n    { question: \"Describe the concept of 'responsive design'.\", answer: \"A web design approach that makes pages render well on various devices and screen sizes through flexible layouts, images, and CSS media queries.\" },\r\n    { question: \"What is a RESTful API?\", answer: \"An API that follows REST principles: stateless communication, uniform interface, client-server architecture, and resource-based URLs with standard HTTP methods.\" },\r\n    { question: \"Explain the concept of 'dependency injection'.\", answer: \"A design pattern where dependencies are provided to a class rather than created internally, promoting loose coupling and easier testing.\" },\r\n    { question: \"What is the purpose of caching in web applications?\", answer: \"To store frequently accessed data temporarily for faster retrieval, reducing server load, database queries, and improving response times.\" },\r\n  ],\r\n  hard: [\r\n    { question: \"Compare and contrast gradient descent variants: batch, stochastic, and mini-batch.\", answer: \"Batch uses entire dataset (stable but slow), stochastic uses single samples (fast but noisy), mini-batch uses subsets (balanced approach with reduced variance and reasonable speed).\" },\r\n    { question: \"Explain the CAP theorem and its implications for distributed systems.\", answer: \"CAP states distributed systems can only guarantee two of three: Consistency, Availability, Partition tolerance. This forces trade-offs in system design during network failures.\" },\r\n    { question: \"Describe the differences between optimistic and pessimistic concurrency control.\", answer: \"Optimistic assumes conflicts are rare, validates at commit time; pessimistic locks resources preemptively. Choice depends on conflict frequency and performance requirements.\" },\r\n    { question: \"Explain the concept of 'eventual consistency' and when it's appropriate.\", answer: \"A consistency model where updates propagate asynchronously, guaranteeing all replicas converge eventually. Suitable for high-availability systems where temporary inconsistency is acceptable.\" },\r\n    { question: \"What is the difference between horizontal and vertical scaling, and when would you choose each?\", answer: \"Vertical scaling adds resources to existing machines (simpler, limited); horizontal scaling adds more machines (complex, unlimited). Choose based on cost, complexity, and scalability needs.\" },\r\n    { question: \"Explain the concept of 'backpropagation' in neural networks.\", answer: \"An algorithm that calculates gradients of the loss function with respect to weights by propagating errors backward through the network, enabling weight updates via gradient descent.\" },\r\n    { question: \"Describe the trade-offs between microservices and monolithic architectures.\", answer: \"Microservices offer scalability, flexibility, and fault isolation but add complexity in deployment, testing, and data consistency. Monoliths are simpler but harder to scale and modify.\" },\r\n    { question: \"What is the purpose of a bloom filter and what are its limitations?\", answer: \"A probabilistic data structure for set membership testing with O(1) operations and low memory. Limitations: false positives possible, no deletion, and no element retrieval.\" },\r\n    { question: \"Explain the concept of 'sharding' in database design.\", answer: \"Horizontal partitioning of data across multiple database instances based on a shard key. Improves scalability but complicates queries spanning shards and requires careful key selection.\" },\r\n    { question: \"Describe the SOLID principles and their importance in software design.\", answer: \"Single Responsibility, Open/Closed, Liskov Substitution, Interface Segregation, Dependency Inversion. They promote maintainable, extensible, and testable object-oriented code.\" },\r\n  ],\r\n};\r\n\r\nfunction generateUniqueId(): string {\r\n  return `fc_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`;\r\n}\r\n\r\nfunction shuffleArray<T>(array: T[]): T[] {\r\n  const shuffled = [...array];\r\n  for (let i = shuffled.length - 1; i > 0; i--) {\r\n    const j = Math.floor(Math.random() * (i + 1));\r\n    const temp = shuffled[i];\r\n    shuffled[i] = shuffled[j] as T;\r\n    shuffled[j] = temp as T;\r\n  }\r\n  return shuffled;\r\n}\r\n\r\nexport function generateMockFlashcards(\r\n  config: FlashcardConfig,\r\n  selectedDocumentIds: string[]\r\n): GeneratedFlashcardDeck {\r\n  const { quantity, difficulty, focusTopics } = config;\r\n  \r\n  // Get flashcards based on difficulty\r\n  // For variety, we'll mix in some cards from adjacent difficulties\r\n  let availableCards: Array<{ question: string; answer: string; difficulty: DifficultyLevel }> = [];\r\n  \r\n  if (difficulty === 'easy') {\r\n    availableCards = [\r\n      ...MOCK_FLASHCARDS_BY_DIFFICULTY.easy.map(c => ({ ...c, difficulty: 'easy' as DifficultyLevel })),\r\n      ...MOCK_FLASHCARDS_BY_DIFFICULTY.medium.slice(0, 3).map(c => ({ ...c, difficulty: 'medium' as DifficultyLevel })),\r\n    ];\r\n  } else if (difficulty === 'medium') {\r\n    availableCards = [\r\n      ...MOCK_FLASHCARDS_BY_DIFFICULTY.easy.slice(0, 3).map(c => ({ ...c, difficulty: 'easy' as DifficultyLevel })),\r\n      ...MOCK_FLASHCARDS_BY_DIFFICULTY.medium.map(c => ({ ...c, difficulty: 'medium' as DifficultyLevel })),\r\n      ...MOCK_FLASHCARDS_BY_DIFFICULTY.hard.slice(0, 3).map(c => ({ ...c, difficulty: 'hard' as DifficultyLevel })),\r\n    ];\r\n  } else {\r\n    availableCards = [\r\n      ...MOCK_FLASHCARDS_BY_DIFFICULTY.medium.slice(0, 3).map(c => ({ ...c, difficulty: 'medium' as DifficultyLevel })),\r\n      ...MOCK_FLASHCARDS_BY_DIFFICULTY.hard.map(c => ({ ...c, difficulty: 'hard' as DifficultyLevel })),\r\n    ];\r\n  }\r\n\r\n  // Shuffle and select the requested quantity\r\n  const shuffled = shuffleArray(availableCards);\r\n  const selected = shuffled.slice(0, Math.min(quantity, shuffled.length));\r\n\r\n  // If we need more cards than available, duplicate some with variations\r\n  while (selected.length < quantity && shuffled.length > 0) {\r\n    const baseCard = shuffled[selected.length % shuffled.length];\r\n    if (baseCard) {\r\n      selected.push({\r\n        question: `${baseCard.question} (Variation ${Math.floor(selected.length / shuffled.length) + 1})`,\r\n        answer: baseCard.answer,\r\n        difficulty: baseCard.difficulty,\r\n      });\r\n    }\r\n  }\r\n\r\n  // Create flashcard objects\r\n  const flashcards: GeneratedFlashcard[] = selected.map(card => ({\r\n    id: generateUniqueId(),\r\n    question: card.question,\r\n    answer: card.answer,\r\n    difficulty: card.difficulty,\r\n  }));\r\n\r\n  // Generate deck name based on focus topics or default\r\n  const deckName = focusTopics && focusTopics.trim()\r\n    ? `${(focusTopics.split(',')[0] || focusTopics).trim()} Flashcards`\r\n    : `Study Flashcards - ${new Date().toLocaleDateString()}`;\r\n\r\n  return {\r\n    id: generateUniqueId(),\r\n    name: deckName,\r\n    flashcards,\r\n    sourceDocumentIds: selectedDocumentIds,\r\n    config,\r\n    createdAt: new Date(),\r\n  };\r\n}\r\n\r\n// Simulate async generation with delay\r\nexport function generateMockFlashcardsAsync(\r\n  config: FlashcardConfig,\r\n  selectedDocumentIds: string[],\r\n  onProgress?: (progress: number) => void\r\n): Promise<GeneratedFlashcardDeck> {\r\n  return new Promise((resolve) => {\r\n    // Simulate generation time based on quantity and documents\r\n    const baseTime = 2000; // 2 seconds base\r\n    const perDocTime = 500; // 0.5 seconds per document\r\n    const perCardTime = 100; // 0.1 seconds per card\r\n    const totalTime = baseTime + (selectedDocumentIds.length * perDocTime) + (config.quantity * perCardTime);\r\n    \r\n    let elapsed = 0;\r\n    const interval = setInterval(() => {\r\n      elapsed += 200;\r\n      const progress = Math.min((elapsed / totalTime) * 100, 95);\r\n      onProgress?.(progress);\r\n    }, 200);\r\n\r\n    setTimeout(() => {\r\n      clearInterval(interval);\r\n      onProgress?.(100);\r\n      const deck = generateMockFlashcards(config, selectedDocumentIds);\r\n      resolve(deck);\r\n    }, totalTime);\r\n  });\r\n}\r\n"],"names":[],"mappings":"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"}