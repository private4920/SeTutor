{"version":3,"sources":["../../../../src/lib/hooks/useAuthenticatedFetch.ts","../../../../src/lib/hooks/useFolders.ts","../../../../src/components/ui/Skeleton.tsx","../../../../src/components/ui/ConfirmDialog.tsx","../../../../src/components/folders/Breadcrumbs.tsx"],"sourcesContent":["/**\r\n * Hook for making authenticated API requests with Firebase JWT tokens\r\n * \r\n * This hook provides a fetch wrapper that automatically includes the\r\n * Firebase ID token in the Authorization header for secure API calls.\r\n */\r\n\r\nimport { useCallback } from 'react';\r\nimport { getFirebaseAuth } from '@/lib/firebase/config';\r\n\r\n/**\r\n * Custom hook that returns an authenticated fetch function\r\n * Automatically attaches the Firebase ID token to requests\r\n */\r\nexport function useAuthenticatedFetch() {\r\n  const authenticatedFetch = useCallback(async (\r\n    url: string,\r\n    options: RequestInit = {}\r\n  ): Promise<Response> => {\r\n    const auth = getFirebaseAuth();\r\n    const currentUser = auth.currentUser;\r\n    \r\n    if (!currentUser) {\r\n      throw new Error('User is not authenticated');\r\n    }\r\n    \r\n    // Get fresh ID token (Firebase handles caching and refresh)\r\n    const idToken = await currentUser.getIdToken();\r\n    \r\n    // Merge headers with Authorization\r\n    const headers = new Headers(options.headers);\r\n    headers.set('Authorization', `Bearer ${idToken}`);\r\n    \r\n    return fetch(url, {\r\n      ...options,\r\n      headers,\r\n    });\r\n  }, []);\r\n  \r\n  return { authenticatedFetch };\r\n}\r\n\r\n/**\r\n * Standalone function to get the current user's ID token\r\n * Useful for non-hook contexts\r\n */\r\nexport async function getIdToken(): Promise<string | null> {\r\n  const auth = getFirebaseAuth();\r\n  const currentUser = auth.currentUser;\r\n  \r\n  if (!currentUser) {\r\n    return null;\r\n  }\r\n  \r\n  return currentUser.getIdToken();\r\n}\r\n\r\n/**\r\n * Create authenticated fetch headers\r\n * Useful when you need to construct headers manually\r\n */\r\nexport async function createAuthHeaders(\r\n  additionalHeaders?: Record<string, string>\r\n): Promise<Headers> {\r\n  const headers = new Headers(additionalHeaders);\r\n  const token = await getIdToken();\r\n  \r\n  if (token) {\r\n    headers.set('Authorization', `Bearer ${token}`);\r\n  }\r\n  \r\n  return headers;\r\n}\r\n","\"use client\";\r\n\r\nimport { useState, useCallback } from 'react';\r\nimport { useAuth } from '@/lib/firebase/AuthContext';\r\nimport { getIdToken } from './useAuthenticatedFetch';\r\n\r\nexport interface Folder {\r\n  id: string;\r\n  name: string;\r\n  parent_id: string | null;\r\n  user_id: string;\r\n  path: string;\r\n  created_at: string;\r\n  updated_at: string;\r\n}\r\n\r\nexport interface PaginationState {\r\n  currentPage: number;\r\n  pageSize: number;\r\n  totalItems: number;\r\n  totalPages: number;\r\n}\r\n\r\ninterface UseFoldersReturn {\r\n  folders: Folder[];\r\n  loading: boolean;\r\n  error: string | null;\r\n  pagination: PaginationState;\r\n  fetchFolders: (parentId?: string | null) => Promise<void>;\r\n  fetchFoldersPaginated: (parentId?: string | null, page?: number, pageSize?: number) => Promise<void>;\r\n  fetchFolderPath: (folderId: string) => Promise<Folder[]>;\r\n  createFolder: (name: string, parentId?: string | null) => Promise<Folder | null>;\r\n  renameFolder: (id: string, name: string) => Promise<Folder | null>;\r\n  deleteFolder: (id: string) => Promise<boolean>;\r\n  moveFolder: (id: string, newParentId: string | null) => Promise<Folder | null>;\r\n  setPage: (page: number) => void;\r\n  setPageSize: (pageSize: number) => void;\r\n}\r\n\r\n/**\r\n * Helper to create authenticated headers with JWT token\r\n */\r\nasync function getAuthHeaders(): Promise<HeadersInit> {\r\n  const token = await getIdToken();\r\n  if (!token) {\r\n    throw new Error('Not authenticated');\r\n  }\r\n  return {\r\n    'Authorization': `Bearer ${token}`,\r\n    'Content-Type': 'application/json',\r\n  };\r\n}\r\n\r\nexport function useFolders(): UseFoldersReturn {\r\n  const { user } = useAuth();\r\n  const [folders, setFolders] = useState<Folder[]>([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState<string | null>(null);\r\n  const [pagination, setPagination] = useState<PaginationState>({\r\n    currentPage: 1,\r\n    pageSize: 20,\r\n    totalItems: 0,\r\n    totalPages: 0,\r\n  });\r\n\r\n  const setPage = useCallback((page: number) => {\r\n    setPagination(prev => ({ ...prev, currentPage: page }));\r\n  }, []);\r\n\r\n  const setPageSize = useCallback((pageSize: number) => {\r\n    setPagination(prev => ({ ...prev, pageSize, currentPage: 1 }));\r\n  }, []);\r\n\r\n  const fetchFolders = useCallback(async (parentId?: string | null) => {\r\n    if (!user?.uid) return;\r\n    \r\n    setLoading(true);\r\n    setError(null);\r\n    \r\n    try {\r\n      const headers = await getAuthHeaders();\r\n      const params = new URLSearchParams();\r\n      if (parentId !== undefined) {\r\n        params.append('parentId', parentId === null ? 'null' : parentId);\r\n      }\r\n      \r\n      const response = await fetch(`/api/folders?${params}`, { headers });\r\n      const data = await response.json();\r\n      \r\n      if (!response.ok) {\r\n        throw new Error(data.error || 'Failed to fetch folders');\r\n      }\r\n      \r\n      setFolders(data.folders);\r\n      setPagination(prev => ({\r\n        ...prev,\r\n        totalItems: data.folders.length,\r\n        totalPages: 1,\r\n        currentPage: 1,\r\n      }));\r\n    } catch (err) {\r\n      const message = err instanceof Error ? err.message : 'Failed to fetch folders';\r\n      setError(message);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, [user?.uid]);\r\n\r\n  const fetchFoldersPaginated = useCallback(async (\r\n    parentId?: string | null,\r\n    page?: number,\r\n    pageSize?: number\r\n  ) => {\r\n    if (!user?.uid) return;\r\n    \r\n    const currentPageSize = pageSize ?? pagination.pageSize;\r\n    const currentPage = page ?? pagination.currentPage;\r\n    \r\n    setLoading(true);\r\n    setError(null);\r\n    \r\n    try {\r\n      const headers = await getAuthHeaders();\r\n      const params = new URLSearchParams({ \r\n        page: currentPage.toString(),\r\n        pageSize: currentPageSize.toString(),\r\n      });\r\n      if (parentId !== undefined) {\r\n        params.append('parentId', parentId === null ? 'null' : parentId);\r\n      }\r\n      \r\n      const response = await fetch(`/api/folders?${params}`, { headers });\r\n      const data = await response.json();\r\n      \r\n      if (!response.ok) {\r\n        throw new Error(data.error || 'Failed to fetch folders');\r\n      }\r\n      \r\n      setFolders(data.folders);\r\n      setPagination({\r\n        currentPage,\r\n        pageSize: currentPageSize,\r\n        totalItems: data.total,\r\n        totalPages: Math.ceil(data.total / currentPageSize),\r\n      });\r\n    } catch (err) {\r\n      const message = err instanceof Error ? err.message : 'Failed to fetch folders';\r\n      setError(message);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, [user?.uid, pagination.pageSize, pagination.currentPage]);\r\n\r\n  const fetchFolderPath = useCallback(async (folderId: string): Promise<Folder[]> => {\r\n    if (!user?.uid) return [];\r\n    \r\n    try {\r\n      const headers = await getAuthHeaders();\r\n      const response = await fetch(`/api/folders/${folderId}/path`, { headers });\r\n      const data = await response.json();\r\n      \r\n      if (!response.ok) {\r\n        throw new Error(data.error || 'Failed to fetch folder path');\r\n      }\r\n      \r\n      return data.path;\r\n    } catch (err) {\r\n      const message = err instanceof Error ? err.message : 'Failed to fetch folder path';\r\n      setError(message);\r\n      return [];\r\n    }\r\n  }, [user?.uid]);\r\n\r\n  const createFolder = useCallback(async (name: string, parentId?: string | null): Promise<Folder | null> => {\r\n    if (!user?.uid) return null;\r\n    \r\n    setLoading(true);\r\n    setError(null);\r\n    \r\n    try {\r\n      const headers = await getAuthHeaders();\r\n      const response = await fetch('/api/folders', {\r\n        method: 'POST',\r\n        headers,\r\n        body: JSON.stringify({ name, parentId })\r\n      });\r\n      \r\n      const data = await response.json();\r\n      \r\n      if (!response.ok) {\r\n        throw new Error(data.error || 'Failed to create folder');\r\n      }\r\n      \r\n      setFolders(prev => [...prev, data.folder]);\r\n      return data.folder;\r\n    } catch (err) {\r\n      const message = err instanceof Error ? err.message : 'Failed to create folder';\r\n      setError(message);\r\n      return null;\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, [user?.uid]);\r\n\r\n  const renameFolder = useCallback(async (id: string, name: string): Promise<Folder | null> => {\r\n    if (!user?.uid) return null;\r\n    \r\n    setLoading(true);\r\n    setError(null);\r\n    \r\n    try {\r\n      const headers = await getAuthHeaders();\r\n      const response = await fetch(`/api/folders/${id}`, {\r\n        method: 'PUT',\r\n        headers,\r\n        body: JSON.stringify({ name })\r\n      });\r\n      \r\n      const data = await response.json();\r\n      \r\n      if (!response.ok) {\r\n        throw new Error(data.error || 'Failed to rename folder');\r\n      }\r\n      \r\n      setFolders(prev => prev.map(f => f.id === id ? data.folder : f));\r\n      return data.folder;\r\n    } catch (err) {\r\n      const message = err instanceof Error ? err.message : 'Failed to rename folder';\r\n      setError(message);\r\n      return null;\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, [user?.uid]);\r\n\r\n  const deleteFolder = useCallback(async (id: string): Promise<boolean> => {\r\n    if (!user?.uid) return false;\r\n    \r\n    setLoading(true);\r\n    setError(null);\r\n    \r\n    try {\r\n      const headers = await getAuthHeaders();\r\n      const response = await fetch(`/api/folders/${id}`, {\r\n        method: 'DELETE',\r\n        headers\r\n      });\r\n      \r\n      const data = await response.json();\r\n      \r\n      if (!response.ok) {\r\n        throw new Error(data.error || 'Failed to delete folder');\r\n      }\r\n      \r\n      setFolders(prev => prev.filter(f => f.id !== id));\r\n      return true;\r\n    } catch (err) {\r\n      const message = err instanceof Error ? err.message : 'Failed to delete folder';\r\n      setError(message);\r\n      return false;\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, [user?.uid]);\r\n\r\n  const moveFolder = useCallback(async (id: string, newParentId: string | null): Promise<Folder | null> => {\r\n    if (!user?.uid) return null;\r\n    \r\n    setLoading(true);\r\n    setError(null);\r\n    \r\n    try {\r\n      const headers = await getAuthHeaders();\r\n      const response = await fetch(`/api/folders/${id}/move`, {\r\n        method: 'POST',\r\n        headers,\r\n        body: JSON.stringify({ newParentId })\r\n      });\r\n      \r\n      const data = await response.json();\r\n      \r\n      if (!response.ok) {\r\n        throw new Error(data.error || 'Failed to move folder');\r\n      }\r\n      \r\n      // Refresh folders to get updated paths\r\n      await fetchFolders();\r\n      return data.folder;\r\n    } catch (err) {\r\n      const message = err instanceof Error ? err.message : 'Failed to move folder';\r\n      setError(message);\r\n      return null;\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, [user?.uid, fetchFolders]);\r\n\r\n  return {\r\n    folders,\r\n    loading,\r\n    error,\r\n    pagination,\r\n    fetchFolders,\r\n    fetchFoldersPaginated,\r\n    fetchFolderPath,\r\n    createFolder,\r\n    renameFolder,\r\n    deleteFolder,\r\n    moveFolder,\r\n    setPage,\r\n    setPageSize,\r\n  };\r\n}\r\n","\"use client\";\r\n\r\nimport { memo } from 'react';\r\n\r\ninterface SkeletonProps {\r\n  className?: string;\r\n  variant?: 'text' | 'circular' | 'rectangular';\r\n  width?: string | number;\r\n  height?: string | number;\r\n  animation?: 'pulse' | 'wave' | 'none';\r\n}\r\n\r\n/**\r\n * Skeleton loading component for smooth loading states\r\n * Requirements: 12.5 - Skeleton screens for smooth user experience\r\n */\r\nexport const Skeleton = memo(function Skeleton({\r\n  className = '',\r\n  variant = 'rectangular',\r\n  width,\r\n  height,\r\n  animation = 'pulse',\r\n}: SkeletonProps) {\r\n  const baseClasses = 'bg-gray-200';\r\n  \r\n  const variantClasses = {\r\n    text: 'rounded',\r\n    circular: 'rounded-full',\r\n    rectangular: 'rounded-lg',\r\n  };\r\n\r\n  const animationClasses = {\r\n    pulse: 'animate-pulse',\r\n    wave: 'animate-shimmer',\r\n    none: '',\r\n  };\r\n\r\n  const style: React.CSSProperties = {};\r\n  if (width) style.width = typeof width === 'number' ? `${width}px` : width;\r\n  if (height) style.height = typeof height === 'number' ? `${height}px` : height;\r\n\r\n  return (\r\n    <div\r\n      className={`${baseClasses} ${variantClasses[variant]} ${animationClasses[animation]} ${className}`}\r\n      style={style}\r\n      aria-hidden=\"true\"\r\n    />\r\n  );\r\n});\r\n\r\n/**\r\n * Skeleton for a card component\r\n */\r\nexport const CardSkeleton = memo(function CardSkeleton() {\r\n  return (\r\n    <div className=\"rounded-lg border border-gray-200 bg-white p-6 shadow-sm\">\r\n      <div className=\"flex items-center gap-4\">\r\n        <Skeleton variant=\"circular\" width={48} height={48} />\r\n        <div className=\"flex-1 space-y-2\">\r\n          <Skeleton height={16} width=\"60%\" />\r\n          <Skeleton height={12} width=\"40%\" />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n});\r\n\r\n/**\r\n * Skeleton for a stat card\r\n */\r\nexport const StatCardSkeleton = memo(function StatCardSkeleton() {\r\n  return (\r\n    <div className=\"rounded-lg bg-white p-6 shadow-sm\">\r\n      <div className=\"flex items-center gap-4\">\r\n        <Skeleton variant=\"rectangular\" width={48} height={48} className=\"rounded-lg\" />\r\n        <div className=\"space-y-2\">\r\n          <Skeleton height={14} width={60} />\r\n          <Skeleton height={24} width={40} />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n});\r\n\r\n/**\r\n * Skeleton for a document item in list view\r\n */\r\nexport const DocumentListItemSkeleton = memo(function DocumentListItemSkeleton() {\r\n  return (\r\n    <tr>\r\n      <td className=\"whitespace-nowrap px-6 py-4\">\r\n        <div className=\"flex items-center gap-3\">\r\n          <Skeleton variant=\"rectangular\" width={32} height={32} className=\"rounded-lg\" />\r\n          <div className=\"space-y-1\">\r\n            <Skeleton height={14} width={180} />\r\n            <Skeleton height={10} width={120} />\r\n          </div>\r\n        </div>\r\n      </td>\r\n      <td className=\"hidden whitespace-nowrap px-6 py-4 sm:table-cell\">\r\n        <Skeleton height={14} width={60} />\r\n      </td>\r\n      <td className=\"hidden whitespace-nowrap px-6 py-4 md:table-cell\">\r\n        <Skeleton height={14} width={80} />\r\n      </td>\r\n      <td className=\"whitespace-nowrap px-6 py-4 text-right\">\r\n        <div className=\"flex items-center justify-end gap-2\">\r\n          <Skeleton variant=\"circular\" width={28} height={28} />\r\n          <Skeleton variant=\"circular\" width={28} height={28} />\r\n          <Skeleton variant=\"circular\" width={28} height={28} />\r\n        </div>\r\n      </td>\r\n    </tr>\r\n  );\r\n});\r\n\r\n/**\r\n * Skeleton for a document item in grid view\r\n */\r\nexport const DocumentGridItemSkeleton = memo(function DocumentGridItemSkeleton() {\r\n  return (\r\n    <div className=\"rounded-lg border border-gray-200 bg-white p-4 shadow-sm\">\r\n      <Skeleton height={96} className=\"mb-3 w-full rounded-lg\" />\r\n      <Skeleton height={14} width=\"80%\" className=\"mb-2\" />\r\n      <Skeleton height={10} width=\"60%\" />\r\n    </div>\r\n  );\r\n});\r\n\r\n/**\r\n * Skeleton for a folder item\r\n */\r\nexport const FolderItemSkeleton = memo(function FolderItemSkeleton() {\r\n  return (\r\n    <div className=\"flex items-center gap-3 rounded-lg border border-gray-200 bg-white p-4\">\r\n      <Skeleton variant=\"rectangular\" width={48} height={48} className=\"rounded-lg\" />\r\n      <div className=\"flex-1 space-y-1\">\r\n        <Skeleton height={14} width=\"70%\" />\r\n        <Skeleton height={10} width=\"50%\" />\r\n      </div>\r\n    </div>\r\n  );\r\n});\r\n\r\n/**\r\n * Skeleton for recent documents section\r\n */\r\nexport const RecentDocumentsSkeleton = memo(function RecentDocumentsSkeleton() {\r\n  return (\r\n    <div className=\"rounded-lg bg-white p-6 shadow-sm\">\r\n      <Skeleton height={20} width={140} className=\"mb-4\" />\r\n      <div className=\"space-y-3\">\r\n        {[...Array(3)].map((_, i) => (\r\n          <div key={i} className=\"flex items-center gap-3\">\r\n            <Skeleton variant=\"rectangular\" width={40} height={40} className=\"rounded-lg\" />\r\n            <div className=\"flex-1 space-y-2\">\r\n              <Skeleton height={14} width=\"75%\" />\r\n              <Skeleton height={10} width=\"50%\" />\r\n            </div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n});\r\n\r\n/**\r\n * Skeleton for document list\r\n */\r\nexport const DocumentListSkeleton = memo(function DocumentListSkeleton({ count = 5 }: { count?: number }) {\r\n  return (\r\n    <div className=\"overflow-hidden rounded-lg border border-gray-200 bg-white\">\r\n      <table className=\"min-w-full divide-y divide-gray-200\">\r\n        <thead className=\"bg-gray-50\">\r\n          <tr>\r\n            <th className=\"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500\">\r\n              Name\r\n            </th>\r\n            <th className=\"hidden px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500 sm:table-cell\">\r\n              Size\r\n            </th>\r\n            <th className=\"hidden px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500 md:table-cell\">\r\n              Uploaded\r\n            </th>\r\n            <th className=\"px-6 py-3 text-right text-xs font-medium uppercase tracking-wider text-gray-500\">\r\n              Actions\r\n            </th>\r\n          </tr>\r\n        </thead>\r\n        <tbody className=\"divide-y divide-gray-200\">\r\n          {[...Array(count)].map((_, i) => (\r\n            <DocumentListItemSkeleton key={i} />\r\n          ))}\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n});\r\n\r\n/**\r\n * Skeleton for document grid\r\n */\r\nexport const DocumentGridSkeleton = memo(function DocumentGridSkeleton({ count = 8 }: { count?: number }) {\r\n  return (\r\n    <div className=\"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4\">\r\n      {[...Array(count)].map((_, i) => (\r\n        <DocumentGridItemSkeleton key={i} />\r\n      ))}\r\n    </div>\r\n  );\r\n});\r\n\r\n/**\r\n * Skeleton for folder grid\r\n */\r\nexport const FolderGridSkeleton = memo(function FolderGridSkeleton({ count = 6 }: { count?: number }) {\r\n  return (\r\n    <div className=\"grid gap-4 sm:grid-cols-2 lg:grid-cols-3\">\r\n      {[...Array(count)].map((_, i) => (\r\n        <FolderItemSkeleton key={i} />\r\n      ))}\r\n    </div>\r\n  );\r\n});\r\n","\"use client\";\r\n\r\nimport { useEffect, useRef, useCallback } from 'react';\r\n\r\ninterface ConfirmDialogProps {\r\n  isOpen: boolean;\r\n  title: string;\r\n  message: string;\r\n  confirmLabel?: string;\r\n  cancelLabel?: string;\r\n  variant?: 'danger' | 'warning' | 'info';\r\n  onConfirm: () => void;\r\n  onCancel: () => void;\r\n}\r\n\r\n/**\r\n * Accessible confirmation dialog component\r\n * Accessibility: Focus trap, keyboard navigation, ARIA attributes\r\n */\r\nexport function ConfirmDialog({\r\n  isOpen,\r\n  title,\r\n  message,\r\n  confirmLabel = 'Confirm',\r\n  cancelLabel = 'Cancel',\r\n  variant = 'danger',\r\n  onConfirm,\r\n  onCancel\r\n}: ConfirmDialogProps) {\r\n  const dialogRef = useRef<HTMLDivElement>(null);\r\n  const cancelButtonRef = useRef<HTMLButtonElement>(null);\r\n  const confirmButtonRef = useRef<HTMLButtonElement>(null);\r\n\r\n  // Focus the cancel button when dialog opens (safer default)\r\n  useEffect(() => {\r\n    if (isOpen) {\r\n      cancelButtonRef.current?.focus();\r\n    }\r\n  }, [isOpen]);\r\n\r\n  // Handle keyboard navigation and focus trap\r\n  const handleKeyDown = useCallback((e: KeyboardEvent) => {\r\n    if (!isOpen) return;\r\n\r\n    if (e.key === 'Escape') {\r\n      onCancel();\r\n      return;\r\n    }\r\n\r\n    // Focus trap - Tab and Shift+Tab should cycle between buttons\r\n    if (e.key === 'Tab') {\r\n      const focusableElements = [cancelButtonRef.current, confirmButtonRef.current].filter(Boolean);\r\n      const firstElement = focusableElements[0];\r\n      const lastElement = focusableElements[focusableElements.length - 1];\r\n\r\n      if (e.shiftKey) {\r\n        if (document.activeElement === firstElement) {\r\n          e.preventDefault();\r\n          lastElement?.focus();\r\n        }\r\n      } else {\r\n        if (document.activeElement === lastElement) {\r\n          e.preventDefault();\r\n          firstElement?.focus();\r\n        }\r\n      }\r\n    }\r\n  }, [isOpen, onCancel]);\r\n\r\n  useEffect(() => {\r\n    document.addEventListener('keydown', handleKeyDown);\r\n    return () => document.removeEventListener('keydown', handleKeyDown);\r\n  }, [handleKeyDown]);\r\n\r\n  // Prevent body scroll when dialog is open\r\n  useEffect(() => {\r\n    if (isOpen) {\r\n      document.body.style.overflow = 'hidden';\r\n    }\r\n    return () => {\r\n      document.body.style.overflow = '';\r\n    };\r\n  }, [isOpen]);\r\n\r\n  if (!isOpen) return null;\r\n\r\n  const variantStyles = {\r\n    danger: 'bg-red-600 hover:bg-red-700 focus:ring-red-500',\r\n    warning: 'bg-yellow-600 hover:bg-yellow-700 focus:ring-yellow-500',\r\n    info: 'bg-blue-600 hover:bg-blue-700 focus:ring-blue-500'\r\n  };\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 z-50 flex items-center justify-center p-4\">\r\n      {/* Backdrop */}\r\n      <div \r\n        className=\"absolute inset-0 bg-black/50\" \r\n        onClick={onCancel}\r\n        aria-hidden=\"true\"\r\n      />\r\n      \r\n      {/* Dialog - Requirements 1.3, 6.4: Responsive design */}\r\n      <div\r\n        ref={dialogRef}\r\n        role=\"alertdialog\"\r\n        aria-modal=\"true\"\r\n        aria-labelledby=\"dialog-title\"\r\n        aria-describedby=\"dialog-description\"\r\n        tabIndex={-1}\r\n        className=\"relative z-10 w-full max-w-md rounded-lg bg-white p-4 sm:p-6 shadow-xl\"\r\n      >\r\n        <h2 id=\"dialog-title\" className=\"text-base sm:text-lg font-semibold text-gray-900\">\r\n          {title}\r\n        </h2>\r\n        <p id=\"dialog-description\" className=\"mt-2 text-sm text-gray-600\">\r\n          {message}\r\n        </p>\r\n        \r\n        <div className=\"mt-4 sm:mt-6 flex flex-col-reverse sm:flex-row sm:justify-end gap-2 sm:gap-3\">\r\n          <button\r\n            ref={cancelButtonRef}\r\n            type=\"button\"\r\n            onClick={onCancel}\r\n            className=\"w-full sm:w-auto rounded-lg border border-gray-300 px-4 py-2.5 sm:py-2 text-sm font-medium text-gray-700 hover:bg-gray-50 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-gray-500 focus-visible:ring-offset-2 active:scale-[0.98]\"\r\n          >\r\n            {cancelLabel}\r\n          </button>\r\n          <button\r\n            ref={confirmButtonRef}\r\n            type=\"button\"\r\n            onClick={onConfirm}\r\n            className={`w-full sm:w-auto rounded-lg px-4 py-2.5 sm:py-2 text-sm font-medium text-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 active:scale-[0.98] ${variantStyles[variant]}`}\r\n          >\r\n            {confirmLabel}\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","\"use client\";\r\n\r\nimport Link from 'next/link';\r\n\r\nexport interface BreadcrumbItem {\r\n  id: string | null;\r\n  name: string;\r\n  href?: string;\r\n}\r\n\r\ninterface BreadcrumbsProps {\r\n  items: BreadcrumbItem[];\r\n  onItemClick?: (item: BreadcrumbItem, index: number) => void;\r\n  className?: string;\r\n  showHomeIcon?: boolean;\r\n}\r\n\r\nexport function Breadcrumbs({\r\n  items,\r\n  onItemClick,\r\n  className = '',\r\n  showHomeIcon = true,\r\n}: BreadcrumbsProps) {\r\n  if (items.length === 0) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <nav className={`flex items-center ${className}`} aria-label=\"Breadcrumb\">\r\n      <ol className=\"flex items-center gap-1 text-sm\">\r\n        {items.map((item, index) => {\r\n          const isLast = index === items.length - 1;\r\n          const isFirst = index === 0;\r\n\r\n          return (\r\n            <li key={item.id ?? 'root'} className=\"flex items-center\">\r\n              {/* Separator */}\r\n              {!isFirst && (\r\n                <svg\r\n                  className=\"mx-1 h-4 w-4 flex-shrink-0 text-gray-400\"\r\n                  fill=\"none\"\r\n                  stroke=\"currentColor\"\r\n                  viewBox=\"0 0 24 24\"\r\n                  aria-hidden=\"true\"\r\n                >\r\n                  <path\r\n                    strokeLinecap=\"round\"\r\n                    strokeLinejoin=\"round\"\r\n                    strokeWidth={2}\r\n                    d=\"M9 5l7 7-7 7\"\r\n                  />\r\n                </svg>\r\n              )}\r\n\r\n              {/* Breadcrumb Item */}\r\n              {isLast ? (\r\n                <span\r\n                  className=\"flex items-center gap-1.5 font-medium text-gray-900\"\r\n                  aria-current=\"page\"\r\n                >\r\n                  {isFirst && showHomeIcon && (\r\n                    <svg\r\n                      className=\"h-4 w-4 text-gray-500\"\r\n                      fill=\"none\"\r\n                      stroke=\"currentColor\"\r\n                      viewBox=\"0 0 24 24\"\r\n                    >\r\n                      <path\r\n                        strokeLinecap=\"round\"\r\n                        strokeLinejoin=\"round\"\r\n                        strokeWidth={2}\r\n                        d=\"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6\"\r\n                      />\r\n                    </svg>\r\n                  )}\r\n                  {!isFirst && (\r\n                    <svg\r\n                      className=\"h-4 w-4 text-gray-500\"\r\n                      fill=\"none\"\r\n                      stroke=\"currentColor\"\r\n                      viewBox=\"0 0 24 24\"\r\n                    >\r\n                      <path\r\n                        strokeLinecap=\"round\"\r\n                        strokeLinejoin=\"round\"\r\n                        strokeWidth={2}\r\n                        d=\"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z\"\r\n                      />\r\n                    </svg>\r\n                  )}\r\n                  <span className=\"truncate max-w-[200px]\">{item.name}</span>\r\n                </span>\r\n              ) : item.href ? (\r\n                <Link\r\n                  href={item.href}\r\n                  className=\"flex items-center gap-1.5 rounded px-2 py-1 text-gray-500 transition-colors hover:bg-gray-100 hover:text-gray-700\"\r\n                >\r\n                  {isFirst && showHomeIcon && (\r\n                    <svg\r\n                      className=\"h-4 w-4\"\r\n                      fill=\"none\"\r\n                      stroke=\"currentColor\"\r\n                      viewBox=\"0 0 24 24\"\r\n                    >\r\n                      <path\r\n                        strokeLinecap=\"round\"\r\n                        strokeLinejoin=\"round\"\r\n                        strokeWidth={2}\r\n                        d=\"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6\"\r\n                      />\r\n                    </svg>\r\n                  )}\r\n                  <span className=\"truncate max-w-[150px]\">{item.name}</span>\r\n                </Link>\r\n              ) : (\r\n                <button\r\n                  onClick={() => onItemClick?.(item, index)}\r\n                  className=\"flex items-center gap-1.5 rounded px-2 py-1 text-gray-500 transition-colors hover:bg-gray-100 hover:text-gray-700\"\r\n                >\r\n                  {isFirst && showHomeIcon && (\r\n                    <svg\r\n                      className=\"h-4 w-4\"\r\n                      fill=\"none\"\r\n                      stroke=\"currentColor\"\r\n                      viewBox=\"0 0 24 24\"\r\n                    >\r\n                      <path\r\n                        strokeLinecap=\"round\"\r\n                        strokeLinejoin=\"round\"\r\n                        strokeWidth={2}\r\n                        d=\"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6\"\r\n                      />\r\n                    </svg>\r\n                  )}\r\n                  <span className=\"truncate max-w-[150px]\">{item.name}</span>\r\n                </button>\r\n              )}\r\n            </li>\r\n          );\r\n        })}\r\n      </ol>\r\n    </nav>\r\n  );\r\n}\r\n\r\n/**\r\n * Utility function to build breadcrumb items from a folder path\r\n * @param folders - All folders for the user\r\n * @param currentFolderId - The current folder ID (null for root)\r\n * @returns Array of breadcrumb items from root to current folder\r\n */\r\nexport function buildBreadcrumbsFromPath(\r\n  folders: { id: string; name: string; parent_id: string | null }[],\r\n  currentFolderId: string | null\r\n): BreadcrumbItem[] {\r\n  const breadcrumbs: BreadcrumbItem[] = [{ id: null, name: 'Root' }];\r\n\r\n  if (!currentFolderId) {\r\n    return breadcrumbs;\r\n  }\r\n\r\n  // Build path from current folder to root\r\n  const path: { id: string; name: string; parent_id: string | null }[] = [];\r\n  let current = folders.find(f => f.id === currentFolderId);\r\n\r\n  while (current) {\r\n    path.unshift(current);\r\n    current = current.parent_id\r\n      ? folders.find(f => f.id === current!.parent_id)\r\n      : undefined;\r\n  }\r\n\r\n  // Add each folder in the path to breadcrumbs\r\n  for (const folder of path) {\r\n    breadcrumbs.push({ id: folder.id, name: folder.name });\r\n  }\r\n\r\n  return breadcrumbs;\r\n}\r\n"],"names":[],"mappings":"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"}