module.exports=[36313,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.HooksClientContext},18341,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.ServerInsertedHtml},35112,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactDOM},56704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},32319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},20635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},9270,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.AppRouterContext},38783,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactServerDOMTurbopackClient},81531,(a,b,c)=>{b.exports=a.x("@aws-sdk/client-s3-ecbef8e33fd0b8f0",()=>require("@aws-sdk/client-s3-ecbef8e33fd0b8f0"))},12171,a=>{"use strict";var b=a.i(87924),c=a.i(72131);function d({isOpen:a,title:d,message:e,confirmLabel:f="Confirm",cancelLabel:g="Cancel",variant:h="danger",onConfirm:i,onCancel:j}){let k=(0,c.useRef)(null),l=(0,c.useRef)(null),m=(0,c.useRef)(null);(0,c.useEffect)(()=>{a&&l.current?.focus()},[a]);let n=(0,c.useCallback)(b=>{if(a){if("Escape"===b.key)return void j();if("Tab"===b.key){let a=[l.current,m.current].filter(Boolean),c=a[0],d=a[a.length-1];b.shiftKey?document.activeElement===c&&(b.preventDefault(),d?.focus()):document.activeElement===d&&(b.preventDefault(),c?.focus())}}},[a,j]);return((0,c.useEffect)(()=>(document.addEventListener("keydown",n),()=>document.removeEventListener("keydown",n)),[n]),(0,c.useEffect)(()=>(a&&(document.body.style.overflow="hidden"),()=>{document.body.style.overflow=""}),[a]),a)?(0,b.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[(0,b.jsx)("div",{className:"absolute inset-0 bg-black/50",onClick:j,"aria-hidden":"true"}),(0,b.jsxs)("div",{ref:k,role:"alertdialog","aria-modal":"true","aria-labelledby":"dialog-title","aria-describedby":"dialog-description",tabIndex:-1,className:"relative z-10 w-full max-w-md rounded-lg bg-white p-4 sm:p-6 shadow-xl",children:[(0,b.jsx)("h2",{id:"dialog-title",className:"text-base sm:text-lg font-semibold text-gray-900",children:d}),(0,b.jsx)("p",{id:"dialog-description",className:"mt-2 text-sm text-gray-600",children:e}),(0,b.jsxs)("div",{className:"mt-4 sm:mt-6 flex flex-col-reverse sm:flex-row sm:justify-end gap-2 sm:gap-3",children:[(0,b.jsx)("button",{ref:l,type:"button",onClick:j,className:"w-full sm:w-auto rounded-lg border border-gray-300 px-4 py-2.5 sm:py-2 text-sm font-medium text-gray-700 hover:bg-gray-50 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-gray-500 focus-visible:ring-offset-2 active:scale-[0.98]",children:g}),(0,b.jsx)("button",{ref:m,type:"button",onClick:i,className:`w-full sm:w-auto rounded-lg px-4 py-2.5 sm:py-2 text-sm font-medium text-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 active:scale-[0.98] ${{danger:"bg-red-600 hover:bg-red-700 focus:ring-red-500",warning:"bg-yellow-600 hover:bg-yellow-700 focus:ring-yellow-500",info:"bg-blue-600 hover:bg-blue-700 focus:ring-blue-500"}[h]}`,children:f})]})]})]}):null}a.s(["ConfirmDialog",()=>d])},28948,a=>{"use strict";var b=a.i(87924),c=a.i(38246);function d({items:a,onItemClick:d,className:e="",showHomeIcon:f=!0}){return 0===a.length?null:(0,b.jsx)("nav",{className:`flex items-center ${e}`,"aria-label":"Breadcrumb",children:(0,b.jsx)("ol",{className:"flex items-center gap-1 text-sm",children:a.map((e,g)=>{let h=g===a.length-1,i=0===g;return(0,b.jsxs)("li",{className:"flex items-center",children:[!i&&(0,b.jsx)("svg",{className:"mx-1 h-4 w-4 flex-shrink-0 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})}),h?(0,b.jsxs)("span",{className:"flex items-center gap-1.5 font-medium text-gray-900","aria-current":"page",children:[i&&f&&(0,b.jsx)("svg",{className:"h-4 w-4 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),!i&&(0,b.jsx)("svg",{className:"h-4 w-4 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"})}),(0,b.jsx)("span",{className:"truncate max-w-[200px]",children:e.name})]}):e.href?(0,b.jsxs)(c.default,{href:e.href,className:"flex items-center gap-1.5 rounded px-2 py-1 text-gray-500 transition-colors hover:bg-gray-100 hover:text-gray-700",children:[i&&f&&(0,b.jsx)("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),(0,b.jsx)("span",{className:"truncate max-w-[150px]",children:e.name})]}):(0,b.jsxs)("button",{onClick:()=>d?.(e,g),className:"flex items-center gap-1.5 rounded px-2 py-1 text-gray-500 transition-colors hover:bg-gray-100 hover:text-gray-700",children:[i&&f&&(0,b.jsx)("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),(0,b.jsx)("span",{className:"truncate max-w-[150px]",children:e.name})]})]},e.id??"root")})})})}function e(a,b){let c=[{id:null,name:"Root"}];if(!b)return c;let d=[],e=a.find(a=>a.id===b);for(;e;)d.unshift(e),e=e.parent_id?a.find(a=>a.id===e.parent_id):void 0;for(let a of d)c.push({id:a.id,name:a.name});return c}a.s(["Breadcrumbs",()=>d,"buildBreadcrumbsFromPath",()=>e])},97948,a=>{"use strict";var b=a.i(72131);function c(a,c){let[d,e]=(0,b.useState)(a);return(0,b.useEffect)(()=>{let b=setTimeout(()=>{e(a)},c);return()=>{clearTimeout(b)}},[a,c]),d}a.s(["useDebounce",()=>c])},99648,11972,74423,a=>{"use strict";var b=a.i(87924),c=a.i(72131);function d({isOpen:a,parentFolderName:d,onClose:e,onCreate:f}){let[g,h]=(0,c.useState)(""),[i,j]=(0,c.useState)(null),[k,l]=(0,c.useState)(!1),m=(0,c.useRef)(null);(0,c.useEffect)(()=>{a&&(h(""),j(null),setTimeout(()=>m.current?.focus(),100))},[a]),(0,c.useEffect)(()=>{let b=b=>{"Escape"===b.key&&a&&e()};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[a,e]);let n=async a=>{a.preventDefault();let b=g.trim();if(!b)return void j("Folder name is required");if(b.includes("/")||b.includes("\\"))return void j("Folder name cannot contain slashes");l(!0),j(null);try{await f(b),e()}catch(a){j(a instanceof Error?a.message:"Failed to create folder")}finally{l(!1)}};return a?(0,b.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[(0,b.jsx)("div",{className:"absolute inset-0 bg-black/50",onClick:e,"aria-hidden":"true"}),(0,b.jsxs)("div",{role:"dialog","aria-modal":"true","aria-labelledby":"create-folder-title",className:"relative z-10 w-full max-w-md rounded-lg bg-white p-6 shadow-xl",children:[(0,b.jsx)("h2",{id:"create-folder-title",className:"text-lg font-semibold text-gray-900",children:"Create New Folder"}),d&&(0,b.jsxs)("p",{className:"mt-1 text-sm text-gray-500",children:["Creating in: ",d]}),(0,b.jsxs)("form",{onSubmit:n,className:"mt-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"folder-name",className:"block text-sm font-medium text-gray-700",children:"Folder Name"}),(0,b.jsx)("input",{ref:m,id:"folder-name",type:"text",value:g,onChange:a=>h(a.target.value),placeholder:"Enter folder name",className:"mt-1 block w-full rounded-lg border border-gray-300 px-3 py-2 text-gray-900 placeholder-gray-400 focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500",disabled:k}),i&&(0,b.jsx)("p",{className:"mt-1 text-sm text-red-600",children:i})]}),(0,b.jsxs)("div",{className:"mt-6 flex justify-end gap-3",children:[(0,b.jsx)("button",{type:"button",onClick:e,disabled:k,className:"rounded-lg border border-gray-300 px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 disabled:opacity-50",children:"Cancel"}),(0,b.jsx)("button",{type:"submit",disabled:k||!g.trim(),className:"rounded-lg bg-blue-600 px-4 py-2 text-sm font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50",children:k?"Creating...":"Create Folder"})]})]})]})]}):null}function e({isOpen:a,currentName:d,onClose:e,onRename:f}){let[g,h]=(0,c.useState)(d),[i,j]=(0,c.useState)(null),[k,l]=(0,c.useState)(!1),m=(0,c.useRef)(null);(0,c.useEffect)(()=>{a&&(h(d),j(null),setTimeout(()=>{m.current?.focus(),m.current?.select()},100))},[a,d]),(0,c.useEffect)(()=>{let b=b=>{"Escape"===b.key&&a&&e()};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[a,e]);let n=async a=>{a.preventDefault();let b=g.trim();if(!b)return void j("Folder name is required");if(b===d)return void e();if(b.includes("/")||b.includes("\\"))return void j("Folder name cannot contain slashes");l(!0),j(null);try{await f(b),e()}catch(a){j(a instanceof Error?a.message:"Failed to rename folder")}finally{l(!1)}};return a?(0,b.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[(0,b.jsx)("div",{className:"absolute inset-0 bg-black/50",onClick:e,"aria-hidden":"true"}),(0,b.jsxs)("div",{role:"dialog","aria-modal":"true","aria-labelledby":"rename-folder-title",className:"relative z-10 w-full max-w-md rounded-lg bg-white p-6 shadow-xl",children:[(0,b.jsx)("h2",{id:"rename-folder-title",className:"text-lg font-semibold text-gray-900",children:"Rename Folder"}),(0,b.jsxs)("form",{onSubmit:n,className:"mt-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"new-folder-name",className:"block text-sm font-medium text-gray-700",children:"New Name"}),(0,b.jsx)("input",{ref:m,id:"new-folder-name",type:"text",value:g,onChange:a=>h(a.target.value),placeholder:"Enter new folder name",className:"mt-1 block w-full rounded-lg border border-gray-300 px-3 py-2 text-gray-900 placeholder-gray-400 focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500",disabled:k}),i&&(0,b.jsx)("p",{className:"mt-1 text-sm text-red-600",children:i})]}),(0,b.jsxs)("div",{className:"mt-6 flex justify-end gap-3",children:[(0,b.jsx)("button",{type:"button",onClick:e,disabled:k,className:"rounded-lg border border-gray-300 px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 disabled:opacity-50",children:"Cancel"}),(0,b.jsx)("button",{type:"submit",disabled:k||!g.trim(),className:"rounded-lg bg-blue-600 px-4 py-2 text-sm font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50",children:k?"Renaming...":"Rename"})]})]})]})]}):null}function f({isOpen:a,folder:d,allFolders:e,onClose:f,onMove:g}){let[h,i]=(0,c.useState)(null),[j,k]=(0,c.useState)(null),[l,m]=(0,c.useState)(!1);(0,c.useEffect)(()=>{a&&d&&(i(d.parent_id),k(null))},[a,d]),(0,c.useEffect)(()=>{let b=b=>{"Escape"===b.key&&a&&f()};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[a,f]);let n=async a=>{if(a.preventDefault(),d){if(h===d.parent_id)return void f();m(!0),k(null);try{await g(h),f()}catch(a){k(a instanceof Error?a.message:"Failed to move folder")}finally{m(!1)}}};if(!a||!d)return null;let o=(()=>{if(!d)return[];let a=d.path;return e.filter(b=>!(b.id===d.id||b.path.startsWith(a+"/")))})();return(0,b.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[(0,b.jsx)("div",{className:"absolute inset-0 bg-black/50",onClick:f,"aria-hidden":"true"}),(0,b.jsxs)("div",{role:"dialog","aria-modal":"true","aria-labelledby":"move-folder-title",className:"relative z-10 w-full max-w-md rounded-lg bg-white p-6 shadow-xl",children:[(0,b.jsx)("h2",{id:"move-folder-title",className:"text-lg font-semibold text-gray-900",children:"Move Folder"}),(0,b.jsxs)("p",{className:"mt-1 text-sm text-gray-500",children:["Moving: ",(0,b.jsx)("span",{className:"font-medium",children:d.name})]}),(0,b.jsxs)("form",{onSubmit:n,className:"mt-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"destination-folder",className:"block text-sm font-medium text-gray-700",children:"Destination"}),(0,b.jsxs)("select",{id:"destination-folder",value:h||"",onChange:a=>i(a.target.value||null),className:"mt-1 block w-full rounded-lg border border-gray-300 px-3 py-2 text-gray-900 focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500",disabled:l,children:[(0,b.jsx)("option",{value:"",children:"Root (No parent)"}),o.map(a=>(0,b.jsx)("option",{value:a.id,children:a.path},a.id))]}),j&&(0,b.jsx)("p",{className:"mt-1 text-sm text-red-600",children:j})]}),(0,b.jsxs)("div",{className:"mt-6 flex justify-end gap-3",children:[(0,b.jsx)("button",{type:"button",onClick:f,disabled:l,className:"rounded-lg border border-gray-300 px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 disabled:opacity-50",children:"Cancel"}),(0,b.jsx)("button",{type:"submit",disabled:l,className:"rounded-lg bg-blue-600 px-4 py-2 text-sm font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50",children:l?"Moving...":"Move"})]})]})]})]})}a.s(["CreateFolderModal",()=>d],99648),a.s(["RenameFolderModal",()=>e],11972),a.s(["MoveFolderModal",()=>f],74423)},30560,a=>{a.v(a=>Promise.resolve().then(()=>a(9292)))}];

//# sourceMappingURL=%5Broot-of-the-server%5D__d4f83a66._.js.map