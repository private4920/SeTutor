{"version":3,"sources":["../../../../src/app/dashboard/learning-plans/page.tsx","../../../../src/components/learning-plan/LearningPlanConfigForm.tsx","../../../../src/components/learning-plan/LearningPlanOverview.tsx","../../../../src/components/learning-plan/LearningPlanTimeline.tsx","../../../../src/components/learning-plan/DailyBreakdownPanel.tsx","../../../../src/components/learning-plan/LearningPlanProgressTracking.tsx","../../../../src/components/learning-plan/mockLearningPlanGenerator.ts"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect, useState, useCallback } from \"react\";\r\nimport { ProtectedRoute } from \"@/lib/firebase/ProtectedRoute\";\r\nimport { useAuth } from \"@/lib/firebase/AuthContext\";\r\nimport { DashboardLayout } from \"@/components/dashboard\";\r\nimport { DocumentSelectionTree } from \"@/components/flashcards\";\r\nimport { \r\n  LearningPlanConfigForm, \r\n  LearningPlanConfig,\r\n  LearningPlanOverview,\r\n  LearningPlanTimeline,\r\n  DailyBreakdownPanel,\r\n  LearningPlanProgressTracking,\r\n  GeneratedLearningPlan,\r\n  DailyPlan,\r\n  generateMockLearningPlan,\r\n  generateRealistic2WeekPlan,\r\n} from \"@/components/learning-plan\";\r\nimport { useFolders } from \"@/lib/hooks/useFolders\";\r\nimport { useDocuments } from \"@/lib/hooks/useDocuments\";\r\n\r\ntype GeneratorState = 'selection' | 'generating' | 'results';\r\n\r\nfunction LearningPlanGeneratorContent() {\r\n  const { user } = useAuth();\r\n  const { folders, fetchFolders, loading: foldersLoading } = useFolders();\r\n  const { documents, fetchDocuments, loading: documentsLoading } = useDocuments();\r\n  const [selectedDocumentIds, setSelectedDocumentIds] = useState<Set<string>>(new Set());\r\n  const [generatorState, setGeneratorState] = useState<GeneratorState>('selection');\r\n  const [currentConfig, setCurrentConfig] = useState<LearningPlanConfig | null>(null);\r\n  const [generationProgress, setGenerationProgress] = useState(0);\r\n  const [generatedPlan, setGeneratedPlan] = useState<GeneratedLearningPlan | null>(null);\r\n  const [selectedDay, setSelectedDay] = useState<DailyPlan | null>(null);\r\n\r\n  // Fetch folders and documents on mount\r\n  useEffect(() => {\r\n    if (user?.uid) {\r\n      fetchFolders();\r\n      fetchDocuments();\r\n    }\r\n  }, [user?.uid, fetchFolders, fetchDocuments]);\r\n\r\n  const handleSelectionChange = useCallback((newSelection: Set<string>) => {\r\n    setSelectedDocumentIds(newSelection);\r\n  }, []);\r\n\r\n  const getDurationLabel = (config: LearningPlanConfig): string => {\r\n    switch (config.duration) {\r\n      case '1-week': return '1 week';\r\n      case '2-weeks': return '2 weeks';\r\n      case '1-month': return '1 month';\r\n      case 'custom': return `${config.customDays} days`;\r\n    }\r\n  };\r\n\r\n  const handleGenerate = useCallback(async (config: LearningPlanConfig) => {\r\n    setCurrentConfig(config);\r\n    setGeneratorState('generating');\r\n    setGenerationProgress(0);\r\n\r\n    // Simulate generation progress (mock implementation)\r\n    const progressInterval = setInterval(() => {\r\n      setGenerationProgress(prev => {\r\n        if (prev >= 100) {\r\n          clearInterval(progressInterval);\r\n          return 100;\r\n        }\r\n        return prev + 10;\r\n      });\r\n    }, 300);\r\n\r\n    // Simulate generation completion and create mock learning plan\r\n    setTimeout(() => {\r\n      clearInterval(progressInterval);\r\n      setGenerationProgress(100);\r\n      \r\n      // Generate the mock learning plan\r\n      const plan = generateMockLearningPlan(config, Array.from(selectedDocumentIds));\r\n      setGeneratedPlan(plan);\r\n      setGeneratorState('results');\r\n    }, 3500);\r\n  }, [selectedDocumentIds]);\r\n\r\n  const handleBackToSelection = useCallback(() => {\r\n    setGeneratorState('selection');\r\n    setCurrentConfig(null);\r\n    setGenerationProgress(0);\r\n    setGeneratedPlan(null);\r\n    setSelectedDay(null);\r\n  }, []);\r\n\r\n  const handleDayClick = useCallback((day: DailyPlan) => {\r\n    setSelectedDay(prevDay => prevDay?.id === day.id ? null : day);\r\n  }, []);\r\n\r\n  const handleTitleChange = useCallback((newTitle: string) => {\r\n    if (generatedPlan) {\r\n      setGeneratedPlan({\r\n        ...generatedPlan,\r\n        title: newTitle,\r\n        updatedAt: new Date().toISOString(),\r\n      });\r\n    }\r\n  }, [generatedPlan]);\r\n\r\n  const handleCompletionChange = useCallback((dayId: string, isCompleted: boolean) => {\r\n    if (generatedPlan) {\r\n      const updatedDailyPlans = generatedPlan.dailyPlans.map(day =>\r\n        day.id === dayId ? { ...day, isCompleted } : day\r\n      );\r\n      const completedDays = updatedDailyPlans.filter(d => d.isCompleted).length;\r\n      \r\n      setGeneratedPlan({\r\n        ...generatedPlan,\r\n        dailyPlans: updatedDailyPlans,\r\n        completedDays,\r\n        updatedAt: new Date().toISOString(),\r\n      });\r\n      \r\n      // Update selected day if it's the one being changed\r\n      if (selectedDay?.id === dayId) {\r\n        setSelectedDay({ ...selectedDay, isCompleted });\r\n      }\r\n    }\r\n  }, [generatedPlan, selectedDay]);\r\n\r\n  const handleNotesChange = useCallback((dayId: string, notes: string) => {\r\n    if (generatedPlan) {\r\n      const updatedDailyPlans = generatedPlan.dailyPlans.map(day =>\r\n        day.id === dayId ? { ...day, notes } : day\r\n      );\r\n      \r\n      setGeneratedPlan({\r\n        ...generatedPlan,\r\n        dailyPlans: updatedDailyPlans,\r\n        updatedAt: new Date().toISOString(),\r\n      });\r\n      \r\n      // Update selected day if it's the one being changed\r\n      if (selectedDay?.id === dayId) {\r\n        setSelectedDay({ ...selectedDay, notes });\r\n      }\r\n    }\r\n  }, [generatedPlan, selectedDay]);\r\n\r\n  const handlePlanUpdate = useCallback((updatedPlan: GeneratedLearningPlan) => {\r\n    setGeneratedPlan(updatedPlan);\r\n  }, []);\r\n\r\n  const handleSave = useCallback(() => {\r\n    // In a real app, this would save to the backend\r\n    alert('Learning plan saved successfully!');\r\n  }, []);\r\n\r\n  const handleShare = useCallback(() => {\r\n    // In a real app, this would generate a shareable link\r\n    if (navigator.share) {\r\n      navigator.share({\r\n        title: generatedPlan?.title || 'My Learning Plan',\r\n        text: 'Check out my learning plan!',\r\n        url: window.location.href,\r\n      }).catch(() => {\r\n        // User cancelled or share failed\r\n      });\r\n    } else {\r\n      navigator.clipboard.writeText(window.location.href);\r\n      alert('Link copied to clipboard!');\r\n    }\r\n  }, [generatedPlan?.title]);\r\n\r\n  const handleReset = useCallback(() => {\r\n    if (generatedPlan && confirm('Are you sure you want to reset all progress? This cannot be undone.')) {\r\n      const resetDailyPlans = generatedPlan.dailyPlans.map(day => ({\r\n        ...day,\r\n        isCompleted: false,\r\n        notes: '',\r\n      }));\r\n      \r\n      const resetMilestones = generatedPlan.milestones.map(m => ({\r\n        ...m,\r\n        isCompleted: false,\r\n      }));\r\n      \r\n      setGeneratedPlan({\r\n        ...generatedPlan,\r\n        dailyPlans: resetDailyPlans,\r\n        milestones: resetMilestones,\r\n        completedDays: 0,\r\n        currentStreak: 0,\r\n        updatedAt: new Date().toISOString(),\r\n      });\r\n      setSelectedDay(null);\r\n    }\r\n  }, [generatedPlan]);\r\n\r\n  const handleDuplicate = useCallback(() => {\r\n    if (generatedPlan) {\r\n      const duplicatedPlan: GeneratedLearningPlan = {\r\n        ...generatedPlan,\r\n        id: `plan-${Date.now()}`,\r\n        title: `${generatedPlan.title} (Copy)`,\r\n        dailyPlans: generatedPlan.dailyPlans.map(day => ({\r\n          ...day,\r\n          id: `day-copy-${day.dayNumber}`,\r\n          isCompleted: false,\r\n          notes: '',\r\n        })),\r\n        milestones: generatedPlan.milestones.map(m => ({\r\n          ...m,\r\n          id: `milestone-copy-${m.targetDay}`,\r\n          isCompleted: false,\r\n        })),\r\n        completedDays: 0,\r\n        currentStreak: 0,\r\n        createdAt: new Date().toISOString(),\r\n        updatedAt: new Date().toISOString(),\r\n      };\r\n      setGeneratedPlan(duplicatedPlan);\r\n      alert('Plan duplicated! You can now modify this copy.');\r\n    }\r\n  }, [generatedPlan]);\r\n\r\n  const handleExport = useCallback((format: 'google-calendar' | 'ical' | 'pdf') => {\r\n    if (!generatedPlan) return;\r\n\r\n    switch (format) {\r\n      case 'google-calendar': {\r\n        // Generate Google Calendar URL\r\n        const baseUrl = 'https://calendar.google.com/calendar/render?action=TEMPLATE';\r\n        const title = encodeURIComponent(generatedPlan.title);\r\n        const startDate = generatedPlan.startDate.replace(/-/g, '');\r\n        const endDate = generatedPlan.endDate.replace(/-/g, '');\r\n        const details = encodeURIComponent(`Learning plan with ${generatedPlan.totalDays} days of study.`);\r\n        const url = `${baseUrl}&text=${title}&dates=${startDate}/${endDate}&details=${details}`;\r\n        window.open(url, '_blank');\r\n        break;\r\n      }\r\n      case 'ical': {\r\n        // Generate iCal file content\r\n        const events = generatedPlan.dailyPlans\r\n          .filter(day => !day.isRestDay)\r\n          .map(day => {\r\n            const dateStr = day.date.replace(/-/g, '');\r\n            return `BEGIN:VEVENT\r\nDTSTART:${dateStr}\r\nDTEND:${dateStr}\r\nSUMMARY:Day ${day.dayNumber}: ${day.topics.join(', ')}\r\nDESCRIPTION:Topics: ${day.topics.join(', ')}\\\\nActivities: ${day.activities.join(', ')}\r\nEND:VEVENT`;\r\n          }).join('\\n');\r\n\r\n        const icalContent = `BEGIN:VCALENDAR\r\nVERSION:2.0\r\nPRODID:-//SeTutor//Learning Plan//EN\r\n${events}\r\nEND:VCALENDAR`;\r\n\r\n        const blob = new Blob([icalContent], { type: 'text/calendar' });\r\n        const url = URL.createObjectURL(blob);\r\n        const a = document.createElement('a');\r\n        a.href = url;\r\n        a.download = `${generatedPlan.title.replace(/[^a-z0-9]/gi, '_')}.ics`;\r\n        a.click();\r\n        URL.revokeObjectURL(url);\r\n        break;\r\n      }\r\n      case 'pdf': {\r\n        // For PDF, we'll use the browser's print functionality\r\n        window.print();\r\n        break;\r\n      }\r\n    }\r\n  }, [generatedPlan]);\r\n\r\n  // Demo: Load a realistic 2-week plan for demonstration\r\n  const handleLoadDemoPlan = useCallback(() => {\r\n    const demoPlan = generateRealistic2WeekPlan(\r\n      Array.from(selectedDocumentIds),\r\n      'Master Web Development Fundamentals'\r\n    );\r\n    setGeneratedPlan(demoPlan);\r\n    setGeneratorState('results');\r\n  }, [selectedDocumentIds]);\r\n\r\n  const isLoading = foldersLoading || documentsLoading;\r\n  const selectedCount = selectedDocumentIds.size;\r\n  const isGenerating = generatorState === 'generating';\r\n\r\n  // Render loading state during generation\r\n  if (generatorState === 'generating' && currentConfig) {\r\n    return (\r\n      <DashboardLayout>\r\n        <div className=\"mx-auto max-w-4xl space-y-6\">\r\n          {/* Page Header */}\r\n          <div>\r\n            <h1 className=\"text-2xl font-bold text-gray-900\">Generating Learning Plan</h1>\r\n            <p className=\"mt-1 text-sm text-gray-600\">\r\n              Please wait while we analyze your documents and create a personalized study schedule.\r\n            </p>\r\n          </div>\r\n\r\n          {/* Loading State */}\r\n          <div className=\"rounded-lg border border-gray-200 bg-white p-6 shadow-sm\">\r\n            <div className=\"flex flex-col items-center justify-center py-12\">\r\n              <div className=\"relative\">\r\n                <svg\r\n                  className=\"h-16 w-16 animate-spin text-blue-600\"\r\n                  fill=\"none\"\r\n                  viewBox=\"0 0 24 24\"\r\n                >\r\n                  <circle\r\n                    className=\"opacity-25\"\r\n                    cx=\"12\"\r\n                    cy=\"12\"\r\n                    r=\"10\"\r\n                    stroke=\"currentColor\"\r\n                    strokeWidth=\"4\"\r\n                  />\r\n                  <path\r\n                    className=\"opacity-75\"\r\n                    fill=\"currentColor\"\r\n                    d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"\r\n                  />\r\n                </svg>\r\n              </div>\r\n              <p className=\"mt-4 text-lg font-medium text-gray-900\">\r\n                Creating your {getDurationLabel(currentConfig)} learning plan...\r\n              </p>\r\n              <p className=\"mt-2 text-sm text-gray-500\">\r\n                Analyzing {selectedCount} document{selectedCount !== 1 ? 's' : ''}\r\n              </p>\r\n              \r\n              {/* Progress bar */}\r\n              <div className=\"mt-4 w-full max-w-xs\">\r\n                <div className=\"h-2 w-full rounded-full bg-gray-200\">\r\n                  <div\r\n                    className=\"h-2 rounded-full bg-gradient-to-r from-blue-500 to-purple-500 transition-all duration-300\"\r\n                    style={{ width: `${generationProgress}%` }}\r\n                  />\r\n                </div>\r\n                <p className=\"mt-1 text-center text-xs text-gray-500\">\r\n                  {Math.round(generationProgress)}% complete\r\n                </p>\r\n              </div>\r\n              \r\n              {/* Config summary */}\r\n              <div className=\"mt-4 flex flex-wrap justify-center gap-2\">\r\n                <span className=\"rounded-full bg-blue-100 px-3 py-1 text-xs font-medium text-blue-700\">\r\n                  {getDurationLabel(currentConfig)}\r\n                </span>\r\n                <span className=\"rounded-full bg-purple-100 px-3 py-1 text-xs font-medium text-purple-700 capitalize\">\r\n                  {currentConfig.intensity} intensity\r\n                </span>\r\n                <span className=\"rounded-full bg-green-100 px-3 py-1 text-xs font-medium text-green-700\">\r\n                  {currentConfig.hoursPerDay} hr{currentConfig.hoursPerDay !== 1 ? 's' : ''}/day\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </DashboardLayout>\r\n    );\r\n  }\r\n\r\n  // Render results state with LearningPlanOverview and Timeline\r\n  if (generatorState === 'results' && generatedPlan) {\r\n    return (\r\n      <DashboardLayout>\r\n        <div className=\"mx-auto max-w-4xl space-y-6 print:space-y-4\">\r\n          <LearningPlanOverview\r\n            plan={generatedPlan}\r\n            onTitleChange={handleTitleChange}\r\n            onBack={handleBackToSelection}\r\n          />\r\n          \r\n          {/* Progress Tracking Section */}\r\n          <LearningPlanProgressTracking\r\n            plan={generatedPlan}\r\n            onPlanUpdate={handlePlanUpdate}\r\n            onSave={handleSave}\r\n            onShare={handleShare}\r\n            onReset={handleReset}\r\n            onDuplicate={handleDuplicate}\r\n            onExport={handleExport}\r\n          />\r\n          \r\n          {/* Timeline Section */}\r\n          <LearningPlanTimeline\r\n            dailyPlans={generatedPlan.dailyPlans}\r\n            milestones={generatedPlan.milestones}\r\n            startDate={generatedPlan.startDate}\r\n            onDayClick={handleDayClick}\r\n            selectedDayId={selectedDay?.id}\r\n          />\r\n          \r\n          {/* Daily Breakdown Panel */}\r\n          {selectedDay && (\r\n            <DailyBreakdownPanel\r\n              day={selectedDay}\r\n              onClose={() => setSelectedDay(null)}\r\n              onCompletionChange={handleCompletionChange}\r\n              onNotesChange={handleNotesChange}\r\n            />\r\n          )}\r\n        </div>\r\n      </DashboardLayout>\r\n    );\r\n  }\r\n\r\n  // Default: Selection state\r\n  return (\r\n    <DashboardLayout>\r\n      <div className=\"mx-auto max-w-4xl space-y-6\">\r\n        {/* Page Header */}\r\n        <div>\r\n          <h1 className=\"text-2xl font-bold text-gray-900\">Generate Learning Plan</h1>\r\n          <p className=\"mt-1 text-sm text-gray-600\">\r\n            Create a personalized study schedule based on your documents and learning goals.\r\n          </p>\r\n        </div>\r\n\r\n        {/* Source Selection Section */}\r\n        <div className=\"rounded-lg border border-gray-200 bg-white p-6 shadow-sm\">\r\n          <div className=\"mb-4\">\r\n            <h2 className=\"text-lg font-semibold text-gray-900\">Select Source Documents</h2>\r\n            <p className=\"mt-1 text-sm text-gray-500\">\r\n              Choose the PDF documents you want to include in your learning plan.\r\n            </p>\r\n          </div>\r\n\r\n          {isLoading ? (\r\n            <div className=\"flex items-center justify-center py-12\">\r\n              <div className=\"flex flex-col items-center gap-3\">\r\n                <svg\r\n                  className=\"h-8 w-8 animate-spin text-blue-600\"\r\n                  fill=\"none\"\r\n                  viewBox=\"0 0 24 24\"\r\n                >\r\n                  <circle\r\n                    className=\"opacity-25\"\r\n                    cx=\"12\"\r\n                    cy=\"12\"\r\n                    r=\"10\"\r\n                    stroke=\"currentColor\"\r\n                    strokeWidth=\"4\"\r\n                  />\r\n                  <path\r\n                    className=\"opacity-75\"\r\n                    fill=\"currentColor\"\r\n                    d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"\r\n                  />\r\n                </svg>\r\n                <span className=\"text-sm text-gray-500\">Loading documents...</span>\r\n              </div>\r\n            </div>\r\n          ) : (\r\n            <DocumentSelectionTree\r\n              folders={folders}\r\n              documents={documents}\r\n              selectedDocumentIds={selectedDocumentIds}\r\n              onSelectionChange={handleSelectionChange}\r\n            />\r\n          )}\r\n        </div>\r\n\r\n        {/* Selection Summary */}\r\n        {selectedCount > 0 && (\r\n          <div className=\"rounded-lg border border-blue-200 bg-blue-50 p-4\">\r\n            <div className=\"flex items-center gap-3\">\r\n              <div className=\"flex h-10 w-10 items-center justify-center rounded-full bg-blue-100\">\r\n                <svg\r\n                  className=\"h-5 w-5 text-blue-600\"\r\n                  fill=\"none\"\r\n                  stroke=\"currentColor\"\r\n                  viewBox=\"0 0 24 24\"\r\n                >\r\n                  <path\r\n                    strokeLinecap=\"round\"\r\n                    strokeLinejoin=\"round\"\r\n                    strokeWidth={2}\r\n                    d=\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\"\r\n                  />\r\n                </svg>\r\n              </div>\r\n              <div>\r\n                <p className=\"font-medium text-blue-900\">\r\n                  {selectedCount} document{selectedCount !== 1 ? 's' : ''} selected\r\n                </p>\r\n                <p className=\"text-sm text-blue-700\">\r\n                  Ready to configure your learning plan.\r\n                </p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* Configuration Section */}\r\n        <div className=\"rounded-lg border border-gray-200 bg-white p-6 shadow-sm\">\r\n          <div className=\"mb-4\">\r\n            <h2 className=\"text-lg font-semibold text-gray-900\">Configuration Options</h2>\r\n            <p className=\"mt-1 text-sm text-gray-500\">\r\n              Customize your learning plan settings.\r\n            </p>\r\n          </div>\r\n          <LearningPlanConfigForm\r\n            selectedDocumentCount={selectedCount}\r\n            onGenerate={handleGenerate}\r\n            isGenerating={isGenerating}\r\n          />\r\n        </div>\r\n\r\n        {/* Demo Plan Button */}\r\n        <div className=\"rounded-lg border border-dashed border-purple-300 bg-purple-50 p-6\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div>\r\n              <h3 className=\"text-sm font-semibold text-purple-900\">Try a Demo Plan</h3>\r\n              <p className=\"mt-1 text-sm text-purple-700\">\r\n                Load a realistic 2-week learning plan to explore all features.\r\n              </p>\r\n            </div>\r\n            <button\r\n              onClick={handleLoadDemoPlan}\r\n              className=\"rounded-lg bg-purple-600 px-4 py-2 text-sm font-medium text-white hover:bg-purple-700 transition-colors\"\r\n            >\r\n              Load Demo Plan\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </DashboardLayout>\r\n  );\r\n}\r\n\r\nexport default function LearningPlanGeneratorPage() {\r\n  return (\r\n    <ProtectedRoute redirectTo=\"/\">\r\n      <LearningPlanGeneratorContent />\r\n    </ProtectedRoute>\r\n  );\r\n}\r\n","\"use client\";\r\n\r\nimport { useState } from 'react';\r\n\r\nexport type StudyDuration = '1-week' | '2-weeks' | '1-month' | 'custom';\r\nexport type StudyIntensity = 'light' | 'moderate' | 'intensive';\r\n\r\nexport interface LearningPlanConfig {\r\n  duration: StudyDuration;\r\n  customDays?: number;\r\n  intensity: StudyIntensity;\r\n  learningGoals: string;\r\n  hoursPerDay: number;\r\n  startDate: string;\r\n}\r\n\r\nexport interface LearningPlanConfigFormProps {\r\n  selectedDocumentCount: number;\r\n  onGenerate: (config: LearningPlanConfig) => void;\r\n  isGenerating?: boolean;\r\n}\r\n\r\nexport function LearningPlanConfigForm({\r\n  selectedDocumentCount,\r\n  onGenerate,\r\n  isGenerating = false,\r\n}: LearningPlanConfigFormProps) {\r\n  const [duration, setDuration] = useState<StudyDuration>('2-weeks');\r\n  const [customDays, setCustomDays] = useState(21);\r\n  const [intensity, setIntensity] = useState<StudyIntensity>('moderate');\r\n  const [learningGoals, setLearningGoals] = useState('');\r\n  const [hoursPerDay, setHoursPerDay] = useState(2);\r\n  const [startDate, setStartDate] = useState<string>(() => {\r\n    const today = new Date();\r\n    return today.toISOString().split('T')[0] ?? '';\r\n  });\r\n\r\n  const canGenerate = selectedDocumentCount > 0 && !isGenerating;\r\n\r\n  const handleSubmit = (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    if (canGenerate) {\r\n      onGenerate({\r\n        duration,\r\n        customDays: duration === 'custom' ? customDays : undefined,\r\n        intensity,\r\n        learningGoals,\r\n        hoursPerDay,\r\n        startDate,\r\n      });\r\n    }\r\n  };\r\n\r\n  const getDurationDays = (): number => {\r\n    switch (duration) {\r\n      case '1-week': return 7;\r\n      case '2-weeks': return 14;\r\n      case '1-month': return 30;\r\n      case 'custom': return customDays;\r\n    }\r\n  };\r\n\r\n  const getTotalHours = (): number => {\r\n    return getDurationDays() * hoursPerDay;\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit} className=\"space-y-6\">\r\n      {/* Study Duration Selector */}\r\n      <div>\r\n        <label className=\"block text-sm font-medium text-gray-700\">\r\n          Study Duration\r\n        </label>\r\n        <div className=\"mt-3 grid grid-cols-2 gap-3 sm:grid-cols-4\">\r\n          {([\r\n            { value: '1-week', label: '1 Week', days: 7 },\r\n            { value: '2-weeks', label: '2 Weeks', days: 14 },\r\n            { value: '1-month', label: '1 Month', days: 30 },\r\n            { value: 'custom', label: 'Custom', days: null },\r\n          ] as const).map((option) => (\r\n            <button\r\n              key={option.value}\r\n              type=\"button\"\r\n              onClick={() => setDuration(option.value)}\r\n              disabled={isGenerating}\r\n              className={`rounded-lg border-2 px-4 py-3 text-sm font-medium transition-all ${\r\n                duration === option.value\r\n                  ? 'border-blue-500 bg-blue-50 text-blue-700'\r\n                  : 'border-gray-200 bg-white text-gray-600 hover:border-gray-300 hover:bg-gray-50'\r\n              } ${isGenerating ? 'cursor-not-allowed opacity-50' : ''}`}\r\n            >\r\n              <div className=\"flex flex-col items-center gap-1\">\r\n                <span>{option.label}</span>\r\n                {option.days && (\r\n                  <span className=\"text-xs text-gray-400\">{option.days} days</span>\r\n                )}\r\n              </div>\r\n            </button>\r\n          ))}\r\n        </div>\r\n\r\n        {/* Custom Duration Slider */}\r\n        {duration === 'custom' && (\r\n          <div className=\"mt-3\">\r\n            <div className=\"flex items-center gap-4\">\r\n              <input\r\n                type=\"range\"\r\n                id=\"customDays\"\r\n                min={3}\r\n                max={90}\r\n                step={1}\r\n                value={customDays}\r\n                onChange={(e) => setCustomDays(Number(e.target.value))}\r\n                className=\"h-2 w-full cursor-pointer appearance-none rounded-lg bg-gray-200 accent-blue-600\"\r\n                disabled={isGenerating}\r\n              />\r\n              <span className=\"w-20 text-center text-sm font-semibold text-gray-900\">\r\n                {customDays} days\r\n              </span>\r\n            </div>\r\n            <div className=\"mt-1 flex justify-between text-xs text-gray-500\">\r\n              <span>3 days</span>\r\n              <span>90 days</span>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Study Intensity Radio Buttons */}\r\n      <div>\r\n        <label className=\"block text-sm font-medium text-gray-700\">\r\n          Study Intensity\r\n        </label>\r\n        <div className=\"mt-3 space-y-3\">\r\n          {([\r\n            { \r\n              value: 'light', \r\n              label: 'Light', \r\n              description: 'Relaxed pace with more review time',\r\n              icon: (\r\n                <svg className=\"h-5 w-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z\" />\r\n                </svg>\r\n              ),\r\n              color: 'green'\r\n            },\r\n            { \r\n              value: 'moderate', \r\n              label: 'Moderate', \r\n              description: 'Balanced learning with steady progress',\r\n              icon: (\r\n                <svg className=\"h-5 w-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z\" />\r\n                </svg>\r\n              ),\r\n              color: 'yellow'\r\n            },\r\n            { \r\n              value: 'intensive', \r\n              label: 'Intensive', \r\n              description: 'Fast-paced with comprehensive coverage',\r\n              icon: (\r\n                <svg className=\"h-5 w-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M13 10V3L4 14h7v7l9-11h-7z\" />\r\n                </svg>\r\n              ),\r\n              color: 'red'\r\n            },\r\n          ] as const).map((option) => (\r\n            <label\r\n              key={option.value}\r\n              className={`flex cursor-pointer items-start gap-3 rounded-lg border-2 p-4 transition-all ${\r\n                intensity === option.value\r\n                  ? option.color === 'green'\r\n                    ? 'border-green-500 bg-green-50'\r\n                    : option.color === 'yellow'\r\n                    ? 'border-yellow-500 bg-yellow-50'\r\n                    : 'border-red-500 bg-red-50'\r\n                  : 'border-gray-200 hover:border-gray-300 hover:bg-gray-50'\r\n              } ${isGenerating ? 'cursor-not-allowed opacity-50' : ''}`}\r\n            >\r\n              <input\r\n                type=\"radio\"\r\n                name=\"intensity\"\r\n                value={option.value}\r\n                checked={intensity === option.value}\r\n                onChange={() => setIntensity(option.value)}\r\n                disabled={isGenerating}\r\n                className=\"mt-1 h-4 w-4 border-gray-300 text-blue-600 focus:ring-blue-500\"\r\n              />\r\n              <div className=\"flex items-start gap-3\">\r\n                <div className={`${\r\n                  option.color === 'green' ? 'text-green-600' :\r\n                  option.color === 'yellow' ? 'text-yellow-600' : 'text-red-600'\r\n                }`}>\r\n                  {option.icon}\r\n                </div>\r\n                <div>\r\n                  <span className=\"block font-medium text-gray-900\">{option.label}</span>\r\n                  <span className=\"block text-sm text-gray-500\">{option.description}</span>\r\n                </div>\r\n              </div>\r\n            </label>\r\n          ))}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Learning Goals Text Area */}\r\n      <div>\r\n        <label htmlFor=\"learningGoals\" className=\"block text-sm font-medium text-gray-700\">\r\n          Learning Goals <span className=\"text-gray-400\">(optional)</span>\r\n        </label>\r\n        <div className=\"mt-2\">\r\n          <textarea\r\n            id=\"learningGoals\"\r\n            value={learningGoals}\r\n            onChange={(e) => setLearningGoals(e.target.value)}\r\n            placeholder=\"e.g., Master the fundamentals of machine learning, Prepare for certification exam, Understand key concepts for project...\"\r\n            disabled={isGenerating}\r\n            rows={3}\r\n            className=\"block w-full rounded-lg border border-gray-300 px-4 py-2.5 text-sm text-gray-900 placeholder-gray-400 focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500 disabled:cursor-not-allowed disabled:bg-gray-50 disabled:opacity-50\"\r\n          />\r\n        </div>\r\n        <p className=\"mt-1 text-xs text-gray-500\">\r\n          Describe what you want to achieve with this learning plan\r\n        </p>\r\n      </div>\r\n\r\n      {/* Study Time Per Day Slider */}\r\n      <div>\r\n        <label htmlFor=\"hoursPerDay\" className=\"block text-sm font-medium text-gray-700\">\r\n          Study Time Per Day\r\n        </label>\r\n        <div className=\"mt-2\">\r\n          <div className=\"flex items-center gap-4\">\r\n            <input\r\n              type=\"range\"\r\n              id=\"hoursPerDay\"\r\n              min={0.5}\r\n              max={8}\r\n              step={0.5}\r\n              value={hoursPerDay}\r\n              onChange={(e) => setHoursPerDay(Number(e.target.value))}\r\n              className=\"h-2 w-full cursor-pointer appearance-none rounded-lg bg-gray-200 accent-blue-600\"\r\n              disabled={isGenerating}\r\n            />\r\n            <span className=\"w-20 text-center text-sm font-semibold text-gray-900\">\r\n              {hoursPerDay} hr{hoursPerDay !== 1 ? 's' : ''}\r\n            </span>\r\n          </div>\r\n          <div className=\"mt-1 flex justify-between text-xs text-gray-500\">\r\n            <span>0.5 hr</span>\r\n            <span>8 hrs</span>\r\n          </div>\r\n        </div>\r\n        <p className=\"mt-1 text-xs text-gray-500\">\r\n          Total study time: approximately {getTotalHours()} hours over {getDurationDays()} days\r\n        </p>\r\n      </div>\r\n\r\n      {/* Start Date Picker */}\r\n      <div>\r\n        <label htmlFor=\"startDate\" className=\"block text-sm font-medium text-gray-700\">\r\n          Start Date\r\n        </label>\r\n        <div className=\"mt-2\">\r\n          <input\r\n            type=\"date\"\r\n            id=\"startDate\"\r\n            value={startDate}\r\n            onChange={(e) => setStartDate(e.target.value)}\r\n            disabled={isGenerating}\r\n            className=\"block w-full rounded-lg border border-gray-300 px-4 py-2.5 text-sm text-gray-900 focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500 disabled:cursor-not-allowed disabled:bg-gray-50 disabled:opacity-50\"\r\n          />\r\n        </div>\r\n        <p className=\"mt-1 text-xs text-gray-500\">\r\n          When do you want to start your learning plan?\r\n        </p>\r\n      </div>\r\n\r\n      {/* Generate Button */}\r\n      <div className=\"pt-2\">\r\n        <button\r\n          type=\"submit\"\r\n          disabled={!canGenerate}\r\n          className={`flex w-full items-center justify-center gap-2 rounded-lg px-6 py-3 text-sm font-semibold transition-all ${\r\n            canGenerate\r\n              ? 'bg-gradient-to-r from-blue-600 to-purple-600 text-white shadow-md hover:from-blue-700 hover:to-purple-700 hover:shadow-lg'\r\n              : 'cursor-not-allowed bg-gray-200 text-gray-400'\r\n          }`}\r\n        >\r\n          {isGenerating ? (\r\n            <>\r\n              <svg className=\"h-5 w-5 animate-spin\" fill=\"none\" viewBox=\"0 0 24 24\">\r\n                <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\" />\r\n                <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\" />\r\n              </svg>\r\n              <span>Generating...</span>\r\n            </>\r\n          ) : (\r\n            <>\r\n              <svg className=\"h-5 w-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z\" />\r\n              </svg>\r\n              <span>Generate Learning Plan</span>\r\n            </>\r\n          )}\r\n        </button>\r\n        {selectedDocumentCount === 0 && (\r\n          <p className=\"mt-2 text-center text-xs text-amber-600\">\r\n            Please select at least one document to generate a learning plan\r\n          </p>\r\n        )}\r\n      </div>\r\n    </form>\r\n  );\r\n}\r\n","\"use client\";\r\n\r\nimport { useState, useCallback } from 'react';\r\nimport { GeneratedLearningPlan, Milestone } from './mockLearningPlanGenerator';\r\n\r\nexport interface LearningPlanOverviewProps {\r\n  plan: GeneratedLearningPlan;\r\n  onTitleChange?: (newTitle: string) => void;\r\n  onBack?: () => void;\r\n}\r\n\r\nfunction MilestoneItem({ \r\n  milestone, \r\n  isLast,\r\n  currentDay,\r\n}: { \r\n  milestone: Milestone; \r\n  isLast: boolean;\r\n  currentDay: number;\r\n}) {\r\n  const isPast = currentDay >= milestone.targetDay;\r\n  const isCurrent = !isPast && currentDay >= milestone.targetDay - 3;\r\n  \r\n  return (\r\n    <div className=\"flex gap-4\">\r\n      {/* Timeline connector */}\r\n      <div className=\"flex flex-col items-center\">\r\n        <div className={`flex h-8 w-8 items-center justify-center rounded-full border-2 ${\r\n          milestone.isCompleted\r\n            ? 'border-green-500 bg-green-500 text-white'\r\n            : isCurrent\r\n            ? 'border-blue-500 bg-blue-50 text-blue-600'\r\n            : isPast\r\n            ? 'border-amber-500 bg-amber-50 text-amber-600'\r\n            : 'border-gray-300 bg-white text-gray-400'\r\n        }`}>\r\n          {milestone.isCompleted ? (\r\n            <svg className=\"h-4 w-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\r\n              <path fillRule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clipRule=\"evenodd\" />\r\n            </svg>\r\n          ) : (\r\n            <svg className=\"h-4 w-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5 13l4 4L19 7\" />\r\n            </svg>\r\n          )}\r\n        </div>\r\n        {!isLast && (\r\n          <div className={`w-0.5 flex-1 ${\r\n            milestone.isCompleted ? 'bg-green-300' : 'bg-gray-200'\r\n          }`} />\r\n        )}\r\n      </div>\r\n      \r\n      {/* Milestone content */}\r\n      <div className={`flex-1 pb-6 ${isLast ? 'pb-0' : ''}`}>\r\n        <div className=\"flex items-start justify-between gap-2\">\r\n          <div>\r\n            <h4 className={`font-medium ${\r\n              milestone.isCompleted\r\n                ? 'text-green-700'\r\n                : isCurrent\r\n                ? 'text-blue-700'\r\n                : 'text-gray-900'\r\n            }`}>\r\n              {milestone.title}\r\n            </h4>\r\n            <p className=\"mt-0.5 text-sm text-gray-500\">{milestone.description}</p>\r\n          </div>\r\n          <span className={`flex-shrink-0 rounded-full px-2 py-1 text-xs font-medium ${\r\n            milestone.isCompleted\r\n              ? 'bg-green-100 text-green-700'\r\n              : isCurrent\r\n              ? 'bg-blue-100 text-blue-700'\r\n              : 'bg-gray-100 text-gray-600'\r\n          }`}>\r\n            Day {milestone.targetDay}\r\n          </span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport function LearningPlanOverview({\r\n  plan,\r\n  onTitleChange,\r\n  onBack,\r\n}: LearningPlanOverviewProps) {\r\n  const [isEditingTitle, setIsEditingTitle] = useState(false);\r\n  const [editedTitle, setEditedTitle] = useState(plan.title);\r\n\r\n  const handleTitleSave = useCallback(() => {\r\n    if (editedTitle.trim() && editedTitle !== plan.title) {\r\n      onTitleChange?.(editedTitle.trim());\r\n    }\r\n    setIsEditingTitle(false);\r\n  }, [editedTitle, plan.title, onTitleChange]);\r\n\r\n  const handleTitleCancel = useCallback(() => {\r\n    setEditedTitle(plan.title);\r\n    setIsEditingTitle(false);\r\n  }, [plan.title]);\r\n\r\n  const handleKeyDown = useCallback((e: React.KeyboardEvent) => {\r\n    if (e.key === 'Enter') {\r\n      handleTitleSave();\r\n    } else if (e.key === 'Escape') {\r\n      handleTitleCancel();\r\n    }\r\n  }, [handleTitleSave, handleTitleCancel]);\r\n\r\n  // Format dates for display\r\n  const formatDate = (dateStr: string): string => {\r\n    const date = new Date(dateStr);\r\n    return date.toLocaleDateString('en-US', {\r\n      weekday: 'short',\r\n      month: 'short',\r\n      day: 'numeric',\r\n      year: 'numeric',\r\n    });\r\n  };\r\n\r\n  // Calculate current day (for demo, assume day 1)\r\n  const currentDay = plan.completedDays + 1;\r\n\r\n  // Calculate progress percentage\r\n  const progressPercentage = Math.round((plan.completedDays / plan.totalDays) * 100);\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Header with Back Button */}\r\n      <div className=\"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between\">\r\n        <div className=\"flex items-center gap-3\">\r\n          {onBack && (\r\n            <button\r\n              onClick={onBack}\r\n              className=\"flex items-center gap-1 rounded-lg p-2 text-gray-600 hover:bg-gray-100 hover:text-gray-900 transition-colors\"\r\n              aria-label=\"Go back\"\r\n            >\r\n              <svg className=\"h-5 w-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M10 19l-7-7m0 0l7-7m-7 7h18\" />\r\n              </svg>\r\n            </button>\r\n          )}\r\n          <div>\r\n            <p className=\"text-sm text-gray-500\">Learning Plan</p>\r\n            <h1 className=\"text-2xl font-bold text-gray-900\">Plan Overview</h1>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Plan Title Card */}\r\n      <div className=\"rounded-lg border border-gray-200 bg-white p-6 shadow-sm\">\r\n        <div className=\"flex items-start justify-between gap-4\">\r\n          <div className=\"flex-1\">\r\n            {isEditingTitle ? (\r\n              <div className=\"flex items-center gap-2\">\r\n                <input\r\n                  type=\"text\"\r\n                  value={editedTitle}\r\n                  onChange={(e) => setEditedTitle(e.target.value)}\r\n                  onKeyDown={handleKeyDown}\r\n                  autoFocus\r\n                  className=\"flex-1 rounded-lg border border-blue-300 px-3 py-2 text-xl font-semibold text-gray-900 focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200\"\r\n                  placeholder=\"Enter plan title...\"\r\n                />\r\n                <button\r\n                  onClick={handleTitleSave}\r\n                  className=\"rounded-lg bg-blue-600 p-2 text-white hover:bg-blue-700 transition-colors\"\r\n                  aria-label=\"Save title\"\r\n                >\r\n                  <svg className=\"h-5 w-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5 13l4 4L19 7\" />\r\n                  </svg>\r\n                </button>\r\n                <button\r\n                  onClick={handleTitleCancel}\r\n                  className=\"rounded-lg border border-gray-300 bg-white p-2 text-gray-600 hover:bg-gray-50 transition-colors\"\r\n                  aria-label=\"Cancel editing\"\r\n                >\r\n                  <svg className=\"h-5 w-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\r\n                  </svg>\r\n                </button>\r\n              </div>\r\n            ) : (\r\n              <div className=\"group flex items-center gap-2\">\r\n                <h2 className=\"text-xl font-semibold text-gray-900\">{plan.title}</h2>\r\n                <button\r\n                  onClick={() => setIsEditingTitle(true)}\r\n                  className=\"rounded p-1 text-gray-400 opacity-0 group-hover:opacity-100 hover:bg-gray-100 hover:text-gray-600 transition-all\"\r\n                  aria-label=\"Edit title\"\r\n                >\r\n                  <svg className=\"h-4 w-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z\" />\r\n                  </svg>\r\n                </button>\r\n              </div>\r\n            )}\r\n            <p className=\"mt-1 text-sm text-gray-500\">\r\n              Created on {formatDate(plan.createdAt)}\r\n            </p>\r\n          </div>\r\n          \r\n          {/* Intensity Badge */}\r\n          <span className={`rounded-full px-3 py-1 text-sm font-medium capitalize ${\r\n            plan.config.intensity === 'light'\r\n              ? 'bg-green-100 text-green-700'\r\n              : plan.config.intensity === 'moderate'\r\n              ? 'bg-yellow-100 text-yellow-700'\r\n              : 'bg-red-100 text-red-700'\r\n          }`}>\r\n            {plan.config.intensity} Intensity\r\n          </span>\r\n        </div>\r\n\r\n        {/* Learning Goals */}\r\n        {plan.config.learningGoals && (\r\n          <div className=\"mt-4 rounded-lg bg-blue-50 p-4\">\r\n            <div className=\"flex items-start gap-2\">\r\n              <svg className=\"mt-0.5 h-5 w-5 flex-shrink-0 text-blue-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z\" />\r\n              </svg>\r\n              <div>\r\n                <p className=\"text-xs font-medium text-blue-700 uppercase tracking-wide\">Learning Goals</p>\r\n                <p className=\"mt-1 text-sm text-blue-900\">{plan.config.learningGoals}</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Duration Summary Stats */}\r\n      <div className=\"grid grid-cols-2 gap-4 sm:grid-cols-4\">\r\n        <div className=\"rounded-lg border border-gray-200 bg-white p-4 shadow-sm\">\r\n          <div className=\"flex items-center gap-3\">\r\n            <div className=\"flex h-10 w-10 items-center justify-center rounded-full bg-blue-100\">\r\n              <svg className=\"h-5 w-5 text-blue-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z\" />\r\n              </svg>\r\n            </div>\r\n            <div>\r\n              <p className=\"text-2xl font-bold text-gray-900\">{plan.totalDays}</p>\r\n              <p className=\"text-xs text-gray-500\">Total Days</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"rounded-lg border border-gray-200 bg-white p-4 shadow-sm\">\r\n          <div className=\"flex items-center gap-3\">\r\n            <div className=\"flex h-10 w-10 items-center justify-center rounded-full bg-purple-100\">\r\n              <svg className=\"h-5 w-5 text-purple-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\" />\r\n              </svg>\r\n            </div>\r\n            <div>\r\n              <p className=\"text-2xl font-bold text-gray-900\">{plan.totalStudyHours}</p>\r\n              <p className=\"text-xs text-gray-500\">Study Hours</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"rounded-lg border border-gray-200 bg-white p-4 shadow-sm\">\r\n          <div className=\"flex items-center gap-3\">\r\n            <div className=\"flex h-10 w-10 items-center justify-center rounded-full bg-green-100\">\r\n              <svg className=\"h-5 w-5 text-green-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\" />\r\n              </svg>\r\n            </div>\r\n            <div>\r\n              <p className=\"text-2xl font-bold text-gray-900\">{plan.studyDaysCount}</p>\r\n              <p className=\"text-xs text-gray-500\">Study Days</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"rounded-lg border border-gray-200 bg-white p-4 shadow-sm\">\r\n          <div className=\"flex items-center gap-3\">\r\n            <div className=\"flex h-10 w-10 items-center justify-center rounded-full bg-amber-100\">\r\n              <svg className=\"h-5 w-5 text-amber-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z\" />\r\n              </svg>\r\n            </div>\r\n            <div>\r\n              <p className=\"text-2xl font-bold text-gray-900\">{plan.restDaysCount}</p>\r\n              <p className=\"text-xs text-gray-500\">Rest Days</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Date Range and Completion */}\r\n      <div className=\"rounded-lg border border-gray-200 bg-white p-6 shadow-sm\">\r\n        <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Schedule</h3>\r\n        \r\n        <div className=\"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between\">\r\n          <div className=\"flex items-center gap-6\">\r\n            <div>\r\n              <p className=\"text-xs font-medium text-gray-500 uppercase tracking-wide\">Start Date</p>\r\n              <p className=\"mt-1 text-sm font-medium text-gray-900\">{formatDate(plan.startDate)}</p>\r\n            </div>\r\n            <div className=\"hidden sm:block\">\r\n              <svg className=\"h-5 w-5 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M17 8l4 4m0 0l-4 4m4-4H3\" />\r\n              </svg>\r\n            </div>\r\n            <div>\r\n              <p className=\"text-xs font-medium text-gray-500 uppercase tracking-wide\">Estimated Completion</p>\r\n              <p className=\"mt-1 text-sm font-medium text-gray-900\">{formatDate(plan.endDate)}</p>\r\n            </div>\r\n          </div>\r\n          \r\n          <div className=\"flex items-center gap-2\">\r\n            <span className=\"text-sm text-gray-500\">{plan.config.hoursPerDay} hrs/day</span>\r\n            <span className=\"text-gray-300\"></span>\r\n            <span className=\"text-sm text-gray-500\">{plan.sourceDocuments.length} document{plan.sourceDocuments.length !== 1 ? 's' : ''}</span>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Progress Bar */}\r\n        <div className=\"mt-6\">\r\n          <div className=\"flex items-center justify-between mb-2\">\r\n            <span className=\"text-sm font-medium text-gray-700\">Overall Progress</span>\r\n            <span className=\"text-sm text-gray-500\">{progressPercentage}% complete</span>\r\n          </div>\r\n          <div className=\"h-3 w-full rounded-full bg-gray-200\">\r\n            <div\r\n              className=\"h-3 rounded-full bg-gradient-to-r from-blue-500 to-purple-500 transition-all duration-500\"\r\n              style={{ width: `${progressPercentage}%` }}\r\n            />\r\n          </div>\r\n          <p className=\"mt-2 text-xs text-gray-500\">\r\n            {plan.completedDays} of {plan.totalDays} days completed\r\n          </p>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Key Milestones */}\r\n      <div className=\"rounded-lg border border-gray-200 bg-white p-6 shadow-sm\">\r\n        <div className=\"flex items-center justify-between mb-4\">\r\n          <h3 className=\"text-lg font-semibold text-gray-900\">Key Milestones</h3>\r\n          <span className=\"rounded-full bg-blue-100 px-2 py-1 text-xs font-medium text-blue-700\">\r\n            {plan.milestones.filter(m => m.isCompleted).length}/{plan.milestones.length} completed\r\n          </span>\r\n        </div>\r\n        \r\n        <div className=\"space-y-0\">\r\n          {plan.milestones.map((milestone, index) => (\r\n            <MilestoneItem\r\n              key={milestone.id}\r\n              milestone={milestone}\r\n              isLast={index === plan.milestones.length - 1}\r\n              currentDay={currentDay}\r\n            />\r\n          ))}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","\"use client\";\r\n\r\nimport { useState, useMemo, useCallback } from 'react';\r\nimport { DailyPlan, Milestone } from './mockLearningPlanGenerator';\r\n\r\nexport interface LearningPlanTimelineProps {\r\n  dailyPlans: DailyPlan[];\r\n  milestones: Milestone[];\r\n  startDate: string;\r\n  onDayClick?: (day: DailyPlan) => void;\r\n  selectedDayId?: string | null;\r\n}\r\n\r\ninterface CalendarDay {\r\n  date: Date;\r\n  dayNumber: number;\r\n  isCurrentMonth: boolean;\r\n  dailyPlan?: DailyPlan;\r\n  milestone?: Milestone;\r\n  isToday: boolean;\r\n}\r\n\r\nfunction getWeeksForMonth(year: number, month: number, dailyPlans: DailyPlan[], milestones: Milestone[]): CalendarDay[][] {\r\n  const firstDayOfMonth = new Date(year, month, 1);\r\n  const lastDayOfMonth = new Date(year, month + 1, 0);\r\n  const today = new Date();\r\n  today.setHours(0, 0, 0, 0);\r\n  \r\n  // Create a map of dates to daily plans\r\n  const plansByDate = new Map<string, DailyPlan>();\r\n  dailyPlans.forEach(plan => {\r\n    plansByDate.set(plan.date, plan);\r\n  });\r\n  \r\n  // Create a map of day numbers to milestones\r\n  const milestonesByDay = new Map<number, Milestone>();\r\n  milestones.forEach(milestone => {\r\n    milestonesByDay.set(milestone.targetDay, milestone);\r\n  });\r\n  \r\n  const weeks: CalendarDay[][] = [];\r\n  let currentWeek: CalendarDay[] = [];\r\n  \r\n  // Add padding days from previous month\r\n  const startDayOfWeek = firstDayOfMonth.getDay();\r\n  for (let i = 0; i < startDayOfWeek; i++) {\r\n    const date = new Date(year, month, -startDayOfWeek + i + 1);\r\n    currentWeek.push({\r\n      date,\r\n      dayNumber: 0,\r\n      isCurrentMonth: false,\r\n      isToday: false,\r\n    });\r\n  }\r\n  \r\n  // Add days of current month\r\n  for (let day = 1; day <= lastDayOfMonth.getDate(); day++) {\r\n    const date = new Date(year, month, day);\r\n    const dateStr = date.toISOString().split('T')[0] ?? '';\r\n    const dailyPlan = plansByDate.get(dateStr);\r\n    const milestone = dailyPlan ? milestonesByDay.get(dailyPlan.dayNumber) : undefined;\r\n    \r\n    currentWeek.push({\r\n      date,\r\n      dayNumber: day,\r\n      isCurrentMonth: true,\r\n      dailyPlan,\r\n      milestone,\r\n      isToday: date.getTime() === today.getTime(),\r\n    });\r\n    \r\n    if (currentWeek.length === 7) {\r\n      weeks.push(currentWeek);\r\n      currentWeek = [];\r\n    }\r\n  }\r\n  \r\n  // Add padding days from next month\r\n  if (currentWeek.length > 0) {\r\n    const remainingDays = 7 - currentWeek.length;\r\n    for (let i = 1; i <= remainingDays; i++) {\r\n      const date = new Date(year, month + 1, i);\r\n      currentWeek.push({\r\n        date,\r\n        dayNumber: 0,\r\n        isCurrentMonth: false,\r\n        isToday: false,\r\n      });\r\n    }\r\n    weeks.push(currentWeek);\r\n  }\r\n  \r\n  return weeks;\r\n}\r\n\r\nfunction DayCell({\r\n  calendarDay,\r\n  isSelected,\r\n  onClick,\r\n}: {\r\n  calendarDay: CalendarDay;\r\n  isSelected: boolean;\r\n  onClick?: () => void;\r\n}) {\r\n  const { date, isCurrentMonth, dailyPlan, milestone, isToday } = calendarDay;\r\n  const hasContent = !!dailyPlan;\r\n  const isRestDay = dailyPlan?.isRestDay ?? false;\r\n  const isCompleted = dailyPlan?.isCompleted ?? false;\r\n  const hasMilestone = !!milestone;\r\n  \r\n  const handleClick = useCallback(() => {\r\n    if (hasContent && onClick) {\r\n      onClick();\r\n    }\r\n  }, [hasContent, onClick]);\r\n\r\n  const handleKeyDown = useCallback((e: React.KeyboardEvent) => {\r\n    if ((e.key === 'Enter' || e.key === ' ') && hasContent && onClick) {\r\n      e.preventDefault();\r\n      onClick();\r\n    }\r\n  }, [hasContent, onClick]);\r\n  \r\n  return (\r\n    <div\r\n      role={hasContent ? \"button\" : undefined}\r\n      tabIndex={hasContent ? 0 : -1}\r\n      onClick={handleClick}\r\n      onKeyDown={handleKeyDown}\r\n      className={`\r\n        relative min-h-[80px] p-1 border-b border-r border-gray-200\r\n        ${!isCurrentMonth ? 'bg-gray-50' : 'bg-white'}\r\n        ${hasContent ? 'cursor-pointer hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-blue-500' : ''}\r\n        ${isSelected ? 'ring-2 ring-inset ring-blue-500 bg-blue-50' : ''}\r\n        transition-colors\r\n      `}\r\n      aria-label={hasContent ? `Day ${dailyPlan?.dayNumber}: ${isRestDay ? 'Rest day' : 'Study day'}${hasMilestone ? `, Milestone: ${milestone?.title}` : ''}` : undefined}\r\n    >\r\n      {/* Date number */}\r\n      <div className={`\r\n        flex items-center justify-center w-7 h-7 text-sm font-medium rounded-full\r\n        ${isToday ? 'bg-blue-600 text-white' : ''}\r\n        ${!isToday && !isCurrentMonth ? 'text-gray-400' : ''}\r\n        ${!isToday && isCurrentMonth ? 'text-gray-900' : ''}\r\n      `}>\r\n        {date.getDate()}\r\n      </div>\r\n      \r\n      {/* Day content indicators */}\r\n      {hasContent && (\r\n        <div className=\"mt-1 space-y-1\">\r\n          {/* Study/Rest day indicator */}\r\n          <div className={`\r\n            flex items-center gap-1 px-1.5 py-0.5 rounded text-xs font-medium\r\n            ${isRestDay \r\n              ? 'bg-amber-100 text-amber-700' \r\n              : isCompleted \r\n                ? 'bg-green-100 text-green-700'\r\n                : 'bg-blue-100 text-blue-700'\r\n            }\r\n          `}>\r\n            {isRestDay ? (\r\n              <>\r\n                <svg className=\"w-3 h-3\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z\" />\r\n                </svg>\r\n                <span className=\"hidden sm:inline\">Rest</span>\r\n              </>\r\n            ) : isCompleted ? (\r\n              <>\r\n                <svg className=\"w-3 h-3\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5 13l4 4L19 7\" />\r\n                </svg>\r\n                <span className=\"hidden sm:inline\">Done</span>\r\n              </>\r\n            ) : (\r\n              <>\r\n                <svg className=\"w-3 h-3\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253\" />\r\n                </svg>\r\n                <span className=\"hidden sm:inline\">Study</span>\r\n              </>\r\n            )}\r\n          </div>\r\n          \r\n          {/* Milestone indicator */}\r\n          {hasMilestone && (\r\n            <div className=\"flex items-center gap-1 px-1.5 py-0.5 rounded text-xs font-medium bg-purple-100 text-purple-700\">\r\n              <svg className=\"w-3 h-3\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z\" />\r\n              </svg>\r\n              <span className=\"hidden sm:inline truncate\">{milestone?.title}</span>\r\n            </div>\r\n          )}\r\n          \r\n          {/* Day number badge */}\r\n          <div className=\"absolute bottom-1 right-1 text-[10px] text-gray-400 font-medium\">\r\n            D{dailyPlan?.dayNumber}\r\n          </div>\r\n        </div>\r\n      )}\r\n      \r\n      {/* Today marker ring */}\r\n      {isToday && (\r\n        <div className=\"absolute inset-0 border-2 border-blue-500 pointer-events-none\" />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport function LearningPlanTimeline({\r\n  dailyPlans,\r\n  milestones,\r\n  startDate,\r\n  onDayClick,\r\n  selectedDayId,\r\n}: LearningPlanTimelineProps) {\r\n  // Parse start date and determine initial month to display\r\n  const initialDate = useMemo(() => new Date(startDate), [startDate]);\r\n  const [currentMonth, setCurrentMonth] = useState(initialDate.getMonth());\r\n  const [currentYear, setCurrentYear] = useState(initialDate.getFullYear());\r\n  \r\n  // Calculate the date range of the plan\r\n  const dateRange = useMemo(() => {\r\n    if (dailyPlans.length === 0) return { start: new Date(), end: new Date() };\r\n    const start = new Date(dailyPlans[0]?.date ?? startDate);\r\n    const end = new Date(dailyPlans[dailyPlans.length - 1]?.date ?? startDate);\r\n    return { start, end };\r\n  }, [dailyPlans, startDate]);\r\n  \r\n  // Generate calendar weeks for current month\r\n  const weeks = useMemo(() => {\r\n    return getWeeksForMonth(currentYear, currentMonth, dailyPlans, milestones);\r\n  }, [currentYear, currentMonth, dailyPlans, milestones]);\r\n  \r\n  // Navigation handlers\r\n  const goToPreviousMonth = useCallback(() => {\r\n    if (currentMonth === 0) {\r\n      setCurrentMonth(11);\r\n      setCurrentYear(prev => prev - 1);\r\n    } else {\r\n      setCurrentMonth(prev => prev - 1);\r\n    }\r\n  }, [currentMonth]);\r\n  \r\n  const goToNextMonth = useCallback(() => {\r\n    if (currentMonth === 11) {\r\n      setCurrentMonth(0);\r\n      setCurrentYear(prev => prev + 1);\r\n    } else {\r\n      setCurrentMonth(prev => prev + 1);\r\n    }\r\n  }, [currentMonth]);\r\n  \r\n  const goToToday = useCallback(() => {\r\n    const today = new Date();\r\n    setCurrentMonth(today.getMonth());\r\n    setCurrentYear(today.getFullYear());\r\n  }, []);\r\n  \r\n  // Format month/year for display\r\n  const monthYearLabel = useMemo(() => {\r\n    const date = new Date(currentYear, currentMonth);\r\n    return date.toLocaleDateString('en-US', { month: 'long', year: 'numeric' });\r\n  }, [currentYear, currentMonth]);\r\n  \r\n  // Check if we can navigate (within plan date range with some buffer)\r\n  const canGoPrevious = useMemo(() => {\r\n    const prevMonth = new Date(currentYear, currentMonth - 1);\r\n    const bufferStart = new Date(dateRange.start);\r\n    bufferStart.setMonth(bufferStart.getMonth() - 1);\r\n    return prevMonth >= bufferStart;\r\n  }, [currentYear, currentMonth, dateRange.start]);\r\n  \r\n  const canGoNext = useMemo(() => {\r\n    const nextMonth = new Date(currentYear, currentMonth + 1);\r\n    const bufferEnd = new Date(dateRange.end);\r\n    bufferEnd.setMonth(bufferEnd.getMonth() + 1);\r\n    return nextMonth <= bufferEnd;\r\n  }, [currentYear, currentMonth, dateRange.end]);\r\n  \r\n  const weekDays = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];\r\n  \r\n  return (\r\n    <div className=\"rounded-lg border border-gray-200 bg-white shadow-sm\">\r\n      {/* Calendar Header */}\r\n      <div className=\"flex items-center justify-between border-b border-gray-200 px-4 py-3\">\r\n        <h3 className=\"text-lg font-semibold text-gray-900\">Timeline</h3>\r\n        <div className=\"flex items-center gap-2\">\r\n          <button\r\n            onClick={goToToday}\r\n            className=\"rounded-lg border border-gray-300 bg-white px-3 py-1.5 text-sm font-medium text-gray-700 hover:bg-gray-50 transition-colors\"\r\n          >\r\n            Today\r\n          </button>\r\n          <div className=\"flex items-center gap-1\">\r\n            <button\r\n              onClick={goToPreviousMonth}\r\n              disabled={!canGoPrevious}\r\n              className=\"rounded-lg p-1.5 text-gray-600 hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors\"\r\n              aria-label=\"Previous month\"\r\n            >\r\n              <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 19l-7-7 7-7\" />\r\n              </svg>\r\n            </button>\r\n            <span className=\"min-w-[140px] text-center text-sm font-medium text-gray-900\">\r\n              {monthYearLabel}\r\n            </span>\r\n            <button\r\n              onClick={goToNextMonth}\r\n              disabled={!canGoNext}\r\n              className=\"rounded-lg p-1.5 text-gray-600 hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors\"\r\n              aria-label=\"Next month\"\r\n            >\r\n              <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 5l7 7-7 7\" />\r\n              </svg>\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      \r\n      {/* Legend */}\r\n      <div className=\"flex flex-wrap items-center gap-4 border-b border-gray-200 px-4 py-2 bg-gray-50\">\r\n        <div className=\"flex items-center gap-1.5 text-xs text-gray-600\">\r\n          <div className=\"w-3 h-3 rounded bg-blue-100 border border-blue-200\" />\r\n          <span>Study Day</span>\r\n        </div>\r\n        <div className=\"flex items-center gap-1.5 text-xs text-gray-600\">\r\n          <div className=\"w-3 h-3 rounded bg-amber-100 border border-amber-200\" />\r\n          <span>Rest Day</span>\r\n        </div>\r\n        <div className=\"flex items-center gap-1.5 text-xs text-gray-600\">\r\n          <div className=\"w-3 h-3 rounded bg-green-100 border border-green-200\" />\r\n          <span>Completed</span>\r\n        </div>\r\n        <div className=\"flex items-center gap-1.5 text-xs text-gray-600\">\r\n          <div className=\"w-3 h-3 rounded bg-purple-100 border border-purple-200\" />\r\n          <span>Milestone</span>\r\n        </div>\r\n        <div className=\"flex items-center gap-1.5 text-xs text-gray-600\">\r\n          <div className=\"w-3 h-3 rounded-full bg-blue-600\" />\r\n          <span>Today</span>\r\n        </div>\r\n      </div>\r\n      \r\n      {/* Calendar Grid */}\r\n      <div className=\"overflow-x-auto\">\r\n        <div className=\"min-w-[600px]\">\r\n          {/* Week day headers */}\r\n          <div className=\"grid grid-cols-7 border-b border-gray-200\">\r\n            {weekDays.map(day => (\r\n              <div\r\n                key={day}\r\n                className=\"py-2 text-center text-xs font-semibold text-gray-600 uppercase tracking-wide bg-gray-50\"\r\n              >\r\n                {day}\r\n              </div>\r\n            ))}\r\n          </div>\r\n          \r\n          {/* Calendar weeks */}\r\n          <div>\r\n            {weeks.map((week, weekIndex) => (\r\n              <div key={weekIndex} className=\"grid grid-cols-7\">\r\n                {week.map((calendarDay, dayIndex) => (\r\n                  <DayCell\r\n                    key={`${weekIndex}-${dayIndex}`}\r\n                    calendarDay={calendarDay}\r\n                    isSelected={calendarDay.dailyPlan?.id === selectedDayId}\r\n                    onClick={calendarDay.dailyPlan ? () => onDayClick?.(calendarDay.dailyPlan!) : undefined}\r\n                  />\r\n                ))}\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      </div>\r\n      \r\n      {/* Summary Footer */}\r\n      <div className=\"flex items-center justify-between border-t border-gray-200 px-4 py-3 bg-gray-50\">\r\n        <div className=\"text-sm text-gray-600\">\r\n          <span className=\"font-medium\">{dailyPlans.filter(d => !d.isRestDay).length}</span> study days,{' '}\r\n          <span className=\"font-medium\">{dailyPlans.filter(d => d.isRestDay).length}</span> rest days\r\n        </div>\r\n        <div className=\"text-sm text-gray-600\">\r\n          <span className=\"font-medium\">{dailyPlans.filter(d => d.isCompleted).length}</span> of{' '}\r\n          <span className=\"font-medium\">{dailyPlans.length}</span> days completed\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","\"use client\";\r\n\r\nimport { useState, useCallback } from 'react';\r\nimport { DailyPlan } from './mockLearningPlanGenerator';\r\n\r\nexport interface DailyBreakdownPanelProps {\r\n  day: DailyPlan;\r\n  onClose?: () => void;\r\n  onCompletionChange?: (dayId: string, isCompleted: boolean) => void;\r\n  onNotesChange?: (dayId: string, notes: string) => void;\r\n}\r\n\r\ninterface TopicWithTime {\r\n  name: string;\r\n  estimatedMinutes: number;\r\n}\r\n\r\nfunction getTopicsWithTime(topics: string[], totalMinutes: number): TopicWithTime[] {\r\n  if (topics.length === 0) return [];\r\n  const minutesPerTopic = Math.floor(totalMinutes / topics.length);\r\n  const remainder = totalMinutes % topics.length;\r\n  \r\n  return topics.map((topic, index) => ({\r\n    name: topic,\r\n    estimatedMinutes: minutesPerTopic + (index < remainder ? 1 : 0),\r\n  }));\r\n}\r\n\r\nfunction formatTime(minutes: number): string {\r\n  if (minutes < 60) {\r\n    return `${minutes}m`;\r\n  }\r\n  const hours = Math.floor(minutes / 60);\r\n  const mins = minutes % 60;\r\n  return mins > 0 ? `${hours}h ${mins}m` : `${hours}h`;\r\n}\r\n\r\nexport function DailyBreakdownPanel({\r\n  day,\r\n  onClose,\r\n  onCompletionChange,\r\n  onNotesChange,\r\n}: DailyBreakdownPanelProps) {\r\n  const [notes, setNotes] = useState(day.notes || '');\r\n  const [isCompleted, setIsCompleted] = useState(day.isCompleted);\r\n  const [isEditingNotes, setIsEditingNotes] = useState(false);\r\n\r\n  const handleCompletionToggle = useCallback(() => {\r\n    const newValue = !isCompleted;\r\n    setIsCompleted(newValue);\r\n    onCompletionChange?.(day.id, newValue);\r\n  }, [isCompleted, day.id, onCompletionChange]);\r\n\r\n  const handleNotesChange = useCallback((e: React.ChangeEvent<HTMLTextAreaElement>) => {\r\n    setNotes(e.target.value);\r\n  }, []);\r\n\r\n  const handleNotesSave = useCallback(() => {\r\n    onNotesChange?.(day.id, notes);\r\n    setIsEditingNotes(false);\r\n  }, [day.id, notes, onNotesChange]);\r\n\r\n  const handleNotesCancel = useCallback(() => {\r\n    setNotes(day.notes || '');\r\n    setIsEditingNotes(false);\r\n  }, [day.notes]);\r\n\r\n  const topicsWithTime = getTopicsWithTime(day.topics, day.estimatedMinutes);\r\n\r\n  const formattedDate = new Date(day.date).toLocaleDateString('en-US', {\r\n    weekday: 'long',\r\n    month: 'long',\r\n    day: 'numeric',\r\n    year: 'numeric',\r\n  });\r\n\r\n  return (\r\n    <div className=\"rounded-lg border border-blue-200 bg-white shadow-sm overflow-hidden\">\r\n      {/* Header */}\r\n      <div className=\"bg-gradient-to-r from-blue-50 to-purple-50 px-6 py-4 border-b border-blue-100\">\r\n        <div className=\"flex items-start justify-between\">\r\n          <div className=\"flex items-start gap-4\">\r\n            {/* Completion Checkbox */}\r\n            <button\r\n              onClick={handleCompletionToggle}\r\n              className={`mt-1 flex h-6 w-6 flex-shrink-0 items-center justify-center rounded-md border-2 transition-colors ${\r\n                isCompleted\r\n                  ? 'border-green-500 bg-green-500 text-white'\r\n                  : 'border-gray-300 bg-white hover:border-blue-400'\r\n              }`}\r\n              aria-label={isCompleted ? 'Mark as incomplete' : 'Mark as complete'}\r\n            >\r\n              {isCompleted && (\r\n                <svg className=\"h-4 w-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5 13l4 4L19 7\" />\r\n                </svg>\r\n              )}\r\n            </button>\r\n            \r\n            <div>\r\n              <div className=\"flex items-center gap-2\">\r\n                <h3 className=\"text-xl font-bold text-gray-900\">\r\n                  Day {day.dayNumber}\r\n                </h3>\r\n                <span className={`rounded-full px-2.5 py-0.5 text-xs font-medium ${\r\n                  day.isRestDay \r\n                    ? 'bg-amber-100 text-amber-700' \r\n                    : isCompleted\r\n                      ? 'bg-green-100 text-green-700'\r\n                      : 'bg-blue-100 text-blue-700'\r\n                }`}>\r\n                  {day.isRestDay ? 'Rest Day' : isCompleted ? 'Completed' : 'Study Day'}\r\n                </span>\r\n              </div>\r\n              <p className=\"text-sm text-gray-600 mt-0.5\">{formattedDate}</p>\r\n            </div>\r\n          </div>\r\n          \r\n          {onClose && (\r\n            <button\r\n              onClick={onClose}\r\n              className=\"rounded-lg p-1.5 text-gray-500 hover:bg-white/50 hover:text-gray-700 transition-colors\"\r\n              aria-label=\"Close details\"\r\n            >\r\n              <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\r\n              </svg>\r\n            </button>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Content */}\r\n      <div className=\"p-6\">\r\n        {day.isRestDay ? (\r\n          /* Rest Day Content */\r\n          <div className=\"flex items-center gap-4 rounded-lg bg-amber-50 p-4\">\r\n            <div className=\"flex h-14 w-14 items-center justify-center rounded-full bg-amber-100\">\r\n              <svg className=\"w-7 h-7 text-amber-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z\" />\r\n              </svg>\r\n            </div>\r\n            <div>\r\n              <p className=\"font-semibold text-amber-900\">Take a well-deserved break!</p>\r\n              <p className=\"text-sm text-amber-700 mt-1\">\r\n                Rest days are essential for consolidating what you&apos;ve learned. \r\n                Light review is optional but can help reinforce key concepts.\r\n              </p>\r\n            </div>\r\n          </div>\r\n        ) : (\r\n          /* Study Day Content */\r\n          <div className=\"space-y-6\">\r\n            {/* Topics Section */}\r\n            <div>\r\n              <h4 className=\"text-sm font-semibold text-gray-900 mb-3 flex items-center gap-2\">\r\n                <svg className=\"w-5 h-5 text-blue-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253\" />\r\n                </svg>\r\n                Topics to Cover\r\n              </h4>\r\n              <div className=\"space-y-2\">\r\n                {topicsWithTime.map((topic, index) => (\r\n                  <div \r\n                    key={index} \r\n                    className=\"flex items-center justify-between rounded-lg bg-gray-50 px-4 py-3 border border-gray-100\"\r\n                  >\r\n                    <div className=\"flex items-center gap-3\">\r\n                      <span className=\"flex h-6 w-6 items-center justify-center rounded-full bg-blue-100 text-xs font-medium text-blue-700\">\r\n                        {index + 1}\r\n                      </span>\r\n                      <span className=\"text-sm text-gray-800\">{topic.name}</span>\r\n                    </div>\r\n                    <span className=\"text-xs font-medium text-gray-500 bg-white px-2 py-1 rounded border border-gray-200\">\r\n                      {formatTime(topic.estimatedMinutes)}\r\n                    </span>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n              <div className=\"mt-3 flex items-center justify-end gap-2 text-sm text-gray-600\">\r\n                <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\" />\r\n                </svg>\r\n                <span>Total: <strong>{formatTime(day.estimatedMinutes)}</strong></span>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Related Materials Section */}\r\n            <div>\r\n              <h4 className=\"text-sm font-semibold text-gray-900 mb-3 flex items-center gap-2\">\r\n                <svg className=\"w-5 h-5 text-amber-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\" />\r\n                </svg>\r\n                Related Materials\r\n              </h4>\r\n              {day.materials.length > 0 ? (\r\n                <ul className=\"space-y-2\">\r\n                  {day.materials.map((material, index) => (\r\n                    <li \r\n                      key={index} \r\n                      className=\"flex items-center gap-3 text-sm text-gray-700 rounded-lg bg-amber-50 px-4 py-2.5 border border-amber-100\"\r\n                    >\r\n                      <svg className=\"w-4 h-4 text-amber-500 flex-shrink-0\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z\" />\r\n                      </svg>\r\n                      {material}\r\n                    </li>\r\n                  ))}\r\n                </ul>\r\n              ) : (\r\n                <p className=\"text-sm text-gray-500 italic\">No specific materials assigned for this day.</p>\r\n              )}\r\n            </div>\r\n\r\n            {/* Suggested Activities Section */}\r\n            <div>\r\n              <h4 className=\"text-sm font-semibold text-gray-900 mb-3 flex items-center gap-2\">\r\n                <svg className=\"w-5 h-5 text-purple-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4\" />\r\n                </svg>\r\n                Suggested Activities\r\n              </h4>\r\n              <div className=\"grid gap-2 sm:grid-cols-2\">\r\n                {day.activities.map((activity, index) => (\r\n                  <div \r\n                    key={index} \r\n                    className=\"flex items-start gap-2 rounded-lg bg-purple-50 px-3 py-2.5 border border-purple-100\"\r\n                  >\r\n                    <svg className=\"w-4 h-4 text-purple-500 mt-0.5 flex-shrink-0\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M13 10V3L4 14h7v7l9-11h-7z\" />\r\n                    </svg>\r\n                    <span className=\"text-sm text-gray-700\">{activity}</span>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* Personal Notes Section */}\r\n        <div className=\"mt-6 pt-6 border-t border-gray-200\">\r\n          <div className=\"flex items-center justify-between mb-3\">\r\n            <h4 className=\"text-sm font-semibold text-gray-900 flex items-center gap-2\">\r\n              <svg className=\"w-5 h-5 text-green-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z\" />\r\n              </svg>\r\n              Personal Notes\r\n            </h4>\r\n            {!isEditingNotes && notes && (\r\n              <button\r\n                onClick={() => setIsEditingNotes(true)}\r\n                className=\"text-xs text-blue-600 hover:text-blue-700 font-medium\"\r\n              >\r\n                Edit\r\n              </button>\r\n            )}\r\n          </div>\r\n          \r\n          {isEditingNotes ? (\r\n            <div className=\"space-y-3\">\r\n              <textarea\r\n                value={notes}\r\n                onChange={handleNotesChange}\r\n                placeholder=\"Add your personal notes, reflections, or reminders for this day...\"\r\n                className=\"w-full rounded-lg border border-gray-300 px-4 py-3 text-sm text-gray-700 placeholder-gray-400 focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200 resize-none\"\r\n                rows={4}\r\n                autoFocus\r\n              />\r\n              <div className=\"flex items-center justify-end gap-2\">\r\n                <button\r\n                  onClick={handleNotesCancel}\r\n                  className=\"rounded-lg border border-gray-300 bg-white px-3 py-1.5 text-sm font-medium text-gray-700 hover:bg-gray-50 transition-colors\"\r\n                >\r\n                  Cancel\r\n                </button>\r\n                <button\r\n                  onClick={handleNotesSave}\r\n                  className=\"rounded-lg bg-blue-600 px-3 py-1.5 text-sm font-medium text-white hover:bg-blue-700 transition-colors\"\r\n                >\r\n                  Save Notes\r\n                </button>\r\n              </div>\r\n            </div>\r\n          ) : notes ? (\r\n            <div className=\"rounded-lg bg-green-50 px-4 py-3 border border-green-100\">\r\n              <p className=\"text-sm text-gray-700 whitespace-pre-wrap\">{notes}</p>\r\n            </div>\r\n          ) : (\r\n            <button\r\n              onClick={() => setIsEditingNotes(true)}\r\n              className=\"w-full rounded-lg border-2 border-dashed border-gray-200 px-4 py-4 text-sm text-gray-500 hover:border-blue-300 hover:text-blue-600 hover:bg-blue-50/50 transition-colors\"\r\n            >\r\n              <span className=\"flex items-center justify-center gap-2\">\r\n                <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 4v16m8-8H4\" />\r\n                </svg>\r\n                Add personal notes for this day\r\n              </span>\r\n            </button>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","\"use client\";\r\n\r\nimport { useState, useCallback, useMemo } from 'react';\r\nimport { GeneratedLearningPlan, DailyPlan } from './mockLearningPlanGenerator';\r\n\r\nexport interface LearningPlanProgressTrackingProps {\r\n  plan: GeneratedLearningPlan;\r\n  onPlanUpdate?: (updatedPlan: GeneratedLearningPlan) => void;\r\n  onSave?: () => void;\r\n  onShare?: () => void;\r\n  onReset?: () => void;\r\n  onDuplicate?: () => void;\r\n  onExport?: (format: 'google-calendar' | 'ical' | 'pdf') => void;\r\n}\r\n\r\ninterface DraggableTopic {\r\n  dayId: string;\r\n  topicIndex: number;\r\n  topic: string;\r\n}\r\n\r\nfunction CircularProgress({ percentage, size = 120, strokeWidth = 10 }: { percentage: number; size?: number; strokeWidth?: number }) {\r\n  const radius = (size - strokeWidth) / 2;\r\n  const circumference = radius * 2 * Math.PI;\r\n  const offset = circumference - (percentage / 100) * circumference;\r\n\r\n  return (\r\n    <div className=\"relative\" style={{ width: size, height: size }}>\r\n      <svg className=\"transform -rotate-90\" width={size} height={size}>\r\n        <circle\r\n          className=\"text-gray-200\"\r\n          strokeWidth={strokeWidth}\r\n          stroke=\"currentColor\"\r\n          fill=\"transparent\"\r\n          r={radius}\r\n          cx={size / 2}\r\n          cy={size / 2}\r\n        />\r\n        <circle\r\n          className=\"text-blue-600 transition-all duration-500\"\r\n          strokeWidth={strokeWidth}\r\n          strokeDasharray={circumference}\r\n          strokeDashoffset={offset}\r\n          strokeLinecap=\"round\"\r\n          stroke=\"currentColor\"\r\n          fill=\"transparent\"\r\n          r={radius}\r\n          cx={size / 2}\r\n          cy={size / 2}\r\n        />\r\n      </svg>\r\n      <div className=\"absolute inset-0 flex flex-col items-center justify-center\">\r\n        <span className=\"text-2xl font-bold text-gray-900\">{percentage}%</span>\r\n        <span className=\"text-xs text-gray-500\">Complete</span>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction CompletionCalendar({ dailyPlans }: { dailyPlans: DailyPlan[] }) {\r\n  const weeks = useMemo(() => {\r\n    const result: DailyPlan[][] = [];\r\n    for (let i = 0; i < dailyPlans.length; i += 7) {\r\n      result.push(dailyPlans.slice(i, i + 7));\r\n    }\r\n    return result;\r\n  }, [dailyPlans]);\r\n\r\n  return (\r\n    <div className=\"space-y-1\">\r\n      {weeks.map((week, weekIndex) => (\r\n        <div key={weekIndex} className=\"flex gap-1\">\r\n          {week.map((day) => (\r\n            <div\r\n              key={day.id}\r\n              className={`h-6 w-6 rounded-sm flex items-center justify-center text-[10px] font-medium ${\r\n                day.isCompleted\r\n                  ? 'bg-green-500 text-white'\r\n                  : day.isRestDay\r\n                  ? 'bg-amber-100 text-amber-700'\r\n                  : 'bg-gray-100 text-gray-500'\r\n              }`}\r\n              title={`Day ${day.dayNumber}: ${day.isCompleted ? 'Completed' : day.isRestDay ? 'Rest' : 'Pending'}`}\r\n            >\r\n              {day.dayNumber}\r\n            </div>\r\n          ))}\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n\r\n\r\nfunction UpcomingTopicsPreview({ dailyPlans }: { dailyPlans: DailyPlan[] }) {\r\n  const upcomingDays = useMemo(() => {\r\n    return dailyPlans\r\n      .filter(day => !day.isCompleted && !day.isRestDay)\r\n      .slice(0, 3);\r\n  }, [dailyPlans]);\r\n\r\n  if (upcomingDays.length === 0) {\r\n    return (\r\n      <div className=\"text-center py-4 text-gray-500 text-sm\">\r\n        All study days completed! \r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-3\">\r\n      {upcomingDays.map((day) => (\r\n        <div key={day.id} className=\"rounded-lg bg-gray-50 p-3 border border-gray-100\">\r\n          <div className=\"flex items-center justify-between mb-2\">\r\n            <span className=\"text-sm font-medium text-gray-900\">Day {day.dayNumber}</span>\r\n            <span className=\"text-xs text-gray-500\">\r\n              {new Date(day.date).toLocaleDateString('en-US', { weekday: 'short', month: 'short', day: 'numeric' })}\r\n            </span>\r\n          </div>\r\n          <div className=\"space-y-1\">\r\n            {day.topics.slice(0, 2).map((topic, idx) => (\r\n              <div key={idx} className=\"flex items-center gap-2 text-xs text-gray-600\">\r\n                <div className=\"h-1.5 w-1.5 rounded-full bg-blue-500\" />\r\n                <span className=\"truncate\">{topic}</span>\r\n              </div>\r\n            ))}\r\n            {day.topics.length > 2 && (\r\n              <span className=\"text-xs text-gray-400\">+{day.topics.length - 2} more</span>\r\n            )}\r\n          </div>\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction DraggableTopicItem({\r\n  topic,\r\n  index,\r\n  dayId,\r\n  onDragStart,\r\n  onDragOver,\r\n  onDrop,\r\n  isDragging,\r\n}: {\r\n  topic: string;\r\n  index: number;\r\n  dayId: string;\r\n  onDragStart: (e: React.DragEvent, data: DraggableTopic) => void;\r\n  onDragOver: (e: React.DragEvent) => void;\r\n  onDrop: (e: React.DragEvent, targetIndex: number, targetDayId: string) => void;\r\n  isDragging: boolean;\r\n}) {\r\n  return (\r\n    <div\r\n      draggable\r\n      onDragStart={(e) => onDragStart(e, { dayId, topicIndex: index, topic })}\r\n      onDragOver={onDragOver}\r\n      onDrop={(e) => onDrop(e, index, dayId)}\r\n      className={`flex items-center gap-2 rounded-lg bg-white px-3 py-2 border border-gray-200 cursor-move hover:border-blue-300 hover:shadow-sm transition-all ${\r\n        isDragging ? 'opacity-50' : ''\r\n      }`}\r\n    >\r\n      <svg className=\"w-4 h-4 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4 8h16M4 16h16\" />\r\n      </svg>\r\n      <span className=\"text-sm text-gray-700 flex-1\">{topic}</span>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport function LearningPlanProgressTracking({\r\n  plan,\r\n  onPlanUpdate,\r\n  onSave,\r\n  onShare,\r\n  onReset,\r\n  onDuplicate,\r\n  onExport,\r\n}: LearningPlanProgressTrackingProps) {\r\n  const [draggedTopic, setDraggedTopic] = useState<DraggableTopic | null>(null);\r\n  const [editingDayId, setEditingDayId] = useState<string | null>(null);\r\n  const [editedTopics, setEditedTopics] = useState<string[]>([]);\r\n  const [showExportMenu, setShowExportMenu] = useState(false);\r\n\r\n  // Calculate progress metrics\r\n  const progressPercentage = useMemo(() => {\r\n    return Math.round((plan.completedDays / plan.totalDays) * 100);\r\n  }, [plan.completedDays, plan.totalDays]);\r\n\r\n  const studyStreak = useMemo(() => {\r\n    let streak = 0;\r\n    const sortedDays = [...plan.dailyPlans].sort((a, b) => \r\n      new Date(b.date).getTime() - new Date(a.date).getTime()\r\n    );\r\n    \r\n    for (const day of sortedDays) {\r\n      if (day.isCompleted && !day.isRestDay) {\r\n        streak++;\r\n      } else if (!day.isRestDay) {\r\n        break;\r\n      }\r\n    }\r\n    return streak;\r\n  }, [plan.dailyPlans]);\r\n\r\n  // Drag and drop handlers\r\n  const handleDragStart = useCallback((e: React.DragEvent, data: DraggableTopic) => {\r\n    setDraggedTopic(data);\r\n    e.dataTransfer.effectAllowed = 'move';\r\n  }, []);\r\n\r\n  const handleDragOver = useCallback((e: React.DragEvent) => {\r\n    e.preventDefault();\r\n    e.dataTransfer.dropEffect = 'move';\r\n  }, []);\r\n\r\n  const handleDrop = useCallback((e: React.DragEvent, targetIndex: number, targetDayId: string) => {\r\n    e.preventDefault();\r\n    if (!draggedTopic || !onPlanUpdate) return;\r\n\r\n    const updatedDailyPlans = plan.dailyPlans.map(day => {\r\n      if (day.id === draggedTopic.dayId && day.id === targetDayId) {\r\n        // Reordering within same day\r\n        const newTopics = [...day.topics];\r\n        const [removed] = newTopics.splice(draggedTopic.topicIndex, 1);\r\n        if (removed) {\r\n          newTopics.splice(targetIndex, 0, removed);\r\n        }\r\n        return { ...day, topics: newTopics };\r\n      }\r\n      return day;\r\n    });\r\n\r\n    onPlanUpdate({\r\n      ...plan,\r\n      dailyPlans: updatedDailyPlans,\r\n      updatedAt: new Date().toISOString(),\r\n    });\r\n    setDraggedTopic(null);\r\n  }, [draggedTopic, plan, onPlanUpdate]);\r\n\r\n  // Edit day's plan handlers\r\n  const handleStartEdit = useCallback((day: DailyPlan) => {\r\n    setEditingDayId(day.id);\r\n    setEditedTopics([...day.topics]);\r\n  }, []);\r\n\r\n  const handleSaveEdit = useCallback(() => {\r\n    if (!editingDayId || !onPlanUpdate) return;\r\n\r\n    const updatedDailyPlans = plan.dailyPlans.map(day =>\r\n      day.id === editingDayId ? { ...day, topics: editedTopics } : day\r\n    );\r\n\r\n    onPlanUpdate({\r\n      ...plan,\r\n      dailyPlans: updatedDailyPlans,\r\n      updatedAt: new Date().toISOString(),\r\n    });\r\n    setEditingDayId(null);\r\n    setEditedTopics([]);\r\n  }, [editingDayId, editedTopics, plan, onPlanUpdate]);\r\n\r\n  const handleCancelEdit = useCallback(() => {\r\n    setEditingDayId(null);\r\n    setEditedTopics([]);\r\n  }, []);\r\n\r\n  const handleTopicChange = useCallback((index: number, value: string) => {\r\n    setEditedTopics(prev => {\r\n      const newTopics = [...prev];\r\n      newTopics[index] = value;\r\n      return newTopics;\r\n    });\r\n  }, []);\r\n\r\n  const handleAddTopic = useCallback(() => {\r\n    setEditedTopics(prev => [...prev, '']);\r\n  }, []);\r\n\r\n  const handleRemoveTopic = useCallback((index: number) => {\r\n    setEditedTopics(prev => prev.filter((_, i) => i !== index));\r\n  }, []);\r\n\r\n  // Get next incomplete study day for editing\r\n  const nextStudyDay = useMemo(() => {\r\n    return plan.dailyPlans.find(day => !day.isCompleted && !day.isRestDay);\r\n  }, [plan.dailyPlans]);\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Progress Overview Section */}\r\n      <div className=\"rounded-lg border border-gray-200 bg-white p-6 shadow-sm\">\r\n        <h3 className=\"text-lg font-semibold text-gray-900 mb-6\">Progress Tracking</h3>\r\n        \r\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\r\n          {/* Circular Progress */}\r\n          <div className=\"flex flex-col items-center justify-center\">\r\n            <CircularProgress percentage={progressPercentage} />\r\n            <p className=\"mt-3 text-sm text-gray-600\">\r\n              {plan.completedDays} of {plan.totalDays} days\r\n            </p>\r\n          </div>\r\n\r\n          {/* Stats Cards */}\r\n          <div className=\"space-y-4\">\r\n            <div className=\"rounded-lg bg-gradient-to-r from-orange-50 to-amber-50 p-4 border border-orange-100\">\r\n              <div className=\"flex items-center gap-3\">\r\n                <div className=\"flex h-10 w-10 items-center justify-center rounded-full bg-orange-100\">\r\n                  <svg className=\"h-5 w-5 text-orange-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M17.657 18.657A8 8 0 016.343 7.343S7 9 9 10c0-2 .5-5 2.986-7C14 5 16.09 5.777 17.656 7.343A7.975 7.975 0 0120 13a7.975 7.975 0 01-2.343 5.657z\" />\r\n                  </svg>\r\n                </div>\r\n                <div>\r\n                  <p className=\"text-2xl font-bold text-orange-700\">{studyStreak}</p>\r\n                  <p className=\"text-xs text-orange-600\">Day Streak</p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"rounded-lg bg-gradient-to-r from-green-50 to-emerald-50 p-4 border border-green-100\">\r\n              <div className=\"flex items-center gap-3\">\r\n                <div className=\"flex h-10 w-10 items-center justify-center rounded-full bg-green-100\">\r\n                  <svg className=\"h-5 w-5 text-green-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\" />\r\n                  </svg>\r\n                </div>\r\n                <div>\r\n                  <p className=\"text-2xl font-bold text-green-700\">\r\n                    {plan.dailyPlans.filter(d => d.isCompleted && !d.isRestDay).length}\r\n                  </p>\r\n                  <p className=\"text-xs text-green-600\">Study Days Done</p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Completion Calendar */}\r\n          <div>\r\n            <p className=\"text-sm font-medium text-gray-700 mb-3\">Completion Calendar</p>\r\n            <CompletionCalendar dailyPlans={plan.dailyPlans} />\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n\r\n      {/* Upcoming Topics Preview */}\r\n      <div className=\"rounded-lg border border-gray-200 bg-white p-6 shadow-sm\">\r\n        <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Upcoming Topics</h3>\r\n        <UpcomingTopicsPreview dailyPlans={plan.dailyPlans} />\r\n      </div>\r\n\r\n      {/* Drag to Reorder Topics */}\r\n      {nextStudyDay && !nextStudyDay.isRestDay && (\r\n        <div className=\"rounded-lg border border-gray-200 bg-white p-6 shadow-sm\">\r\n          <div className=\"flex items-center justify-between mb-4\">\r\n            <h3 className=\"text-lg font-semibold text-gray-900\">\r\n              Day {nextStudyDay.dayNumber} Topics\r\n            </h3>\r\n            {editingDayId === nextStudyDay.id ? (\r\n              <div className=\"flex gap-2\">\r\n                <button\r\n                  onClick={handleCancelEdit}\r\n                  className=\"rounded-lg border border-gray-300 bg-white px-3 py-1.5 text-sm font-medium text-gray-700 hover:bg-gray-50 transition-colors\"\r\n                >\r\n                  Cancel\r\n                </button>\r\n                <button\r\n                  onClick={handleSaveEdit}\r\n                  className=\"rounded-lg bg-blue-600 px-3 py-1.5 text-sm font-medium text-white hover:bg-blue-700 transition-colors\"\r\n                >\r\n                  Save Changes\r\n                </button>\r\n              </div>\r\n            ) : (\r\n              <button\r\n                onClick={() => handleStartEdit(nextStudyDay)}\r\n                className=\"flex items-center gap-1 rounded-lg border border-gray-300 bg-white px-3 py-1.5 text-sm font-medium text-gray-700 hover:bg-gray-50 transition-colors\"\r\n              >\r\n                <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z\" />\r\n                </svg>\r\n                Edit Plan\r\n              </button>\r\n            )}\r\n          </div>\r\n          \r\n          <p className=\"text-sm text-gray-500 mb-4\">\r\n            {editingDayId === nextStudyDay.id \r\n              ? 'Edit topics or drag to reorder them.'\r\n              : 'Drag topics to reorder them for this day.'}\r\n          </p>\r\n\r\n          {editingDayId === nextStudyDay.id ? (\r\n            <div className=\"space-y-2\">\r\n              {editedTopics.map((topic, index) => (\r\n                <div key={index} className=\"flex items-center gap-2\">\r\n                  <input\r\n                    type=\"text\"\r\n                    value={topic}\r\n                    onChange={(e) => handleTopicChange(index, e.target.value)}\r\n                    className=\"flex-1 rounded-lg border border-gray-300 px-3 py-2 text-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200\"\r\n                    placeholder=\"Enter topic...\"\r\n                  />\r\n                  <button\r\n                    onClick={() => handleRemoveTopic(index)}\r\n                    className=\"rounded-lg p-2 text-gray-400 hover:bg-red-50 hover:text-red-600 transition-colors\"\r\n                    aria-label=\"Remove topic\"\r\n                  >\r\n                    <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\" />\r\n                    </svg>\r\n                  </button>\r\n                </div>\r\n              ))}\r\n              <button\r\n                onClick={handleAddTopic}\r\n                className=\"w-full rounded-lg border-2 border-dashed border-gray-200 px-3 py-2 text-sm text-gray-500 hover:border-blue-300 hover:text-blue-600 transition-colors\"\r\n              >\r\n                + Add Topic\r\n              </button>\r\n            </div>\r\n          ) : (\r\n            <div className=\"space-y-2\">\r\n              {nextStudyDay.topics.map((topic, index) => (\r\n                <DraggableTopicItem\r\n                  key={`${nextStudyDay.id}-${index}`}\r\n                  topic={topic}\r\n                  index={index}\r\n                  dayId={nextStudyDay.id}\r\n                  onDragStart={handleDragStart}\r\n                  onDragOver={handleDragOver}\r\n                  onDrop={handleDrop}\r\n                  isDragging={draggedTopic?.dayId === nextStudyDay.id && draggedTopic?.topicIndex === index}\r\n                />\r\n              ))}\r\n            </div>\r\n          )}\r\n        </div>\r\n      )}\r\n\r\n      {/* Action Buttons */}\r\n      <div className=\"rounded-lg border border-gray-200 bg-white p-6 shadow-sm\">\r\n        <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Actions</h3>\r\n        \r\n        <div className=\"grid grid-cols-2 sm:grid-cols-4 gap-3\">\r\n          <button\r\n            onClick={onSave}\r\n            className=\"flex flex-col items-center gap-2 rounded-lg border border-gray-200 bg-white p-4 hover:bg-gray-50 hover:border-blue-300 transition-colors\"\r\n          >\r\n            <svg className=\"w-6 h-6 text-blue-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4\" />\r\n            </svg>\r\n            <span className=\"text-sm font-medium text-gray-700\">Save</span>\r\n          </button>\r\n\r\n          <button\r\n            onClick={onShare}\r\n            className=\"flex flex-col items-center gap-2 rounded-lg border border-gray-200 bg-white p-4 hover:bg-gray-50 hover:border-green-300 transition-colors\"\r\n          >\r\n            <svg className=\"w-6 h-6 text-green-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z\" />\r\n            </svg>\r\n            <span className=\"text-sm font-medium text-gray-700\">Share</span>\r\n          </button>\r\n\r\n          <button\r\n            onClick={onReset}\r\n            className=\"flex flex-col items-center gap-2 rounded-lg border border-gray-200 bg-white p-4 hover:bg-gray-50 hover:border-amber-300 transition-colors\"\r\n          >\r\n            <svg className=\"w-6 h-6 text-amber-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15\" />\r\n            </svg>\r\n            <span className=\"text-sm font-medium text-gray-700\">Reset</span>\r\n          </button>\r\n\r\n          <button\r\n            onClick={onDuplicate}\r\n            className=\"flex flex-col items-center gap-2 rounded-lg border border-gray-200 bg-white p-4 hover:bg-gray-50 hover:border-purple-300 transition-colors\"\r\n          >\r\n            <svg className=\"w-6 h-6 text-purple-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z\" />\r\n            </svg>\r\n            <span className=\"text-sm font-medium text-gray-700\">Duplicate</span>\r\n          </button>\r\n        </div>\r\n\r\n        {/* Export Options */}\r\n        <div className=\"mt-4 pt-4 border-t border-gray-200\">\r\n          <div className=\"relative\">\r\n            <button\r\n              onClick={() => setShowExportMenu(!showExportMenu)}\r\n              className=\"w-full flex items-center justify-center gap-2 rounded-lg border border-gray-200 bg-white px-4 py-3 text-sm font-medium text-gray-700 hover:bg-gray-50 transition-colors\"\r\n            >\r\n              <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12\" />\r\n              </svg>\r\n              Export Plan\r\n              <svg className={`w-4 h-4 transition-transform ${showExportMenu ? 'rotate-180' : ''}`} fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 9l-7 7-7-7\" />\r\n              </svg>\r\n            </button>\r\n\r\n            {showExportMenu && (\r\n              <div className=\"absolute bottom-full left-0 right-0 mb-2 rounded-lg border border-gray-200 bg-white shadow-lg overflow-hidden z-10\">\r\n                <button\r\n                  onClick={() => { onExport?.('google-calendar'); setShowExportMenu(false); }}\r\n                  className=\"w-full flex items-center gap-3 px-4 py-3 text-sm text-gray-700 hover:bg-gray-50 transition-colors\"\r\n                >\r\n                  <svg className=\"w-5 h-5 text-blue-600\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n                    <path d=\"M19.5 3h-15A1.5 1.5 0 003 4.5v15A1.5 1.5 0 004.5 21h15a1.5 1.5 0 001.5-1.5v-15A1.5 1.5 0 0019.5 3zM12 18a6 6 0 110-12 6 6 0 010 12z\"/>\r\n                  </svg>\r\n                  Google Calendar\r\n                </button>\r\n                <button\r\n                  onClick={() => { onExport?.('ical'); setShowExportMenu(false); }}\r\n                  className=\"w-full flex items-center gap-3 px-4 py-3 text-sm text-gray-700 hover:bg-gray-50 transition-colors border-t border-gray-100\"\r\n                >\r\n                  <svg className=\"w-5 h-5 text-gray-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z\" />\r\n                  </svg>\r\n                  iCal (.ics)\r\n                </button>\r\n                <button\r\n                  onClick={() => { onExport?.('pdf'); setShowExportMenu(false); }}\r\n                  className=\"w-full flex items-center gap-3 px-4 py-3 text-sm text-gray-700 hover:bg-gray-50 transition-colors border-t border-gray-100\"\r\n                >\r\n                  <svg className=\"w-5 h-5 text-red-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z\" />\r\n                  </svg>\r\n                  PDF Document\r\n                </button>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import { LearningPlanConfig, StudyDuration, StudyIntensity } from './LearningPlanConfigForm';\r\n\r\nexport interface Milestone {\r\n  id: string;\r\n  title: string;\r\n  description: string;\r\n  targetDay: number;\r\n  isCompleted: boolean;\r\n}\r\n\r\nexport interface DailyPlan {\r\n  id: string;\r\n  dayNumber: number;\r\n  date: string;\r\n  isRestDay: boolean;\r\n  isCompleted: boolean;\r\n  topics: string[];\r\n  estimatedMinutes: number;\r\n  materials: string[];\r\n  activities: string[];\r\n  notes: string;\r\n}\r\n\r\nexport interface GeneratedLearningPlan {\r\n  id: string;\r\n  title: string;\r\n  userId: string;\r\n  sourceDocuments: string[];\r\n  config: LearningPlanConfig;\r\n  totalDays: number;\r\n  totalStudyHours: number;\r\n  studyDaysCount: number;\r\n  restDaysCount: number;\r\n  startDate: string;\r\n  endDate: string;\r\n  milestones: Milestone[];\r\n  dailyPlans: DailyPlan[];\r\n  completedDays: number;\r\n  currentStreak: number;\r\n  createdAt: string;\r\n  updatedAt: string;\r\n}\r\n\r\nfunction getDurationDays(duration: StudyDuration, customDays?: number): number {\r\n  switch (duration) {\r\n    case '1-week': return 7;\r\n    case '2-weeks': return 14;\r\n    case '1-month': return 30;\r\n    case 'custom': return customDays || 14;\r\n  }\r\n}\r\n\r\nfunction getRestDayFrequency(intensity: StudyIntensity): number {\r\n  switch (intensity) {\r\n    case 'light': return 2; // Rest every 2 days\r\n    case 'moderate': return 4; // Rest every 4 days\r\n    case 'intensive': return 7; // Rest every 7 days\r\n  }\r\n}\r\n\r\nfunction addDays(dateStr: string, days: number): string {\r\n  const date = new Date(dateStr);\r\n  date.setDate(date.getDate() + days);\r\n  return date.toISOString().split('T')[0] ?? '';\r\n}\r\n\r\nfunction generateMilestones(totalDays: number): Milestone[] {\r\n  const milestones: Milestone[] = [];\r\n  const milestoneCount = Math.min(5, Math.max(3, Math.floor(totalDays / 5)));\r\n  \r\n  const milestoneTemplates = [\r\n    { title: 'Foundation Complete', description: 'Master the fundamental concepts and terminology' },\r\n    { title: 'Core Concepts Mastered', description: 'Understand and apply core principles' },\r\n    { title: 'Intermediate Progress', description: 'Connect concepts and build deeper understanding' },\r\n    { title: 'Advanced Topics', description: 'Tackle complex topics and edge cases' },\r\n    { title: 'Final Review', description: 'Comprehensive review and knowledge consolidation' },\r\n  ];\r\n\r\n  for (let i = 0; i < milestoneCount; i++) {\r\n    const targetDay = Math.floor((totalDays / milestoneCount) * (i + 1));\r\n    const template = milestoneTemplates[i] || milestoneTemplates[milestoneTemplates.length - 1];\r\n    \r\n    milestones.push({\r\n      id: `milestone-${i + 1}`,\r\n      title: template?.title ?? `Milestone ${i + 1}`,\r\n      description: template?.description ?? 'Complete this phase of learning',\r\n      targetDay,\r\n      isCompleted: false,\r\n    });\r\n  }\r\n\r\n  return milestones;\r\n}\r\n\r\nfunction generateDailyPlans(\r\n  totalDays: number,\r\n  startDate: string,\r\n  hoursPerDay: number,\r\n  intensity: StudyIntensity\r\n): DailyPlan[] {\r\n  const dailyPlans: DailyPlan[] = [];\r\n  const restFrequency = getRestDayFrequency(intensity);\r\n  \r\n  const sampleTopics = [\r\n    'Introduction and Overview',\r\n    'Key Terminology and Definitions',\r\n    'Fundamental Principles',\r\n    'Core Concepts Deep Dive',\r\n    'Practical Applications',\r\n    'Case Studies Analysis',\r\n    'Problem-Solving Techniques',\r\n    'Advanced Topics',\r\n    'Integration and Synthesis',\r\n    'Review and Practice',\r\n    'Assessment Preparation',\r\n    'Knowledge Consolidation',\r\n  ];\r\n\r\n  const sampleActivities = [\r\n    'Read chapter materials',\r\n    'Watch video explanations',\r\n    'Complete practice exercises',\r\n    'Review flashcards',\r\n    'Take practice quiz',\r\n    'Write summary notes',\r\n    'Discuss with study group',\r\n    'Apply concepts to examples',\r\n    'Create mind maps',\r\n    'Review previous topics',\r\n  ];\r\n\r\n  for (let day = 1; day <= totalDays; day++) {\r\n    const isRestDay = day % restFrequency === 0;\r\n    const date = addDays(startDate, day - 1);\r\n    \r\n    if (isRestDay) {\r\n      dailyPlans.push({\r\n        id: `day-${day}`,\r\n        dayNumber: day,\r\n        date,\r\n        isRestDay: true,\r\n        isCompleted: false,\r\n        topics: ['Rest and Review'],\r\n        estimatedMinutes: 0,\r\n        materials: [],\r\n        activities: ['Light review of previous topics', 'Rest and recharge'],\r\n        notes: '',\r\n      });\r\n    } else {\r\n      const topicIndex = (day - 1) % sampleTopics.length;\r\n      const dayTopics = [\r\n        sampleTopics[topicIndex] ?? 'Study Session',\r\n        sampleTopics[(topicIndex + 1) % sampleTopics.length] ?? 'Practice',\r\n      ];\r\n      \r\n      const dayActivities = [\r\n        sampleActivities[day % sampleActivities.length] ?? 'Study',\r\n        sampleActivities[(day + 1) % sampleActivities.length] ?? 'Review',\r\n        sampleActivities[(day + 2) % sampleActivities.length] ?? 'Practice',\r\n      ];\r\n\r\n      dailyPlans.push({\r\n        id: `day-${day}`,\r\n        dayNumber: day,\r\n        date,\r\n        isRestDay: false,\r\n        isCompleted: false,\r\n        topics: dayTopics,\r\n        estimatedMinutes: hoursPerDay * 60,\r\n        materials: ['Selected documents', 'Supplementary resources'],\r\n        activities: dayActivities,\r\n        notes: '',\r\n      });\r\n    }\r\n  }\r\n\r\n  return dailyPlans;\r\n}\r\n\r\nexport function generateMockLearningPlan(\r\n  config: LearningPlanConfig,\r\n  selectedDocumentIds: string[]\r\n): GeneratedLearningPlan {\r\n  const totalDays = getDurationDays(config.duration, config.customDays);\r\n  const restFrequency = getRestDayFrequency(config.intensity);\r\n  const restDaysCount = Math.floor(totalDays / restFrequency);\r\n  const studyDaysCount = totalDays - restDaysCount;\r\n  const totalStudyHours = studyDaysCount * config.hoursPerDay;\r\n  \r\n  const endDate = addDays(config.startDate, totalDays - 1);\r\n  \r\n  const milestones = generateMilestones(totalDays);\r\n  const dailyPlans = generateDailyPlans(\r\n    totalDays,\r\n    config.startDate,\r\n    config.hoursPerDay,\r\n    config.intensity\r\n  );\r\n\r\n  return {\r\n    id: `plan-${Date.now()}`,\r\n    title: config.learningGoals\r\n      ? `Learning Plan: ${config.learningGoals.substring(0, 50)}${config.learningGoals.length > 50 ? '...' : ''}`\r\n      : 'My Learning Plan',\r\n    userId: 'current-user',\r\n    sourceDocuments: selectedDocumentIds,\r\n    config,\r\n    totalDays,\r\n    totalStudyHours,\r\n    studyDaysCount,\r\n    restDaysCount,\r\n    startDate: config.startDate,\r\n    endDate,\r\n    milestones,\r\n    dailyPlans,\r\n    completedDays: 0,\r\n    currentStreak: 0,\r\n    createdAt: new Date().toISOString(),\r\n    updatedAt: new Date().toISOString(),\r\n  };\r\n}\r\n\r\n/**\r\n * Generates a realistic 2-week learning plan with detailed topics and activities\r\n * for a comprehensive study experience.\r\n */\r\nexport function generateRealistic2WeekPlan(\r\n  selectedDocumentIds: string[] = [],\r\n  learningGoals: string = 'Master Web Development Fundamentals'\r\n): GeneratedLearningPlan {\r\n  const today = new Date();\r\n  const startDate = today.toISOString().split('T')[0] ?? '';\r\n  \r\n  const realisticTopics = [\r\n    // Week 1\r\n    { day: 1, topics: ['HTML5 Fundamentals', 'Document Structure & Semantics'], activities: ['Read documentation', 'Build a basic webpage', 'Complete practice exercises'] },\r\n    { day: 2, topics: ['CSS3 Basics', 'Selectors and Properties'], activities: ['Style your webpage', 'Practice with Flexbox', 'Review CSS specificity'] },\r\n    { day: 3, topics: ['CSS Layout Techniques', 'Responsive Design Principles'], activities: ['Create responsive layouts', 'Use media queries', 'Test on different devices'] },\r\n    { day: 4, topics: ['JavaScript Fundamentals', 'Variables, Types, and Operators'], activities: ['Write basic scripts', 'Practice in browser console', 'Complete coding challenges'] },\r\n    { day: 5, isRest: true },\r\n    { day: 6, topics: ['JavaScript Functions', 'Scope and Closures'], activities: ['Build utility functions', 'Debug common issues', 'Review best practices'] },\r\n    { day: 7, topics: ['DOM Manipulation', 'Event Handling'], activities: ['Create interactive elements', 'Handle user input', 'Build a simple app'] },\r\n    // Week 2\r\n    { day: 8, topics: ['Modern JavaScript (ES6+)', 'Arrow Functions and Destructuring'], activities: ['Refactor old code', 'Practice new syntax', 'Review documentation'] },\r\n    { day: 9, topics: ['Asynchronous JavaScript', 'Promises and Async/Await'], activities: ['Fetch API practice', 'Handle errors gracefully', 'Build async features'] },\r\n    { day: 10, isRest: true },\r\n    { day: 11, topics: ['React Fundamentals', 'Components and JSX'], activities: ['Set up React project', 'Create first components', 'Understand component lifecycle'] },\r\n    { day: 12, topics: ['React State Management', 'Hooks Introduction'], activities: ['Use useState and useEffect', 'Build stateful components', 'Practice state patterns'] },\r\n    { day: 13, topics: ['Project Integration', 'Putting It All Together'], activities: ['Build a complete project', 'Apply all learned concepts', 'Code review and refactor'] },\r\n    { day: 14, topics: ['Final Review', 'Knowledge Assessment'], activities: ['Take practice quiz', 'Review weak areas', 'Plan next learning steps'] },\r\n  ];\r\n\r\n  const dailyPlans: DailyPlan[] = realisticTopics.map((dayData, index) => {\r\n    const date = addDays(startDate, index);\r\n    const isRestDay = dayData.isRest ?? false;\r\n    \r\n    return {\r\n      id: `day-${dayData.day}`,\r\n      dayNumber: dayData.day,\r\n      date,\r\n      isRestDay,\r\n      isCompleted: dayData.day <= 3, // First 3 days completed for demo\r\n      topics: isRestDay ? ['Rest and Review'] : (dayData.topics ?? []),\r\n      estimatedMinutes: isRestDay ? 0 : 120,\r\n      materials: isRestDay ? [] : ['Course materials', 'Documentation', 'Practice exercises'],\r\n      activities: isRestDay ? ['Light review', 'Rest and recharge'] : (dayData.activities ?? []),\r\n      notes: dayData.day === 1 ? 'Great start! Covered all basics.' : '',\r\n    };\r\n  });\r\n\r\n  const milestones: Milestone[] = [\r\n    {\r\n      id: 'milestone-1',\r\n      title: 'HTML & CSS Mastery',\r\n      description: 'Complete foundational web styling skills',\r\n      targetDay: 4,\r\n      isCompleted: true,\r\n    },\r\n    {\r\n      id: 'milestone-2',\r\n      title: 'JavaScript Fundamentals',\r\n      description: 'Master core JavaScript concepts',\r\n      targetDay: 7,\r\n      isCompleted: false,\r\n    },\r\n    {\r\n      id: 'milestone-3',\r\n      title: 'Modern JS & React Basics',\r\n      description: 'Learn modern development practices',\r\n      targetDay: 12,\r\n      isCompleted: false,\r\n    },\r\n    {\r\n      id: 'milestone-4',\r\n      title: 'Course Completion',\r\n      description: 'Complete all modules and final project',\r\n      targetDay: 14,\r\n      isCompleted: false,\r\n    },\r\n  ];\r\n\r\n  const config: LearningPlanConfig = {\r\n    duration: '2-weeks',\r\n    intensity: 'moderate',\r\n    learningGoals,\r\n    hoursPerDay: 2,\r\n    startDate,\r\n  };\r\n\r\n  return {\r\n    id: `plan-realistic-${Date.now()}`,\r\n    title: `Learning Plan: ${learningGoals}`,\r\n    userId: 'current-user',\r\n    sourceDocuments: selectedDocumentIds,\r\n    config,\r\n    totalDays: 14,\r\n    totalStudyHours: 24,\r\n    studyDaysCount: 12,\r\n    restDaysCount: 2,\r\n    startDate,\r\n    endDate: addDays(startDate, 13),\r\n    milestones,\r\n    dailyPlans,\r\n    completedDays: 3,\r\n    currentStreak: 3,\r\n    createdAt: new Date().toISOString(),\r\n    updatedAt: new Date().toISOString(),\r\n  };\r\n}\r\n"],"names":[],"mappings":"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"}