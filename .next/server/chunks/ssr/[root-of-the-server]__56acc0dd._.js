module.exports=[36313,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.HooksClientContext},18341,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.ServerInsertedHtml},35112,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactDOM},56704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},32319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},20635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},9270,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.AppRouterContext},38783,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactServerDOMTurbopackClient},23091,a=>{"use strict";var b=a.i(87924),c=a.i(72131);let d=(0,c.memo)(function({currentPage:a,totalPages:d,totalItems:e,pageSize:f,onPageChange:g,onPageSizeChange:h,pageSizeOptions:i=[20,30,50],showPageSizeSelector:j=!0}){let k=0===e?0:(a-1)*f+1,l=Math.min(a*f,e),m=(0,c.useCallback)(()=>g(a-1),[g,a]),n=(0,c.useCallback)(()=>g(a+1),[g,a]),o=(0,c.useCallback)(a=>h?.(Number(a.target.value)),[h]),p=(0,c.useMemo)(()=>{let b=[];if(d<=7)for(let a=1;a<=d;a++)b.push(a);else{b.push(1),a>3&&b.push("ellipsis");let c=Math.max(2,a-1),e=Math.min(d-1,a+1);for(let a=c;a<=e;a++)b.push(a);a<d-2&&b.push("ellipsis"),d>1&&b.push(d)}return b},[d,a]);return d<=1&&!j?null:(0,b.jsxs)("div",{className:"flex flex-col items-center justify-between gap-3 sm:gap-4 sm:flex-row",children:[(0,b.jsxs)("div",{className:"text-xs sm:text-sm text-gray-600 text-center sm:text-left",children:["Showing ",k," to ",l," of ",e," items"]}),(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row items-center gap-3 sm:gap-4 w-full sm:w-auto",children:[j&&h&&(0,b.jsxs)("div",{className:"hidden sm:flex items-center gap-2",children:[(0,b.jsx)("label",{htmlFor:"pageSize",className:"text-sm text-gray-600 whitespace-nowrap",children:"Items per page:"}),(0,b.jsx)("select",{id:"pageSize",value:f,onChange:o,className:"rounded-md border border-gray-300 px-2 py-1.5 text-sm focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500",children:i.map(a=>(0,b.jsx)("option",{value:a,children:a},a))})]}),d>1&&(0,b.jsxs)("nav",{className:"flex items-center gap-0.5 sm:gap-1","aria-label":`Pagination, page ${a} of ${d}`,children:[(0,b.jsx)("button",{onClick:m,disabled:1===a,className:"rounded-md p-2.5 sm:p-2 text-gray-600 hover:bg-gray-100 disabled:cursor-not-allowed disabled:opacity-50 disabled:hover:bg-transparent active:scale-95 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2","aria-label":`Go to previous page, page ${a-1}`,"aria-disabled":1===a,children:(0,b.jsx)("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),p.map((c,d)=>"ellipsis"===c?(0,b.jsx)("span",{className:"px-1 sm:px-2 text-gray-500","aria-hidden":"true",children:"..."},`ellipsis-${d}`):(0,b.jsx)("button",{onClick:()=>g(c),className:`min-w-[2.5rem] min-h-[2.5rem] sm:min-w-[2.5rem] sm:min-h-0 rounded-md px-2 sm:px-3 py-2 sm:py-1.5 text-sm font-medium active:scale-95 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 ${a===c?"bg-blue-600 text-white":"text-gray-600 hover:bg-gray-100"}`,"aria-current":a===c?"page":void 0,"aria-label":a===c?`Page ${c}, current page`:`Go to page ${c}`,children:c},c)),(0,b.jsx)("button",{onClick:n,disabled:a===d,className:"rounded-md p-2.5 sm:p-2 text-gray-600 hover:bg-gray-100 disabled:cursor-not-allowed disabled:opacity-50 disabled:hover:bg-transparent active:scale-95 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2","aria-label":`Go to next page, page ${a+1}`,"aria-disabled":a===d,children:(0,b.jsx)("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]})]})]})});a.s(["Pagination",0,d])},99648,11972,74423,a=>{"use strict";var b=a.i(87924),c=a.i(72131);function d({isOpen:a,parentFolderName:d,onClose:e,onCreate:f}){let[g,h]=(0,c.useState)(""),[i,j]=(0,c.useState)(null),[k,l]=(0,c.useState)(!1),m=(0,c.useRef)(null);(0,c.useEffect)(()=>{a&&(h(""),j(null),setTimeout(()=>m.current?.focus(),100))},[a]),(0,c.useEffect)(()=>{let b=b=>{"Escape"===b.key&&a&&e()};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[a,e]);let n=async a=>{a.preventDefault();let b=g.trim();if(!b)return void j("Folder name is required");if(b.includes("/")||b.includes("\\"))return void j("Folder name cannot contain slashes");l(!0),j(null);try{await f(b),e()}catch(a){j(a instanceof Error?a.message:"Failed to create folder")}finally{l(!1)}};return a?(0,b.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[(0,b.jsx)("div",{className:"absolute inset-0 bg-black/50",onClick:e,"aria-hidden":"true"}),(0,b.jsxs)("div",{role:"dialog","aria-modal":"true","aria-labelledby":"create-folder-title",className:"relative z-10 w-full max-w-md rounded-lg bg-white p-6 shadow-xl",children:[(0,b.jsx)("h2",{id:"create-folder-title",className:"text-lg font-semibold text-gray-900",children:"Create New Folder"}),d&&(0,b.jsxs)("p",{className:"mt-1 text-sm text-gray-500",children:["Creating in: ",d]}),(0,b.jsxs)("form",{onSubmit:n,className:"mt-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"folder-name",className:"block text-sm font-medium text-gray-700",children:"Folder Name"}),(0,b.jsx)("input",{ref:m,id:"folder-name",type:"text",value:g,onChange:a=>h(a.target.value),placeholder:"Enter folder name",className:"mt-1 block w-full rounded-lg border border-gray-300 px-3 py-2 text-gray-900 placeholder-gray-400 focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500",disabled:k}),i&&(0,b.jsx)("p",{className:"mt-1 text-sm text-red-600",children:i})]}),(0,b.jsxs)("div",{className:"mt-6 flex justify-end gap-3",children:[(0,b.jsx)("button",{type:"button",onClick:e,disabled:k,className:"rounded-lg border border-gray-300 px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 disabled:opacity-50",children:"Cancel"}),(0,b.jsx)("button",{type:"submit",disabled:k||!g.trim(),className:"rounded-lg bg-blue-600 px-4 py-2 text-sm font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50",children:k?"Creating...":"Create Folder"})]})]})]})]}):null}function e({isOpen:a,currentName:d,onClose:e,onRename:f}){let[g,h]=(0,c.useState)(d),[i,j]=(0,c.useState)(null),[k,l]=(0,c.useState)(!1),m=(0,c.useRef)(null);(0,c.useEffect)(()=>{a&&(h(d),j(null),setTimeout(()=>{m.current?.focus(),m.current?.select()},100))},[a,d]),(0,c.useEffect)(()=>{let b=b=>{"Escape"===b.key&&a&&e()};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[a,e]);let n=async a=>{a.preventDefault();let b=g.trim();if(!b)return void j("Folder name is required");if(b===d)return void e();if(b.includes("/")||b.includes("\\"))return void j("Folder name cannot contain slashes");l(!0),j(null);try{await f(b),e()}catch(a){j(a instanceof Error?a.message:"Failed to rename folder")}finally{l(!1)}};return a?(0,b.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[(0,b.jsx)("div",{className:"absolute inset-0 bg-black/50",onClick:e,"aria-hidden":"true"}),(0,b.jsxs)("div",{role:"dialog","aria-modal":"true","aria-labelledby":"rename-folder-title",className:"relative z-10 w-full max-w-md rounded-lg bg-white p-6 shadow-xl",children:[(0,b.jsx)("h2",{id:"rename-folder-title",className:"text-lg font-semibold text-gray-900",children:"Rename Folder"}),(0,b.jsxs)("form",{onSubmit:n,className:"mt-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"new-folder-name",className:"block text-sm font-medium text-gray-700",children:"New Name"}),(0,b.jsx)("input",{ref:m,id:"new-folder-name",type:"text",value:g,onChange:a=>h(a.target.value),placeholder:"Enter new folder name",className:"mt-1 block w-full rounded-lg border border-gray-300 px-3 py-2 text-gray-900 placeholder-gray-400 focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500",disabled:k}),i&&(0,b.jsx)("p",{className:"mt-1 text-sm text-red-600",children:i})]}),(0,b.jsxs)("div",{className:"mt-6 flex justify-end gap-3",children:[(0,b.jsx)("button",{type:"button",onClick:e,disabled:k,className:"rounded-lg border border-gray-300 px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 disabled:opacity-50",children:"Cancel"}),(0,b.jsx)("button",{type:"submit",disabled:k||!g.trim(),className:"rounded-lg bg-blue-600 px-4 py-2 text-sm font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50",children:k?"Renaming...":"Rename"})]})]})]})]}):null}function f({isOpen:a,folder:d,allFolders:e,onClose:f,onMove:g}){let[h,i]=(0,c.useState)(null),[j,k]=(0,c.useState)(null),[l,m]=(0,c.useState)(!1);(0,c.useEffect)(()=>{a&&d&&(i(d.parent_id),k(null))},[a,d]),(0,c.useEffect)(()=>{let b=b=>{"Escape"===b.key&&a&&f()};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[a,f]);let n=async a=>{if(a.preventDefault(),d){if(h===d.parent_id)return void f();m(!0),k(null);try{await g(h),f()}catch(a){k(a instanceof Error?a.message:"Failed to move folder")}finally{m(!1)}}};if(!a||!d)return null;let o=(()=>{if(!d)return[];let a=d.path;return e.filter(b=>!(b.id===d.id||b.path.startsWith(a+"/")))})();return(0,b.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[(0,b.jsx)("div",{className:"absolute inset-0 bg-black/50",onClick:f,"aria-hidden":"true"}),(0,b.jsxs)("div",{role:"dialog","aria-modal":"true","aria-labelledby":"move-folder-title",className:"relative z-10 w-full max-w-md rounded-lg bg-white p-6 shadow-xl",children:[(0,b.jsx)("h2",{id:"move-folder-title",className:"text-lg font-semibold text-gray-900",children:"Move Folder"}),(0,b.jsxs)("p",{className:"mt-1 text-sm text-gray-500",children:["Moving: ",(0,b.jsx)("span",{className:"font-medium",children:d.name})]}),(0,b.jsxs)("form",{onSubmit:n,className:"mt-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"destination-folder",className:"block text-sm font-medium text-gray-700",children:"Destination"}),(0,b.jsxs)("select",{id:"destination-folder",value:h||"",onChange:a=>i(a.target.value||null),className:"mt-1 block w-full rounded-lg border border-gray-300 px-3 py-2 text-gray-900 focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500",disabled:l,children:[(0,b.jsx)("option",{value:"",children:"Root (No parent)"}),o.map(a=>(0,b.jsx)("option",{value:a.id,children:a.path},a.id))]}),j&&(0,b.jsx)("p",{className:"mt-1 text-sm text-red-600",children:j})]}),(0,b.jsxs)("div",{className:"mt-6 flex justify-end gap-3",children:[(0,b.jsx)("button",{type:"button",onClick:f,disabled:l,className:"rounded-lg border border-gray-300 px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 disabled:opacity-50",children:"Cancel"}),(0,b.jsx)("button",{type:"submit",disabled:l,className:"rounded-lg bg-blue-600 px-4 py-2 text-sm font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50",children:l?"Moving...":"Move"})]})]})]})]})}a.s(["CreateFolderModal",()=>d],99648),a.s(["RenameFolderModal",()=>e],11972),a.s(["MoveFolderModal",()=>f],74423)},30560,a=>{a.v(a=>Promise.resolve().then(()=>a(9292)))}];

//# sourceMappingURL=%5Broot-of-the-server%5D__56acc0dd._.js.map